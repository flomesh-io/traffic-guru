"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[8457],{64167:function(e,_,a){a.d(_,{Z:function(){return c}});var t=a(66252),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"},s=a(33058);function n(e){for(var _=1;_<arguments.length;_++){var a=null!=arguments[_]?Object(arguments[_]):{},t=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),t.forEach((function(_){i(e,_,a[_])}))}return e}function i(e,_,a){return _ in e?Object.defineProperty(e,_,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[_]=a,e}var o=function(e,_){var a=n({},e,_.attrs);return(0,t.Wm)(s.Z,n({},a,{icon:r}),null)};o.displayName="FilterOutlined",o.inheritAttrs=!1;var c=o},75640:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _Users_zhangcheng_Desktop_work_flomesh_gui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(95082),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(41539),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(54747),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(40561),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(68309),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(39714),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_5__),_subscribe_index__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(934),_ant_design_icons_vue__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(39694),_ant_design_icons_vue__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(54367),_ant_design_icons_vue__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(49704),_ant_design_icons_vue__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(50320),vue__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(66252),vue__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2262),_utils_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(84722),_services_dashboard__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(47556),_services_prometheus__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(17582);__webpack_exports__.Z={name:"AutoCard",components:{SwapOutlined:_ant_design_icons_vue__WEBPACK_IMPORTED_MODULE_10__.Z,CloseOutlined:_ant_design_icons_vue__WEBPACK_IMPORTED_MODULE_11__.Z,setDashboard:_services_dashboard__WEBPACK_IMPORTED_MODULE_8__.qF,CaretRightOutlined:_ant_design_icons_vue__WEBPACK_IMPORTED_MODULE_12__.Z,LoadingOutlined:_ant_design_icons_vue__WEBPACK_IMPORTED_MODULE_13__.Z},props:["subscribes","n","pid","params","where","filters","did","isEdit","apply","kind","ver","config"],emits:["subscribeChange"],i18n:__webpack_require__(89234),setup:function setup(props,ctx){var _getCurrentInstance=(0,vue__WEBPACK_IMPORTED_MODULE_14__.FN)(),proxy=_getCurrentInstance.proxy,data=(0,vue__WEBPACK_IMPORTED_MODULE_15__.Um)({ary:[],runtime:!1,noTitle:!1,className:"",name:null,cardToolLayout:"slot",title:"",tag:null,config:{},resData:null,source:null,loading:!0}),getTitle=(0,vue__WEBPACK_IMPORTED_MODULE_14__.Fl)((function(){return proxy.$t(data.noTitle?"":data.title)})),subscribes=(0,vue__WEBPACK_IMPORTED_MODULE_14__.Fl)((function(){return props.subscribes})),ver=(0,vue__WEBPACK_IMPORTED_MODULE_14__.Fl)((function(){return props.ver})),config=(0,vue__WEBPACK_IMPORTED_MODULE_14__.Fl)((function(){return props.config}));(0,vue__WEBPACK_IMPORTED_MODULE_14__.YP)((function(){return props.n}),(function(){renderCard()})),(0,vue__WEBPACK_IMPORTED_MODULE_14__.YP)((function(){return props.where}),(function(){renderCard()})),(0,vue__WEBPACK_IMPORTED_MODULE_14__.YP)((function(){return props.ver}),(function(){renderCard()}));var toggleRuntime=function(){data.runtime=!data.runtime,data.runtime&&renderCardTimer()},renderCardTimer=function e(){var _;("custom"==data.ary[0]?reqCustomService():reqNormalService(),data.runtime)&&setTimeout((function(){e()}),(null===(_=data.config)||void 0===_?void 0:_.timer)||3e3)},getSubscribe=function e(_,a){return data.ary.length>a?e(_[data.ary[a]],++a):_},subscribeChange=function(e){ctx.emit("subscribeChange",e)},unpin=function(){"undefined"!=typeof window&&(subscribes.value.forEach((function(e,_){e==props.n&&subscribes.value.splice(_,1)})),(0,_services_dashboard__WEBPACK_IMPORTED_MODULE_8__.qF)(props.did,{subscribes:subscribes.value}).then((function(){proxy.$t&&proxy.$message.success(proxy.$t("Removed successfully"),3),ctx.emit("subscribeChange",subscribes.value)})))},serviceNormalCallback=function(e,_){ctx.emit("resp",{type:"normal",data:e}),data.loading=!1,data.resData=_?_(e):null,data.tag||(data.tag=data.config.tag),setTimeout((function(){ver.value&&ver.value&&data.resData}),10)},serviceCustomCallback=function(e,_){ctx.emit("resp",{type:"custom",data:e}),data.loading=!1,data.resData=_?_(e):null,data.tag=_subscribe_index__WEBPACK_IMPORTED_MODULE_6__.Z.baseComponents[data.config.tag.name].component,setTimeout((function(){ver.value&&ver.value&&data.resData}),10)},renderCardByNormal=function(){data.title=data.config.title,data.noTitle=data.config.noTitle,data.className=data.config.className?data.config.className:"",data.cardToolLayout=data.config.cardToolLayout?data.config.cardToolLayout:"slot",data.loading=!0,reqNormalService()},reqNormalService=function(){var e=data.config.data;data.config.service?data.config.service((0,_Users_zhangcheng_Desktop_work_flomesh_gui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,_Users_zhangcheng_Desktop_work_flomesh_gui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)({},props.params),{},{pid:props.pid,where:props.where,filters:props.filters,apply:props.apply,kind:props.kind})).then((function(_){serviceNormalCallback(_,e)})).catch((function(e){var _,a,t=null==e||null===(_=e.response)||void 0===_?void 0:_.data;t?t.error?proxy.$message.error(null===(a=t.error)||void 0===a?void 0:a.message,3):proxy.$message.error(t,3):proxy.$message.error(e.toString(),3);ctx.emit("resp",{type:"normal",error:e.toString()})})):(serviceNormalCallback(null,e),ctx.emit("resp",{type:"normal",data:{}}))},renderCardByCustom=function(){data.config&&(data.title=data.config.title,data.noTitle=data.config.noTitle,data.className=data.config.className?data.config.className:"",data.cardToolLayout=data.config.cardToolLayout?data.config.cardToolLayout:"slot",data.loading=!0,reqCustomService())},reqCustomService=function reqCustomService(){var callback=eval(data.config.data),_service=data.config.service;_service&&("clickhouse"==_service.type&&_service.clickhouseSQL||"prometheus"==_service.type&&_service.prometheusSQL||"rest"==_service.type&&_service.path)?"clickhouse"==_service.type?proxy.$request(proxy.$REST.CLICKHOUSE.QUERY(_service.clickhouseSQL),proxy.$METHOD.GET).then((function(e){serviceCustomCallback((0,_utils_util__WEBPACK_IMPORTED_MODULE_7__.Ab)(e.data),callback)})).catch((function(e){proxy.$message.error(e.toString(),3),ctx.emit("resp",{type:"custom",error:e.toString()})})):"prometheus"==_service.type?(0,_services_prometheus__WEBPACK_IMPORTED_MODULE_9__.jV)(_service.prometheusSQL,!0)((0,_Users_zhangcheng_Desktop_work_flomesh_gui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,_Users_zhangcheng_Desktop_work_flomesh_gui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)({},props.params),{},{pid:props.pid,where:props.where,filters:props.filters,apply:props.apply,kind:props.kind})).then((function(e){serviceCustomCallback(e.data,callback)})).catch((function(e){proxy.$message.error(e.toString(),3),ctx.emit("resp",{type:"custom",error:e.toString()})})):proxy.$request("http://"+_service.path,proxy.$METHOD[_service.method],JSON.parse(_service.payload)).then((function(e){serviceCustomCallback(e,callback)})).catch((function(e){proxy.$message.error(e.toString(),3),ctx.emit("resp",{type:"custom",error:e.toString()})})):(serviceCustomCallback(null,callback),ctx.emit("resp",{type:"custom",data:{}}))},renderCard=function(){data.ary=props.n.split("."),"custom"==data.ary[0]?(data.config=config.value,renderCardByCustom()):(data.config=getSubscribe(_subscribe_index__WEBPACK_IMPORTED_MODULE_6__.Z,0),renderCardByNormal())};return renderCard(),{data:data,getTitle:getTitle,getSubscribe:getSubscribe,subscribeChange:subscribeChange,toggleRuntime:toggleRuntime,unpin:unpin,renderCardByNormal:renderCardByNormal,renderCardByCustom:renderCardByCustom,renderCard:renderCard}}}},66316:function(e,_,a){a.d(_,{Z:function(){return d}});var t=a(95082),r=a(66252),s=a(3577),n={class:"handle move"},i={class:"relative toggle-card-item"},o={key:0,class:"card-span toggle-card-item"},c={key:2,class:"full height-30"},l={key:3,class:"full",style:{height:"240px"}};var u=a(75640);var d=(0,a(83744).Z)(u.Z,[["render",function(e,_,a,u,d,p){var m=(0,r.up)("a-divider"),g=(0,r.up)("CaretRightOutlined"),E=(0,r.up)("LoadingOutlined"),f=(0,r.up)("CloseOutlined"),v=(0,r.up)("a-card");return(0,r.wg)(),(0,r.j4)(v,{class:(0,s.C_)(u.data.className+("system.common.Space"==a.n?" toggle-card":" shadow-card")+(a.isEdit?" opacity-7":"")),loading:u.data.loading},(0,r.Nv)({default:(0,r.w5)((function(){var e,_;return["absolute"==u.data.cardToolLayout?((0,r.wg)(),(0,r.iD)("span",o,[(0,r.Wm)(m,{type:"vertical"}),u.data.runtime?((0,r.wg)(),(0,r.j4)(E,{key:1,onClick:u.toggleRuntime,class:"font-primary icon-menu-sm"},null,8,["onClick"])):((0,r.wg)(),(0,r.j4)(g,{key:0,onClick:u.toggleRuntime,class:"font-20 gray handle icon-menu-sm relative"},null,8,["onClick"])),a.isEdit?((0,r.wg)(),(0,r.j4)(f,{key:2,onClick:u.unpin,class:"gray handle icon-menu-sm relative",style:{right:"-10px"}},null,8,["onClick"])):(0,r.kq)("",!0)])):(0,r.kq)("",!0),"system.common.Space"!=a.n&&u.data.resData?((0,r.wg)(),(0,r.j4)((0,r.LL)(u.data.tag),(0,r.dG)({key:1,class:"card-content"},(0,t.Z)((0,t.Z)({},u.data.resData),{},{pid:a.pid,did:a.did,params:a.params,where:a.where,filters:a.filters,apply:a.apply,kind:a.kind,loading:u.data.loading})),null,16)):(0,r.kq)("",!0),"system.common.Space"==a.n?((0,r.wg)(),(0,r.iD)("div",c)):u.data.loading?((0,r.wg)(),(0,r.iD)("div",l)):(0,r.kq)("",!0),null!==(e=u.data.config)&&void 0!==e&&e.provide?((0,r.wg)(),(0,r.iD)("div",{key:4,class:(0,s.C_)(["provide",null===(_=u.data.config)||void 0===_?void 0:_.provide])},(0,s.zw)(u.data.config.provide),3)):(0,r.kq)("",!0)]})),_:2},[u.data.noTitle?void 0:{name:"title",fn:(0,r.w5)((function(){return[(0,r._)("div",n,(0,s.zw)(u.getTitle),1)]})),key:"0"},"slot"==u.data.cardToolLayout?{name:"extra",fn:(0,r.w5)((function(){return[(0,r._)("div",i,[(0,r.Wm)(m,{type:"vertical"}),u.data.runtime?((0,r.wg)(),(0,r.j4)(E,{key:1,onClick:u.toggleRuntime,class:"font-primary icon-menu-sm"},null,8,["onClick"])):((0,r.wg)(),(0,r.j4)(g,{key:0,onClick:u.toggleRuntime,class:"font-20 gray handle icon-menu-sm relative"},null,8,["onClick"])),a.isEdit?((0,r.wg)(),(0,r.j4)(f,{key:2,onClick:u.unpin,class:"gray handle icon-menu-sm relative",style:{right:"-10px"}},null,8,["onClick"])):(0,r.kq)("",!0)])]})),key:"1"}:void 0]),1032,["class","loading"])}],["__scopeId","data-v-4d39689c"]])},79566:function(e,_,a){a.d(_,{Z:function(){return o}});var t=a(66252),r={class:"flex",style:{"min-width":"550px"}},s={class:"pl-10"},n={class:"flex-item2 pr-20"};var i={name:"Timeline",components:{FieldTimeOutlined:a(13471).Z},i18n:a(89234),props:["dateVal"],data:function(){return{sqlDateMap:{0:"1 month",10:"15 day",20:"7 day",30:"3 day",40:"1 day",50:"12 hour",60:"6 hour",70:"1 hour",80:"30 minute",90:"5 minute",100:"1 second"},marks:{}}},computed:{datamarks:function(){return this.marks={0:"1"+this.$t(" Mths"),10:"15"+this.$t(" d"),20:"7"+this.$t(" d"),30:"3"+this.$t(" d"),40:"1"+this.$t(" d"),50:"12"+this.$t(" h"),60:"6"+this.$t(" h"),70:"1"+this.$t(" h"),80:"30"+this.$t(" m"),90:"5"+this.$t(" m"),100:this.$t(" Just")},this.marks}},watch:{},mounted:function(){},methods:{onDateChange:function(e){this.$emit("update:dateVal",e),this.$emit("dateChange",{value:e,from:this.sqlDateMap[e[0]],to:this.sqlDateMap[e[1]]})}}};var o=(0,a(83744).Z)(i,[["render",function(e,_,a,i,o,c){var l=(0,t.up)("FieldTimeOutlined"),u=(0,t.up)("a-slider");return(0,t.wg)(),(0,t.iD)("div",r,[(0,t._)("div",s,[(0,t.Wm)(l,{class:"FieldTimeOutlined"})]),(0,t._)("div",n,[(0,t.Wm)(u,{range:"",class:"slider-dot",onChange:c.onDateChange,"tooltip-visible":!1,marks:c.datamarks,step:null,"default-value":a.dateVal},null,8,["onChange","marks","default-value"])])])}],["__scopeId","data-v-44491d74"]])}}]);