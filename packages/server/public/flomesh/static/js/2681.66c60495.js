"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[2681],{71900:function(t,e,s){s.d(e,{Z:function(){return r}});var o=s(66252),a=s(3577);const i={class:"head-info"};var n={name:"HeadInfo",props:["title","content"]};var r=(0,s(83744).Z)(n,[["render",function(t,e,s,n,r,c){return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("span",null,(0,a.zw)(s.title),1),(0,o._)("p",null,[(0,o.Uk)((0,a.zw)(s.content),1),(0,o.WI)(t.$slots,"body",{},void 0,!0)])])}],["__scopeId","data-v-00006846"]])},72681:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var o=s(66252),a=s(3577);const i={class:"title"},n={class:"mb-3"},r={class:"card-avatar icon svg","aria-hidden":"true"},c=["xlink:href"],d={class:"meta-content"};s(57658);var l=s(35316),u=s(32076),p=s(61103),m=s(71900),h=s(69596),y=s(84722),f=s(934),k=s(33907),w=s(47556);const b=!(0,y._y)();var g={name:"Widgets",components:{HeadInfo:m.Z,PageLayout:p.Z,CardList:h.Z,InfoCircleOutlined:l.Z,BuildOutlined:u.Z},i18n:s(89234),data(){return{isEdit:!1,custom:{id:"",title:"",tag:{name:"Gauge"},service:{type:"rest",path:"",method:"GET",payload:"{}",clickhouseSQL:"",prometheusSQL:""},col:6,data:""},icons:f.Z.baseComponents,visiblePre:!1,visibleAttr:!1,visibleEdit:!1,flb:[],fsm:[],openapi:[],userWidgets:{},baseComponents:{},customComponents:[],system:[],workload:[],projects:[],loading:!0,activities:[],config:{},teams:[],isFree:b}},computed:{...(0,k.rn)("rules",["rules"]),filterBaseComponents(){return Object.keys(this.baseComponents||{}).filter((t=>this.baseComponents[t].isOpen))}},created(){this.loaddata()},methods:{showModalPre(){this.visiblePre=!0},showModalAttr(){this.visibleAttr=!0},remove(t,e,s){"custom"==("custom"==e?e:s.root)&&(0,w.eb)(s.uid).then((()=>{this.$message.success(this.$t("Deleted successfully"),3),this.loaddata()}))},preview(t,e,s){this.$router.push({path:`/system/widget/preview/${s.root}.${s.key1}.${s.key2}`})},add(){this.$router.push({path:"/system/widget/creator"})},edit(t,e,s){this.$router.push({path:"/system/widget/editor/"+s.uid})},getSubscribe(t,e,s){return t.length>s?this.getSubscribe(t,e[t[s]],++s):e},loaddata(){this.baseComponents=f.Z.baseComponents,this.system=[],Object.keys(f.Z.system).forEach((t=>{Object.keys(f.Z.system[t]).forEach((e=>{this.system.push({root:"system",key1:t,key2:e,checked:!1,...f.Z.system[t][e]})}))})),this.workload=[],Object.keys(f.Z.workload).forEach((t=>{Object.keys(f.Z.workload[t]).forEach((e=>{this.workload.push({root:"workload",key1:t,key2:e,checked:!1,...f.Z.workload[t][e]})}))})),this.flb=[],Object.keys(f.Z.flb).forEach((t=>{Object.keys(f.Z.flb[t]).forEach((e=>{this.flb.push({root:"flb",key1:t,key2:e,checked:!1,...f.Z.flb[t][e]})}))})),this.fsm=[],Object.keys(f.Z.fsm).forEach((t=>{Object.keys(f.Z.fsm[t]).forEach((e=>{this.fsm.push({root:"fsm",key1:t,key2:e,checked:!1,...f.Z.fsm[t][e]})}))})),this.openapi=[],Object.keys(f.Z.openapi).forEach((t=>{Object.keys(f.Z.openapi[t]).forEach((e=>{this.openapi.push({root:"openapi",key1:t,key2:e,checked:!1,...f.Z.openapi[t][e]})}))})),(0,w.US)().then((t=>{this.loading=!1,this.userWidgets={},t.data.forEach((t=>{this.userWidgets[t.content.id]={...t.content,uid:t.id}})),this.customComponents=[],Object.keys(this.userWidgets).forEach((t=>{this.customComponents.push({root:"custom",key1:this.userWidgets[t].tag.name,key2:t,checked:!1,...this.userWidgets[t]})}))}))}}};var v=(0,s(83744).Z)(g,[["render",function(t,e,l,u,p,m){const h=(0,o.up)("InfoCircleOutlined"),y=(0,o.up)("a-tooltip"),f=(0,o.up)("BuildOutlined"),k=(0,o.up)("HeadInfo"),w=(0,o.up)("a-card-meta"),b=(0,o.up)("CardList"),g=(0,o.up)("a-tab-pane"),v=(0,o.up)("a-tabs"),$=(0,o.up)("PageLayout"),C=(0,o.Q2)("permission");return(0,o.wg)(),(0,o.j4)($,{avatar:s(2245)},{headerContent:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("div",i,(0,a.zw)(t.$t("Personalized platform")),1),(0,o._)("div",null,(0,a.zw)(t.$t("You can refer to native widgets and customize your preferred widgets")),1)])])),extra:(0,o.w5)((()=>[(0,o.Wm)(y,{title:t.$t("More basic widget types are under continuous development")},{action:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"info-circle"})])),_:1},8,["title"]),(0,o.wy)(((0,o.wg)(),(0,o.j4)(k,{class:"split-right",title:t.$t("Custom widgets")},{body:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(f,{onClick:m.add,class:"font-primary icon-menu rotate-icon"},null,8,["onClick"])])])),_:1},8,["title"])),[[C,["widget:create"]]])])),default:(0,o.w5)((()=>[(0,o.Wm)(v,{type:"card"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(p.isFree?[{data:p.system,title:t.$t("Common"),type:"component"},{data:p.workload,title:t.$t("Workload"),type:"component"},{data:p.fsm,title:t.$t("FSM"),type:"component"},{data:p.customComponents,title:t.$t("Custom"),type:"custom"}]:[{data:p.system,title:t.$t("Common"),type:"component"},{data:p.workload,title:t.$t("Workload"),type:"component"},{data:p.flb,title:t.$t("FLB"),type:"component"},{data:p.fsm,title:t.$t("FSM"),type:"component"},{data:p.openapi,title:t.$t("Open API"),type:"component"},{data:p.customComponents,title:t.$t("Custom"),type:"custom"}],((e,s)=>((0,o.wg)(),(0,o.j4)(g,{key:s,tab:e.title},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{"hide-action-title":!0,"data-source":e.data.filter((t=>-1!=t.col)),loading:p.loading,type:"component",actions:"custom"==e.type?[{icon:"EditOutlined",text:t.$t("edit"),call:m.edit,permission:["widget:update"]},{icon:"DeleteOutlined",text:t.$t("delete"),call:m.remove,permission:["widget:delete"]}]:[{icon:"SearchOutlined",text:t.$t("Preview"),call:m.preview}]},{default:(0,o.w5)((({item:e})=>[(0,o.Wm)(w,null,{title:(0,o.w5)((()=>[(0,o._)("div",n,(0,a.zw)(t.$t(e.title)),1)])),avatar:(0,o.w5)((()=>[((0,o.wg)(),(0,o.iD)("svg",r,[(0,o._)("use",{"xlink:href":"#"+p.icons[e.tag.name]?.icon},null,8,c)]))])),description:(0,o.w5)((()=>[(0,o._)("div",d,(0,a.zw)(t.$t("Widget type"))+"ï¼š"+(0,a.zw)(e.tag.name),1)])),_:2},1024)])),_:2},1032,["data-source","loading","actions"])])),_:2},1032,["tab"])))),128))])),_:1})])),_:1},8,["avatar"])}],["__scopeId","data-v-04cfb439"]])},2245:function(t,e,s){t.exports=s.p+"static/img/component.99296484.png"}}]);