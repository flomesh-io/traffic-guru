"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[5638],{71900:function(t,e,a){a.d(e,{Z:function(){return o}});var l=a(66252),n=a(3577);const s={class:"head-info"};var i={name:"HeadInfo",props:["title","content"]};var o=(0,a(83744).Z)(i,[["render",function(t,e,a,i,o,r){return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("span",null,(0,n.zw)(a.title),1),(0,l._)("p",null,[(0,l.Uk)((0,n.zw)(a.content),1),(0,l.WI)(t.$slots,"body",{},void 0,!0)])])}],["__scopeId","data-v-00006846"]])},65638:function(t,e,a){a.r(e),a.d(e,{default:function(){return R}});var l=a(66252),n=a(3577),s=a(49963);const i=t=>((0,l.dD)("data-v-6569b4d9"),t=t(),(0,l.Cn)(),t),o={class:"search-input"},r={class:"form-row"},u={class:"content flex"},d={class:"flex-item"},c={class:"label"},p=i((()=>(0,l._)("em",null," ~ ",-1))),w={class:"label"},h=["onClick"],m={class:"flex-item font-right"},_={class:"inline-block width-120"},f={class:"font-right"},v=["onClick"],g=["onClick"],k=["onClick"],y={key:0},$={class:"content"},z={class:"flex"},C={class:"flex-item"},W={key:0},b={key:0},D={key:1},T={key:1},U=i((()=>(0,l._)("span",null," - ",-1))),S=i((()=>(0,l._)("b",null,"Header",-1))),x=i((()=>(0,l._)("b",null,"Payload",-1))),B={class:"flex-item"},H=i((()=>(0,l._)("b",null,"Test Report",-1))),Y=i((()=>(0,l._)("b",null,"QPS",-1))),Z=i((()=>(0,l._)("b",null,"Timeout",-1)));a(57658);var j=a(71900),A=a(50320),O=a(87849),L=a(13471),M=a(2692),P=a(99684),q=a(33907),I=a(61103),N={name:"TestcaseList",i18n:a(89234),components:{LoadingOutlined:A.Z,DownOutlined:O.Z,PageLayout:I.Z,FieldTimeOutlined:L.Z,MoreOutlined:M.Z,PlusCircleTwoTone:P.Z,HeadInfo:j.Z},data(){return{date:"",log:"{}",arrow:"desc",visible:!1,endDate:"",sortBy:{label:"Creation Timestamp",value:"createdAt"},prefix:" ",key:"",loading:!0,pageNo:1,pageSize:10,total:0,select_keys:[{label:"Creation Timestamp",value:"createdAt"},{label:"as",value:"name"}],testcases:[]}},computed:{...(0,q.rn)("setting",["layout","pageWidth"]),start(){return(this.pageNo-1)*this.pageSize}},created(){this.search()},methods:{remove(t){this.$gql.mutation(`deleteTestcase(id:${t}){data{id}}`).then((()=>{this.$message.success(this.$t("Deleted successfully"),3),this.search()}))},orderBy(t,e){this.sortBy=t,this.arrow=e,this.search()},search(t){this.pageNo=t||1,this.loading=!0;let e={name:{contains:this.key}};this.endDate&&(e.updatedAt={lte:this.endDate}),this.date&&(e.createdAt={gte:this.date}),this.$gql.query(`testcases(sort: "${this.sortBy.value}:${this.arrow}", filters: $filters, pagination:{ start: ${this.start}, limit: ${this.pageSize}}){\n\t\t\t\t\t\tdata{id,attributes{name,testresults{data{id,attributes{status,updatedAt}}},content,createdAt,updatedAt}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}`,{filters:e},{filters:"TestcaseFiltersInput"}).then((t=>{this.testcases=t.data,this.total=t.pagination.total,this.loading=!1}))},add(){this.$router.push({path:"/inspector/testcase/create"})},detail(t){this.$router.push({path:"/inspector/testcase/detail/"+t})},edit(t){this.$router.push({path:"/inspector/testcase/edit/"+t})},onClose(){this.visible=!1}}};var R=(0,a(83744).Z)(N,[["render",function(t,e,a,i,j,A){const O=(0,l.up)("a-input-search"),L=(0,l.up)("a-date-picker"),M=(0,l.up)("a-form-item"),P=(0,l.up)("DownOutlined"),q=(0,l.up)("a-menu-item"),I=(0,l.up)("a-menu"),N=(0,l.up)("a-dropdown"),R=(0,l.up)("PlusCircleTwoTone"),F=(0,l.up)("HeadInfo"),K=(0,l.up)("a-form"),Q=(0,l.up)("a-card"),E=(0,l.up)("a-popconfirm"),J=(0,l.up)("MoreOutlined"),V=(0,l.up)("a-tag"),G=(0,l.up)("a-list-item-meta"),X=(0,l.up)("LoadingOutlined"),tt=(0,l.up)("a-badge"),et=(0,l.up)("FieldTimeOutlined"),at=(0,l.up)("a-list-item"),lt=(0,l.up)("a-list"),nt=(0,l.up)("PageLayout");return(0,l.wg)(),(0,l.j4)(nt,{title:t.$t("Test Cases"),"hide-breadcrumb":!0},{headerContent:(0,l.w5)((()=>[(0,l._)("div",{class:(0,n.C_)(["search-head",t.layout,t.pageWidth])},[(0,l._)("div",o,[(0,l.Wm)(O,{value:j.key,"onUpdate:value":e[0]||(e[0]=t=>j.key=t),class:"search-ipt",onSearch:e[1]||(e[1]=t=>A.search()),placeholder:t.$t("Please input")+"...",size:"large"},null,8,["value","placeholder"])]),(0,l.Wm)(Q,{bordered:!1,class:"search-form"},{default:(0,l.w5)((()=>[(0,l.Wm)(K,null,{default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l._)("div",u,[(0,l._)("div",d,[(0,l.Wm)(M,null,{default:(0,l.w5)((()=>[(0,l._)("span",c,[(0,l._)("span",null,(0,n.zw)(t.$t("Time screening")),1)]),(0,l.Wm)(L,{value:j.date,"onUpdate:value":e[2]||(e[2]=t=>j.date=t),"show-time":"",format:"YYYY-MM-DD HH:mm:ss",placeholder:t.$t("Start Date"),onChange:e[3]||(e[3]=t=>A.search())},null,8,["value","placeholder"]),p,(0,l.Wm)(L,{value:j.endDate,"onUpdate:value":e[4]||(e[4]=t=>j.endDate=t),"show-time":"",format:"YYYY-MM-DD HH:mm:ss",placeholder:t.$t("End Date"),onChange:e[5]||(e[5]=t=>A.search())},null,8,["value","placeholder"])])),_:1}),(0,l.Wm)(M,null,{default:(0,l.w5)((()=>[(0,l._)("span",w,[(0,l._)("span",null,(0,n.zw)(t.$t("Sort By")),1)]),(0,l.Wm)(N,null,{overlay:(0,l.w5)((()=>[(0,l.Wm)(I,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(j.select_keys,((e,a)=>((0,l.wg)(),(0,l.j4)(q,{key:a},{default:(0,l.w5)((()=>[(0,l._)("a",{href:"javascript:void(0);",onClick:t=>A.orderBy(e,j.arrow),class:"uppercase"},(0,n.zw)(t.$t(e.label)),9,h)])),_:2},1024)))),128))])),_:1})])),default:(0,l.w5)((()=>[(0,l._)("b",{class:"ant-dropdown-link font-primary ml-10 uppercase",onClick:e[6]||(e[6]=(0,s.iM)((()=>{}),["prevent"]))},[(0,l.Uk)((0,n.zw)(t.$t(j.sortBy.label))+" ",1),(0,l.Wm)(P)])])),_:1}),(0,l.Wm)(N,null,{overlay:(0,l.w5)((()=>[(0,l.Wm)(I,null,{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l._)("a",{href:"javascript:void(0);",onClick:e[8]||(e[8]=t=>A.orderBy(j.sortBy,"desc")),class:"uppercase"},(0,n.zw)(t.$t("desc")),1)])),_:1}),(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l._)("a",{href:"javascript:void(0);",onClick:e[9]||(e[9]=t=>A.orderBy(j.sortBy,"asc")),class:"uppercase"},(0,n.zw)(t.$t("asc")),1)])),_:1})])),_:1})])),default:(0,l.w5)((()=>[(0,l._)("b",{class:"ant-dropdown-link font-primary ml-10 uppercase",onClick:e[7]||(e[7]=(0,s.iM)((()=>{}),["prevent"]))},[(0,l.Uk)((0,n.zw)(t.$t(j.arrow))+" ",1),(0,l.Wm)(P)])])),_:1})])),_:1})]),(0,l._)("div",m,[(0,l._)("div",_,[(0,l.Wm)(F,{class:"pd-0 split-right",title:t.$t("Create Test Case")},{body:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(R,{onClick:A.add,class:"font-primary rotate-icon"},null,8,["onClick"])])])),_:1},8,["title"])])])])])])),_:1})])),_:1})],2)])),default:(0,l.w5)((()=>[(0,l.Wm)(Q,{class:"search-content",loading:j.loading},{default:(0,l.w5)((()=>[(0,l.Wm)(lt,{"item-layout":"vertical",pagination:{showSizeChanger:!1,showQuickJumper:!1,onShowSizeChange:A.search,onChange:A.search,current:j.pageNo,pageSize:j.pageSize,showTotal:(e,a)=>`${t.$t("Total")} ${e}`,total:j.total}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(j.testcases,((e,a)=>((0,l.wg)(),(0,l.j4)(at,{key:a},{actions:(0,l.w5)((()=>[(0,l._)("span",null,[(0,l.Wm)(et),(0,l.Uk)(" "+(0,n.zw)(new Date(e.createdAt).toLocaleString()),1)]),(0,l._)("span",null,"URL : "+(0,n.zw)(e.content.url),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(G,null,{avatar:(0,l.w5)((()=>[(0,l._)("div",f,[(0,l._)("div",null,[(0,l.Wm)(N,null,{overlay:(0,l.w5)((()=>[(0,l.Wm)(I,null,{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l._)("a",{onClick:t=>A.detail(e.id)},(0,n.zw)(t.$t("detail")),9,v)])),_:2},1024),(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l._)("a",{onClick:t=>A.edit(e.id)},(0,n.zw)(t.$t("edit")),9,g)])),_:2},1024),(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(E,{placement:"topLeft","ok-text":t.$t("Yes"),"cancel-text":t.$t("No"),onConfirm:t=>A.remove(e.id)},{title:(0,l.w5)((()=>[(0,l._)("p",null,(0,n.zw)(t.$t("Tip")),1),(0,l._)("p",null,(0,n.zw)(t.$t("Are you sure to delete this?")),1)])),default:(0,l.w5)((()=>[(0,l._)("a",null,(0,n.zw)(t.$t("delete")),1)])),_:2},1032,["ok-text","cancel-text","onConfirm"])])),_:2},1024)])),_:2},1024)])),default:(0,l.w5)((()=>[(0,l._)("a",null,[(0,l.Wm)(J)])])),_:2},1024)])])])),title:(0,l.w5)((()=>[(0,l._)("a",{href:"javascript:void(0)",onClick:t=>A.detail(e.id)},(0,n.zw)(e.name),9,k)])),description:(0,l.w5)((()=>[(0,l.Wm)(V,null,{default:(0,l.w5)((()=>[(0,l.Uk)("Runner:"+(0,n.zw)(e.content.runner||"-"),1)])),_:2},1024),e.content.os?((0,l.wg)(),(0,l.j4)(V,{key:0},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.$t("OS"))+":"+(0,n.zw)(e.content.os)+" ",1),e.content.arch?((0,l.wg)(),(0,l.iD)("span",y," ("+(0,n.zw)(e.content.arch)+")",1)):(0,l.kq)("",!0)])),_:2},1024)):(0,l.kq)("",!0),e.content.pipy_version?((0,l.wg)(),(0,l.j4)(V,{key:1},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(t.$t("Pipy Version"))+":"+(0,n.zw)(e.content.pipy_version),1)])),_:2},1024)):(0,l.kq)("",!0)])),_:2},1024),(0,l._)("div",$,[(0,l._)("div",z,[(0,l._)("div",C,[e.testresults.length>0?((0,l.wg)(),(0,l.iD)("div",W,[(0,l._)("b",null,(0,n.zw)(t.$t("Status")),1),(0,l.Uk)(" : "),0==e.testresults[0].status?((0,l.wg)(),(0,l.iD)("span",b,[(0,l.Wm)(X,{class:"font-primary"}),(0,l.Uk)(" "+(0,n.zw)(t.$t("Running")),1)])):((0,l.wg)(),(0,l.iD)("span",D,[(0,l.Wm)(tt,{color:["red","processing","green"][e.testresults[0].status+1],text:t.$t(["Failed","Running","Done"][e.testresults[0].status+1])},null,8,["color","text"])]))])):((0,l.wg)(),(0,l.iD)("div",T,[(0,l._)("b",null,(0,n.zw)(t.$t("Status")),1),(0,l.Uk)(" : "),U])),(0,l._)("div",null,[S,(0,l.Uk)(" : "),(0,l._)("span",null,(0,n.zw)(e.content.H||"-"),1)]),(0,l._)("div",null,[x,(0,l.Uk)(" : "),(0,l._)("span",null,(0,n.zw)(e.content.payload||"-"),1)])]),(0,l._)("div",B,[(0,l._)("div",null,[H,(0,l.Uk)(" : "),(0,l._)("span",null,(0,n.zw)(e.testresults.length),1)]),(0,l._)("div",null,[Y,(0,l.Uk)(" : "),(0,l._)("span",null,(0,n.zw)(e.content.qps),1)]),(0,l._)("div",null,[Z,(0,l.Uk)(" : "),(0,l._)("span",null,(0,n.zw)(e.content.timeout)+"ms",1)])])])])])),_:2},1024)))),128))])),_:1},8,["pagination"])])),_:1},8,["loading"])])),_:1},8,["title"])}],["__scopeId","data-v-6569b4d9"]])}}]);