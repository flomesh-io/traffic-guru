"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[9570],{62967:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(66252),r={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M911.9 283.9v.5L835.5 865c-1 8-7.9 14-15.9 14H204.5c-8.1 0-14.9-6.1-16-14l-76.4-580.6v-.6 1.6L188.5 866c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.1-.5.1-1 0-1.5z",fill:t}},{tag:"path",attrs:{d:"M773.6 810.6l53.9-409.4-139.8 86.1L512 252.9 336.3 487.3l-139.8-86.1 53.8 409.4h523.3zm-374.2-189c0-62.1 50.5-112.6 112.6-112.6s112.6 50.5 112.6 112.6v1c0 62.1-50.5 112.6-112.6 112.6s-112.6-50.5-112.6-112.6v-1z",fill:t}},{tag:"path",attrs:{d:"M512 734.2c61.9 0 112.3-50.2 112.6-112.1v-.5c0-62.1-50.5-112.6-112.6-112.6s-112.6 50.5-112.6 112.6v.5c.3 61.9 50.7 112.1 112.6 112.1zm0-160.9c26.6 0 48.2 21.6 48.2 48.3 0 26.6-21.6 48.3-48.2 48.3s-48.2-21.6-48.2-48.3c0-26.6 21.6-48.3 48.2-48.3z",fill:e}},{tag:"path",attrs:{d:"M188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6v-.5c.3-6.4-6.7-10.8-12.3-7.4L705 396.4 518.4 147.5a8.06 8.06 0 00-12.9 0L319 396.4 124.3 276.5c-5.5-3.4-12.6.9-12.2 7.3v.6L188.5 865zm147.8-377.7L512 252.9l175.7 234.4 139.8-86.1-53.9 409.4H250.3l-53.8-409.4 139.8 86.1z",fill:e}}]}},name:"crown",theme:"twotone"},o=n(33058);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){l(e,t,n[t])}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e,t){var n=i({},e,t.attrs);return(0,a.Wm)(o.Z,i({},n,{icon:r}),null)};s.displayName="CrownTwoTone",s.inheritAttrs=!1;var u=s},77682:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(66252),r={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 632h128v192H696zm-496 0h128v192H200z",fill:t}},{tag:"path",attrs:{d:"M512 128c-212.1 0-384 171.9-384 384v360c0 13.3 10.7 24 24 24h184c35.3 0 64-28.7 64-64V624c0-35.3-28.7-64-64-64H200v-48c0-172.3 139.7-312 312-312s312 139.7 312 312v48H688c-35.3 0-64 28.7-64 64v208c0 35.3 28.7 64 64 64h184c13.3 0 24-10.7 24-24V512c0-212.1-171.9-384-384-384zM328 632v192H200V632h128zm496 192H696V632h128v192z",fill:e}}]}},name:"customer-service",theme:"twotone"},o=n(33058);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){l(e,t,n[t])}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e,t){var n=i({},e,t.attrs);return(0,a.Wm)(o.Z,i({},n,{icon:r}),null)};s.displayName="CustomerServiceTwoTone",s.inheritAttrs=!1;var u=s},38046:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(66252),r={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136V232h752v560z",fill:e}},{tag:"path",attrs:{d:"M136 792h752V232H136v560zm472-372c0-4.4 1-8 2.3-8h123.4c1.3 0 2.3 3.6 2.3 8v48c0 4.4-1 8-2.3 8H610.3c-1.3 0-2.3-3.6-2.3-8v-48zm0 144c0-4.4 3.2-8 7.1-8h185.7c3.9 0 7.1 3.6 7.1 8v48c0 4.4-3.2 8-7.1 8H615.1c-3.9 0-7.1-3.6-7.1-8v-48zM216.2 664.6c2.8-53.3 31.9-99.6 74.6-126.1-18.1-20-29.1-46.4-29.1-75.5 0-61.9 49.9-112 111.4-112s111.4 50.1 111.4 112c0 29.1-11 55.6-29.1 75.5 42.6 26.4 71.8 72.8 74.6 126.1a8 8 0 01-8 8.4h-43.9c-4.2 0-7.6-3.3-7.9-7.5-3.8-50.5-46-90.5-97.2-90.5s-93.4 40-97.2 90.5c-.3 4.2-3.7 7.5-7.9 7.5H224c-4.6 0-8.2-3.8-7.8-8.4z",fill:t}},{tag:"path",attrs:{d:"M321.3 463a51.7 52 0 10103.4 0 51.7 52 0 10-103.4 0z",fill:t}},{tag:"path",attrs:{d:"M610.3 476h123.4c1.3 0 2.3-3.6 2.3-8v-48c0-4.4-1-8-2.3-8H610.3c-1.3 0-2.3 3.6-2.3 8v48c0 4.4 1 8 2.3 8zm4.8 144h185.7c3.9 0 7.1-3.6 7.1-8v-48c0-4.4-3.2-8-7.1-8H615.1c-3.9 0-7.1 3.6-7.1 8v48c0 4.4 3.2 8 7.1 8zM224 673h43.9c4.2 0 7.6-3.3 7.9-7.5 3.8-50.5 46-90.5 97.2-90.5s93.4 40 97.2 90.5c.3 4.2 3.7 7.5 7.9 7.5H522a8 8 0 008-8.4c-2.8-53.3-32-99.7-74.6-126.1a111.8 111.8 0 0029.1-75.5c0-61.9-49.9-112-111.4-112s-111.4 50.1-111.4 112c0 29.1 11 55.5 29.1 75.5a158.09 158.09 0 00-74.6 126.1c-.4 4.6 3.2 8.4 7.8 8.4zm149-262c28.5 0 51.7 23.3 51.7 52s-23.2 52-51.7 52-51.7-23.3-51.7-52 23.2-52 51.7-52z",fill:e}}]}},name:"idcard",theme:"twotone"},o=n(33058);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){l(e,t,n[t])}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e,t){var n=i({},e,t.attrs);return(0,a.Wm)(o.Z,i({},n,{icon:r}),null)};s.displayName="IdcardTwoTone",s.inheritAttrs=!1;var u=s},10711:function(e,t,n){n.d(t,{Z:function(){return h}});n(68309);var a=n(66252),r=n(3577),o={key:0,class:"permission-card-body"},i={key:1,class:"permission-card-body"},l={key:0},s={class:"inline-block"},u={class:"inline-block relative",style:{left:"10px",top:"-7px"}},c={key:1},d={class:"inline-block"},f=function(e){return(0,a.dD)("data-v-21a71ec4"),e=e(),(0,a.Cn)(),e}((function(){return(0,a._)("div",{class:"inline-block relative",style:{left:"10px",top:"-7px"}},null,-1)}));n(41539),n(54747);var p=n(75255),m=n(54367),v={name:"PermissionCard",components:{CheckOutlined:p.Z,CloseOutlined:m.Z},props:["resources"],i18n:n(89234),data:function(){return{}},computed:{maxResources:function(){var e=0;return this.resources.forEach((function(t){e=e>t.actions.length?e:t.actions.length})),e}},created:function(){},mounted:function(){},methods:{}};var h=(0,n(83744).Z)(v,[["render",function(e,t,n,p,m,v){var h=(0,a.up)("a-card-grid"),g=(0,a.up)("CheckOutlined"),w=(0,a.up)("CloseOutlined"),y=(0,a.up)("a-card");return(0,a.wg)(),(0,a.j4)(y,{class:"grid-menu nopd small-grid-menu",bordered:!1},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.resources,(function(t,p){var m,y;return(0,a.wg)(),(0,a.iD)("div",{key:p},["project"!=t.type||0!=p&&(null===(m=n.resources[p-1].project)||void 0===m?void 0:m.id)==t.project.id?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",o,(0,r.zw)(e.$t("Project"))+":"+(0,r.zw)(t.project.name),1)),"organization"!=t.type||0!=p&&(null===(y=n.resources[p-1].organization)||void 0===y?void 0:y.id)==t.organization.id?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",i,(0,r.zw)(e.$t("Organization"))+":"+(0,r.zw)(t.organization.name),1)),(0,a.Wm)(h,{class:"flex-item permission-card-resource",style:(0,r.j5)("width:"+Math.floor(1e3/(v.maxResources+1))/10+"%")},{default:(0,a.w5)((function(){return[(0,a._)("b",null,(0,r.zw)(e.$t(t.name)),1)]})),_:2},1032,["style"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(v.maxResources,(function(n,o){return(0,a.wg)(),(0,a.j4)(h,{key:o,class:"flex-item permission-card-action",style:(0,r.j5)("width:"+Math.floor(1e3/(v.maxResources+1))/10+"%")},{default:(0,a.w5)((function(){return[t.actions.length>o?((0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",s,[t.actions[o].enabled?((0,a.wg)(),(0,a.j4)(g,{key:0,class:"success"})):((0,a.wg)(),(0,a.j4)(w,{key:1,class:"danger"}))]),(0,a._)("div",u,(0,r.zw)(e.$t(t.actions[o].name)),1)])):((0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",d,[(0,a.Wm)(w,{class:"danger",style:{opacity:"0"}})]),f]))]})),_:2},1032,["style"])})),128))])})),128))]})),_:1})}],["__scopeId","data-v-21a71ec4"]])},71900:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(66252),r=n(3577),o={class:"head-info"};var i={name:"HeadInfo",props:["title","content"]};var l=(0,n(83744).Z)(i,[["render",function(e,t,n,i,l,s){return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("span",null,(0,r.zw)(n.title),1),(0,a._)("p",null,[(0,a.Uk)((0,r.zw)(n.content),1),(0,a.WI)(e.$slots,"body",{},void 0,!0)])])}],["__scopeId","data-v-00006846"]])},49570:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});n(74916),n(64765),n(68309);var a=n(66252),r=n(3577),o=n(49963),i={class:"search-input"},l={class:"content flex"},s={class:"flex-item"},u={class:"form-row"},c={class:"label"},d={class:"content"},f={key:1};var p=n(95082),m=(n(41539),n(54747),n(92222),n(99684)),v=n(44924),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"},g=n(33058);function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){y(e,t,n[t])}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t){var n=w({},e,t.attrs);return(0,a.Wm)(g.Z,w({},n,{icon:h}),null)};b.displayName="MobileOutlined",b.inheritAttrs=!1;var O=b,k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"};function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){_(e,t,n[t])}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e,t){var n=z({},e,t.attrs);return(0,a.Wm)(g.Z,z({},n,{icon:k}),null)};j.displayName="MailOutlined",j.inheritAttrs=!1;var $=j,P=n(82393),C=n(61103),U=n(71900),M=n(38189),W=n(10711),Z=n(76754),D=n(33907),S=n(93099),H=n(96486),T=n.n(H),x={name:"Users",components:{HeadInfo:U.Z,PageLayout:C.Z,UsersResults:M.Z,PlusCircleTwoTone:m.Z,UserOutlined:v.Z,MobileOutlined:O,MailOutlined:$,TeamOutlined:P.Z,PermissionCard:W.Z,FormItem:Z.Z},i18n:n(89234),data:function(){return{TeamOutlined:P.Z,isEdit:!1,users:[],visible:!1,viewtypevalue:0,viewtype:[{value:0,label:"Default"}],payload:{id:"",username:"",phone:"",role_id:"",password:"",type:"",email:""},resources:{},defaultResources:{},roles:[],roleMap:{},defaultRoleId:"",bindTarget:{},editorIsCreate:!0,workload:[],projects:[],pageSize:10,pageNo:1,total:0,key:"",loading:!0,activities:[],config:{},teams:[]}},computed:(0,p.Z)((0,p.Z)({},(0,D.rn)("rules",["rules"])),{},{start:function(){return(this.pageNo-1)*this.pageSize}}),created:function(){this.initroles(),this.loaddata()},methods:{setDefaultResources:function(){var e=this,t=this.payload.role.id;(0,S.Yj)({id:t}).then((function(t){e.resources=t.permissions}))},add:function(){this.isEdit=!1;var e=this.defaultRoleId;this.roleMap["role-".concat(e)]?(this.payload={id:"",username:"",phone:"",role:{id:e,type:"system"},password:"123456",widget:S.M2,type:"",email:""},this.setDefaultResources(),this.showModal()):this.$message.error("Please create a system role first",3)},getSample:function(){this.custom=this.customSample},showModal:function(){this.visible=!0},valid:function(){var e=this;this.$refs.form.validateFields().then((function(){e.handleOk()})).catch((function(){}))},handleOk:function(){this.save()},initroles:function(){var e=this,t=!1;this.$gql.query('usersPermissionsRoles(filters:{type:{eq:"system"}}){data{id,attributes{\n\t\t\t\t\t\tname,\n\t\t\t\t\t\ttype\n\t\t\t\t\t}}}').then((function(n){e.roles=n.data,n.data.forEach((function(n){"system"!=n.type||t||(e.defaultRoleId=n.id,t=!0),e.roleMap["role-".concat(n.id)]=n}))})),(0,S.Yj)().then((function(t){e.defaultResources=t.permissions}))},save:function(){var e=this,t=T().cloneDeep(this.payload);if(t.role&&t.role.id?t.role=t.role.id:t.role&&!t.role.id&&delete t.role,this.isEdit){var n=t.id;delete t.id,this.$gql.mutation("updateUsersPermissionsUser(id:".concat(n,", data: $data){data{id}}"),{data:t},{data:"UsersPermissionsUserInput!"}).then((function(){e.visible=!1,e.$message.success(e.$t("Modified successfully"),3),e.loaddata()}))}else delete t.id,this.$gql.mutation("createUsersPermissionsUser(data: $data){data{id}}",{data:t},{data:"UsersPermissionsUserInput!"}).then((function(){e.visible=!1,e.$message.success(e.$t("Created successfully"),3),e.loaddata()}))},remove:function(e,t,n){var a=this;this.$gql.mutation("deleteUsersPermissionsUser(id:".concat(n.id,"){data{id}}")).then((function(){a.$message.success(a.$t("Deleted successfully"),3),a.loaddata()}))},showModal2:function(){this.visible2=!0},getTimeLabel:function(e){return new Date(e[0]).toLocaleDateString()+"~"+new Date(e[1]).toLocaleDateString()},setting:function(e,t,n){this.payload=n,this.setDefaultResources(),this.isEdit=!0,this.showModal()},search:function(e,t){e&&(this.pageNo=e,this.pageSize=t),this.loaddata()},loaddata:function(){var e=this;this.loading=!0;var t={username:{contains:this.key}};this.$gql.query("usersPermissionsUsers(filters: $filters, pagination: {start: ".concat(this.start,", limit: ").concat(this.pageSize,"}){\n\t\t\t\t\t\tdata{id,attributes{\n\t\t\t\t\t\t\tusername,\n\t\t\t\t\t\t\tphone,\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\trole{data{id,attributes{\n\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\ttype\n\t\t\t\t\t\t\t}}}\n\t\t\t\t\t\t}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}"),{filters:t},{filters:"UsersPermissionsUserFiltersInput"}).then((function(t){e.users=t.data,e.total=t.pagination.total,e.loading=!1}))}}};var I=(0,n(83744).Z)(x,[["render",function(e,t,n,p,m,v){var h=(0,a.up)("a-input-search"),g=(0,a.up)("a-radio-button"),w=(0,a.up)("a-radio-group"),y=(0,a.up)("a-form-item"),b=(0,a.up)("a-form"),O=(0,a.up)("PlusCircleTwoTone"),k=(0,a.up)("HeadInfo"),z=(0,a.up)("a-card"),_=(0,a.up)("UsersResults"),j=(0,a.up)("a-button"),$=(0,a.up)("UserOutlined"),P=(0,a.up)("a-input"),C=(0,a.up)("FormItem"),U=(0,a.up)("a-descriptions-item"),M=(0,a.up)("MobileOutlined"),W=(0,a.up)("a-input-password"),Z=(0,a.up)("MailOutlined"),D=(0,a.up)("PermissionCard"),S=(0,a.up)("a-descriptions"),H=(0,a.up)("a-modal"),T=((0,a.up)("TeamOutlined"),(0,a.up)("PageLayout")),x=(0,a.Q2)("permission");return(0,a.wg)(),(0,a.j4)(T,{avatar:m.TeamOutlined},{headerContent:(0,a.w5)((function(){return[(0,a._)("div",{class:(0,r.C_)(["search-head",e.layout,e.pageWidth])},[(0,a._)("div",i,[(0,a.Wm)(h,{value:m.key,"onUpdate:value":t[0]||(t[0]=function(e){return m.key=e}),class:"search-ipt",onSearch:t[1]||(t[1]=function(e){return v.search()}),placeholder:e.$t("Please input")+"...",size:"large"},null,8,["value","placeholder"])]),(0,a.Wm)(z,{bordered:!1,class:"search-form"},{default:(0,a.w5)((function(){return[(0,a._)("div",l,[(0,a._)("div",s,[(0,a.Wm)(b,null,{default:(0,a.w5)((function(){return[(0,a._)("div",u,[(0,a._)("div",c,[(0,a._)("span",null,(0,r.zw)(e.$t("Card View")),1)]),(0,a._)("div",d,[(0,a.Wm)(y,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{size:"small",value:m.viewtypevalue,"onUpdate:value":t[2]||(t[2]=function(e){return m.viewtypevalue=e}),"button-style":"solid"},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(m.viewtype,(function(t,n){return(0,a.wg)(),(0,a.j4)(g,{value:t.value,key:n},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,r.zw)(e.$t(t.label)),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1})])])]})),_:1})]),(0,a._)("div",null,[(0,a.wy)(((0,a.wg)(),(0,a.j4)(k,{class:"split-right",title:e.$t("Create user")},{body:(0,a.w5)((function(){return[(0,a._)("div",null,[(0,a.Wm)(O,{onClick:v.add,class:"font-primary icon-menu rotate-icon"},null,8,["onClick"])])]})),_:1},8,["title"])),[[x,["user:create"]]])])])]})),_:1})],2)]})),default:(0,a.w5)((function(){return[(0,a.Wm)(_,{loading:m.loading,users:m.users,"page-no":m.pageNo,total:m.total,onSearch:v.search,"page-size":m.pageSize,onRemove:v.remove,onSetting:v.setting},null,8,["loading","users","page-no","total","onSearch","page-size","onRemove","onSetting"]),(0,a.Wm)(H,{visible:m.visible,"onUpdate:visible":t[8]||(t[8]=function(e){return m.visible=e}),"destroy-on-close":!0,title:e.$t("user"),width:"50%"},{footer:(0,a.w5)((function(){return[m.isEdit?(0,a.wy)(((0,a.wg)(),(0,a.j4)(j,{key:0,type:"primary",onClick:v.valid},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,r.zw)(e.$t("save")),1)]})),_:1},8,["onClick"])),[[x,["user:update"]]]):(0,a.wy)(((0,a.wg)(),(0,a.j4)(j,{key:1,type:"primary",onClick:v.valid},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,r.zw)(e.$t("create")),1)]})),_:1},8,["onClick"])),[[x,["user:create"]]])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(b,{model:m.payload,"wrapper-col":{span:24},ref:"form"},{default:(0,a.w5)((function(){return[(0,a.Wm)(S,{bordered:""},{default:(0,a.w5)((function(){return[(0,a.Wm)(U,{label:e.$t("as"),span:3},{default:(0,a.w5)((function(){return[(0,a.Wm)(C,{name:"username",rules:e.rules.uniqueUserName("usersPermissionsUsers",{id:m.payload.id})},{default:(0,a.w5)((function(){return[(0,a.Wm)(P,{placeholder:e.$t("unset"),value:m.payload.username,"onUpdate:value":t[3]||(t[3]=function(e){return m.payload.username=e})},{prefix:(0,a.w5)((function(){return[(0,a.Wm)($,{type:"user"})]})),_:1},8,["placeholder","value"])]})),_:1},8,["rules"])]})),_:1},8,["label"]),e.$isPro?((0,a.wg)(),(0,a.j4)(U,{key:0,label:e.$t("Mobile"),span:3},{default:(0,a.w5)((function(){return[(0,a.Wm)(P,{placeholder:e.$t("unset"),value:m.payload.phone,"onUpdate:value":t[4]||(t[4]=function(e){return m.payload.phone=e})},{prefix:(0,a.w5)((function(){return[(0,a.Wm)(M,{type:"user"})]})),_:1},8,["placeholder","value"])]})),_:1},8,["label"])):(0,a.kq)("",!0),m.isEdit?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(U,{key:1,label:e.$t("Password"),span:3},{default:(0,a.w5)((function(){return[(0,a.Wm)(C,{name:"password",rules:e.rules.password},{default:(0,a.w5)((function(){return[(0,a.Wm)(W,{value:m.payload.password,"onUpdate:value":t[5]||(t[5]=function(e){return m.payload.password=e}),placeholder:e.$t("unset")},null,8,["value","placeholder"])]})),_:1},8,["rules"])]})),_:1},8,["label"])),(0,a.Wm)(U,{label:e.$t("Email"),span:3},{default:(0,a.w5)((function(){return[(0,a.Wm)(C,{name:"email",rules:e.rules.email},{default:(0,a.w5)((function(){return[(0,a.Wm)(P,{placeholder:e.$t("unset"),value:m.payload.email,"onUpdate:value":t[6]||(t[6]=function(e){return m.payload.email=e})},{prefix:(0,a.w5)((function(){return[(0,a.Wm)(Z,{type:"user"})]})),_:1},8,["placeholder","value"])]})),_:1},8,["rules"])]})),_:1},8,["label"]),(0,a.Wm)(U,{label:e.$t("Roles"),span:3},{default:(0,a.w5)((function(){return["system"==m.payload.role.type?((0,a.wg)(),(0,a.j4)(w,{key:0,value:m.payload.role.id,"onUpdate:value":t[7]||(t[7]=function(e){return m.payload.role.id=e}),"button-style":"solid",onChange:v.setDefaultResources},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(m.roles,(function(t,n){return(0,a.wy)(((0,a.wg)(),(0,a.j4)(g,{value:t.id,key:n},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,r.zw)(e.$t(t.name)),1)]})),_:2},1032,["value"])),[[o.F8,"system"==t.type]])})),128))]})),_:1},8,["value","onChange"])):((0,a.wg)(),(0,a.iD)("span",f,(0,r.zw)(e.$t(m.payload.role.name)),1))]})),_:1},8,["label"]),(0,a.Wm)(U,{label:e.$t("Authority"),span:3},{default:(0,a.w5)((function(){return[m.resources.length>0?((0,a.wg)(),(0,a.j4)(D,{key:0,resources:m.resources},null,8,["resources"])):(0,a.kq)("",!0)]})),_:1},8,["label"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["visible","title"]),(0,a.kq)("",!0)]})),_:1},8,["avatar"])}],["__scopeId","data-v-01819dce"]])},38189:function(e,t,n){n.d(t,{Z:function(){return d}});n(68309),n(74916),n(64765);var a=n(66252),r=n(3577),o={class:"mb-3"},i={class:"meta-content"};var l=n(38046),s=n(62967),u=n(77682),c={name:"UsersResults",components:{CardList:n(69596).Z,IdcardTwoTone:l.Z,CrownTwoTone:s.Z,CustomerServiceTwoTone:u.Z},i18n:n(89234),props:["users","total","pageNo","pageSize","loading","actions","noAction"],data:function(){return{pageNoVal:0}},computed:{},watch:{pageNoVal:{deep:!0,handler:function(){this.$emit("update:pageNo",this.pageNoVal)}}},mounted:function(){this.pageNoVal=this.pageNo},methods:{search:function(e,t,n){this.$emit("search",e,t,n)},remove:function(e,t,n){this.$emit("remove",e,t,n)},setting:function(e,t,n){this.$emit("setting",e,t,n)}}};var d=(0,n(83744).Z)(c,[["render",function(e,t,n,l,s,u){var c=(0,a.up)("a-tag"),d=(0,a.up)("CrownTwoTone"),f=(0,a.up)("CustomerServiceTwoTone"),p=(0,a.up)("IdcardTwoTone"),m=(0,a.up)("a-card-meta"),v=(0,a.up)("CardList"),h=(0,a.up)("a-pagination");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(v,{"hide-action-title":!0,loading:n.loading,"data-source":n.users,type:"component",actions:n.noAction?null:n.actions?n.actions:[{icon:"EditOutlined",text:e.$t("edit"),call:u.setting,permission:["user:update"]},{icon:"CloseOutlined",hide:!0,text:e.$t("delete"),call:u.remove,permission:["user:delete"]}]},{default:(0,a.w5)((function(t){var n=t.item;return[(0,a.Wm)(m,null,{title:(0,a.w5)((function(){return[(0,a._)("div",o,[(0,a.Uk)((0,r.zw)(n.username)+" ",1),n.role?((0,a.wg)(),(0,a.j4)(c,{key:0,color:"blue",class:"ml-10"},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,r.zw)(n.role.name),1)]})),_:2},1024)):(0,a.kq)("",!0)])]})),avatar:(0,a.w5)((function(){return[n.role&&"Authenticated"==n.role.name?((0,a.wg)(),(0,a.j4)(d,{key:0,"two-tone-color":"#00adef",class:"font-50"})):n.role&&"Public"==n.role.name?((0,a.wg)(),(0,a.j4)(f,{key:1,"two-tone-color":"#00adef",class:"font-50"})):((0,a.wg)(),(0,a.j4)(p,{key:2,"two-tone-color":"#00adef",class:"font-50"}))]})),description:(0,a.w5)((function(){return[(0,a._)("div",i,(0,r.zw)(e.$t("Email"))+"："+(0,r.zw)(n.email||e.$t("unset")),1)]})),_:2},1024)]})),_:1},8,["loading","data-source","actions"]),s.pageNoVal>=0?((0,a.wg)(),(0,a.j4)(h,{key:0,onChange:u.search,current:s.pageNoVal,"onUpdate:current":t[0]||(t[0]=function(e){return s.pageNoVal=e}),total:n.total,"page-size":n.pageSize,"show-less-items":""},null,8,["onChange","current","total","page-size"])):(0,a.kq)("",!0)])}],["__scopeId","data-v-2057c1d0"]])}}]);