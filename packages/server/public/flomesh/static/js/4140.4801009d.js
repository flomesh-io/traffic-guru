(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[4140],{79797:function(t,e,a){!function(){"use strict";var e=a(17536).typeOf;t.exports.stringify=function(t){var a,n="";return"---"+(a={undefined:function(){return"null"},null:function(){return"null"},number:function(t){return t},boolean:function(t){return t?"true":"false"},string:function(t){return JSON.stringify(t)},array:function(t){var r="";return 0===t.length?r+="[]":(n=n.replace(/$/,"  "),t.forEach((function(t){var i=a[e(t)];if(!i)throw new Error("what the crap: "+e(t));r+="\n"+n+"- "+i(t)})),n=n.replace(/  /,""),r)},object:function(t){var r="";return 0===Object.keys(t).length?r+="{}":(n=n.replace(/$/,"  "),Object.keys(t).forEach((function(i){var o=t[i],l=a[e(o)];if(void 0!==o){if(!l)throw new Error("what the crap: "+e(o));r+="\n"+n+i+": "+l(o)}})),n=n.replace(/  /,""),r)},function:function(){return"[object Function]"}})[e(t)](t)+"\n"}}()},17536:function(t){!function(){"use strict";var e,a,n=Function("return this")(),r="Boolean Number String Function Array Date RegExp Object".split(" "),i={};for(e in r)r.hasOwnProperty(e)&&(a=r[e],i["[object "+a+"]"]=a.toLowerCase());function o(t){return null==t?String(t):i[Object.prototype.toString.call(t)]||"object"}function l(t){var e,a;if("object"===o(t))for(e in t)if(void 0!==(a=t[e])&&"function"!==o(a))return!1;return!0}String.prototype.entityify||(String.prototype.entityify=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}),String.prototype.quote||(String.prototype.quote=function(){var t,e,a=this.length,n='"';for(e=0;e<a;e+=1)if((t=this.charAt(e))>=" ")"\\"!==t&&'"'!==t||(n+="\\"),n+=t;else switch(t){case"\b":n+="\\b";break;case"\f":n+="\\f";break;case"\n":n+="\\n";break;case"\r":n+="\\r";break;case"\t":n+="\\t";break;default:t=t.charCodeAt(),n+="\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16)}return n+'"'}),String.prototype.supplant||(String.prototype.supplant=function(t){return this.replace(/{([^{}]*)}/g,(function(e,a){var n=t[a];return"string"==typeof n||"number"==typeof n?n:e}))}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s*(\S*(?:\s+\S+)*)\s*$/,"$1")}),t.exports={typeOf:o,isEmpty:l},n.typeOf=n.typeOf||o,n.isEmpty=n.isEmpty||l}()},44107:function(t,e,a){"use strict";a.d(e,{Z:function(){return c}});var n=a(66252),r=a(3577);var i=a(21936),o=a(8333);let l=a(79797),s=a(93320);var u={name:"Json2YamlCard",components:{JsonEditor:i.Z,YamlEditor:o.Z},props:["jsonVal","isCreate","height","isReadonly","url","isPop"],i18n:a(89234),data(){return{configTab:[{key:"YAML",tab:"YAML"},{key:"JSON",tab:"JSON"}],configKey:"YAML",json:"{}",yaml:""}},watch:{json(t,e){t!=e&&this.jsonInput(t)},yaml(t,e){t!=e&&this.yamlInput(t)},jsonVal:{handler(t,e){if("{}"!=t&&""!=t||(t='{"key":"value"}'),t!=e){"object"==typeof JSON.parse(t)&&(this.json=t)}},immediate:!0}},created(){},mounted(){this.init()},methods:{onTabChange(t,e){this[e]=t},jsonInput(t){try{"object"==typeof JSON.parse(t)&&(this.yaml=this.convertToYaml(t),this.$emit("update:jsonVal",this.json),this.$emit("change",this.json))}catch(t){}},yamlInput(t){let e=s.load(t),a=JSON.stringify(e,null,"  ");"object"==typeof JSON.parse(a)&&(this.$emit("update:jsonVal",a),this.$emit("change",a))},getDefaultYamlConfig(){if(!this.url)return this.yaml=this.convertToYaml(this.jsonVal),void this.yamlInput(this.yaml);fetch(this.url).then((t=>t.text())).then((t=>{this.url.indexOf(".yaml");let e=s.load(t),a=JSON.stringify(e,null,"  "),n=JSON.parse(a);n.spec&&n.spec.namespace&&(n.spec.namespace="_all"==localStorage.getItem("NAMESPACE")?"default":localStorage.getItem("NAMESPACE"));let r=JSON.stringify(n);this.yaml=this.convertToYaml(r),setTimeout((()=>{this.yamlInput(this.yaml)}),2e3)})).catch((()=>{}))},convertToYaml(t){if(""==t)return"";let e=JSON.parse(t),a=null;return a=l.stringify(e),a},init(){this.isCreate?this.getDefaultYamlConfig():(this.yaml=this.convertToYaml(this.jsonVal),this.yamlInput(this.yaml))}}};var c=(0,a(83744).Z)(u,[["render",function(t,e,a,i,o,l){const s=(0,n.up)("YamlEditor"),u=(0,n.up)("JsonEditor"),c=(0,n.up)("a-button"),p=(0,n.up)("a-card");return(0,n.wg)(),(0,n.j4)(p,{class:(0,r.C_)(["card nopd",a.isPop?"isPop":""]),"tab-list":o.configTab,"active-tab-key":o.configKey,onTabChange:e[2]||(e[2]=t=>l.onTabChange(t,"configKey")),bordered:!1},{tabBarExtraContent:(0,n.w5)((()=>[a.url?((0,n.wg)(),(0,n.j4)(c,{key:0,type:"dashed",onClick:l.getDefaultYamlConfig},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t.$t("reset")),1)])),_:1},8,["onClick"])):(0,n.kq)("",!0)])),default:(0,n.w5)((()=>["YAML"==o.configKey?((0,n.wg)(),(0,n.j4)(s,{key:0,height:a.height,"is-readonly":a.isReadonly,value:o.yaml,"onUpdate:value":e[0]||(e[0]=t=>o.yaml=t)},null,8,["height","is-readonly","value"])):(0,n.kq)("",!0),"JSON"==o.configKey?((0,n.wg)(),(0,n.j4)(u,{key:1,height:a.height,"is-readonly":a.isReadonly,"is-json":!0,noreset:!a.isReadonly,value:o.json,"onUpdate:value":e[1]||(e[1]=t=>o.json=t)},null,8,["height","is-readonly","noreset","value"])):(0,n.kq)("",!0)])),_:1},8,["class","tab-list","active-tab-key"])}]])},1299:function(t,e,a){"use strict";a.d(e,{Z:function(){return l}});var n=a(66252),r=a(3577);const i={key:0,class:"title"};var o={name:"DetailList",props:{title:{type:String,required:!1,default:""},col:{type:Number,required:!1,default:3},size:{type:String,required:!1,default:"large"},layout:{type:String,required:!1,default:"horizontal"}}};var l=(0,a(83744).Z)(o,[["render",function(t,e,a,o,l,s){const u=(0,n.up)("a-row");return(0,n.wg)(),(0,n.iD)("div",{class:(0,r.C_)(["detail-list","small"===a.size?"small":"large","vertical"===a.layout?"vertical":"horizontal"]),style:(0,r.j5)("flex-"+a.col)},[a.title?((0,n.wg)(),(0,n.iD)("div",i,(0,r.zw)(a.title),1)):(0,n.kq)("",!0),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.WI)(t.$slots,"default")])),_:3})],6)}]])},13589:function(t,e,a){"use strict";a.d(e,{Z:function(){return s}});var n=a(66252),r=a(3577);const i={class:"detail-content"};const o={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{xs:24,sm:12,md:6}};var l={name:"DetailListItem",i18n:a(39945),props:{name:{type:String,required:!1,default:""},rules:{type:Array,required:!1,default(){return[]}},term:{type:String,required:!1,default:""},termTop:{type:Boolean}},data(){return{col:2,responsive:o}},computed:{getRules(){return this.rules.map((t=>(t.message=this.$t(t.message),t))),this.rules}},created(){this.$parent&&this.$parent.$parent&&this.$parent.$parent.col>0&&(this.col=this.$parent.$parent.col)},methods:{}};var s=(0,a(83744).Z)(l,[["render",function(t,e,a,o,l,s){const u=(0,n.up)("a-form-item"),c=(0,n.up)("a-col");return(0,n.wg)(),(0,n.j4)(c,(0,n.dG)({class:"detail-list-content flex"},l.responsive[l.col]),{default:(0,n.w5)((()=>[(0,n._)("div",{class:(0,r.C_)(a.termTop?"term top":"term")},(0,r.zw)(a.term),3),(0,n._)("div",i,[a.rules?((0,n.wg)(),(0,n.j4)(u,{key:0,name:a.name,rules:s.getRules},{default:(0,n.w5)((()=>[(0,n.WI)(t.$slots,"default")])),_:3},8,["name","rules"])):(0,n.WI)(t.$slots,"default",{key:1})])])),_:3},16)}]])},54140:function(t,e,a){"use strict";a.d(e,{Z:function(){return g}});var n=a(66252),r=a(3577);const i={key:0},o={class:"font-primary",href:"javascript:void(0)"},l={key:1},s={class:"font-primary",href:"javascript:void(0)"},u={key:2},c={class:"font-primary",href:"javascript:void(0)"},p={key:3};var d=a(21936),f=a(1299),m=a(13589),y=a(44107),h={name:"DetailHeader",i18n:a(89234),components:{DetailListItem:m.Z,DetailList:f.Z,Json2YamlCard:y.Z,JsonEditor:d.Z},props:["d"],data(){return{proxyProfile:null,proxyProfileKey:"flomesh.io/proxy-profile"}}};var g=(0,a(83744).Z)(h,[["render",function(t,e,a,d,f,m){const y=(0,n.up)("DetailListItem"),h=(0,n.up)("DetailList"),g=(0,n.up)("a-tag"),w=(0,n.up)("a-tooltip"),v=(0,n.up)("Json2YamlCard"),k=(0,n.up)("a-popover"),b=(0,n.up)("JsonEditor");return(0,n.wg)(),(0,n.iD)(n.HY,null,[a.d.metadata?((0,n.wg)(),(0,n.j4)(h,{key:0,size:"small",col:1},{default:(0,n.w5)((()=>[a.d.metadata?.uid?((0,n.wg)(),(0,n.j4)(y,{key:0,term:t.$t("UID")},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(a.d.metadata.uid),1)])),_:1},8,["term"])):(0,n.kq)("",!0),(0,n.Wm)(y,{term:t.$t("as")},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(a.d.metadata.name),1)])),_:1},8,["term"]),(0,n.Wm)(y,{term:t.$t("Namespace")},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(a.d.metadata.namespace),1)])),_:1},8,["term"]),(0,n.Wm)(y,{term:t.$t("Creation Timestamp")},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(new Date(a.d.metadata.creationTimestamp).toLocaleString()),1)])),_:1},8,["term"])])),_:1})):(0,n.kq)("",!0),a.d.metadata?((0,n.wg)(),(0,n.j4)(h,{key:1,size:"small",col:1},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{term:t.$t("Labels")},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(a.d.metadata.labels||[]),((t,e)=>((0,n.wg)(),(0,n.j4)(g,{key:e,closable:!1},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(t)+":"+(0,r.zw)(a.d.metadata.labels[t]),1)])),_:2},1024)))),128))])),_:1},8,["term"]),(0,n.Wm)(y,{term:t.$t("Annotations")},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(a.d.metadata.annotations||[]),((t,e)=>((0,n.wg)(),(0,n.j4)(g,{key:e,closable:!1,class:"mb-5"},{default:(0,n.w5)((()=>["objectset.rio.cattle.io/applied"==t?((0,n.wg)(),(0,n.iD)("span",i,[(0,n.Wm)(w,{placement:"topLeft",title:a.d.metadata.annotations[t]},{default:(0,n.w5)((()=>[(0,n._)("a",o,(0,r.zw)(t),1)])),_:2},1032,["title"])])):t==f.proxyProfileKey?((0,n.wg)(),(0,n.iD)("span",l,[(0,n.Wm)(k,{trigger:"click",title:t},{content:(0,n.w5)((()=>[f.proxyProfile?((0,n.wg)(),(0,n.j4)(v,{key:0,"is-create":!1,"is-readonly":!0,"is-pop":!0,"json-val":f.proxyProfile},null,8,["json-val"])):(0,n.kq)("",!0)])),default:(0,n.w5)((()=>[(0,n._)("a",s,(0,r.zw)(t),1)])),_:2},1032,["title"])])):"kubectl.kubernetes.io/last-applied-configuration"==t?((0,n.wg)(),(0,n.iD)("span",u,[(0,n.Wm)(k,{trigger:"click",title:t},{content:(0,n.w5)((()=>[(0,n.Wm)(b,{"is-json":!0,value:a.d.metadata.annotations[t]},null,8,["value"])])),default:(0,n.w5)((()=>[(0,n._)("a",c,(0,r.zw)(t),1)])),_:2},1032,["title"])])):((0,n.wg)(),(0,n.iD)("span",p,(0,r.zw)(t)+":"+(0,r.zw)(a.d.metadata.annotations[t]),1))])),_:2},1024)))),128))])),_:1},8,["term"])])),_:1})):(0,n.kq)("",!0)],64)}]])}}]);