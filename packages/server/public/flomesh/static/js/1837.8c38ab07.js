"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[1837],{1299:function(t,e,a){a.d(e,{Z:function(){return n}});var s=a(66252),i=a(3577);const l={key:0,class:"title"};var r={name:"DetailList",props:{title:{type:String,required:!1,default:""},col:{type:Number,required:!1,default:3},size:{type:String,required:!1,default:"large"},layout:{type:String,required:!1,default:"horizontal"}}};var n=(0,a(83744).Z)(r,[["render",function(t,e,a,r,n,d){const o=(0,s.up)("a-row");return(0,s.wg)(),(0,s.iD)("div",{class:(0,i.C_)(["detail-list","small"===a.size?"small":"large","vertical"===a.layout?"vertical":"horizontal"]),style:(0,i.j5)("flex-"+a.col)},[a.title?((0,s.wg)(),(0,s.iD)("div",l,(0,i.zw)(a.title),1)):(0,s.kq)("",!0),(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.WI)(t.$slots,"default")])),_:3})],6)}]])},13589:function(t,e,a){a.d(e,{Z:function(){return d}});var s=a(66252),i=a(3577);const l={class:"detail-content"};const r={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{xs:24,sm:12,md:6}};var n={name:"DetailListItem",i18n:a(39945),props:{name:{type:String,required:!1,default:""},rules:{type:Array,required:!1,default(){return[]}},term:{type:String,required:!1,default:""},termTop:{type:Boolean}},data(){return{col:2,responsive:r}},computed:{getRules(){return this.rules.map((t=>(t.message=this.$t(t.message),t))),this.rules}},created(){this.$parent&&this.$parent.$parent&&this.$parent.$parent.col>0&&(this.col=this.$parent.$parent.col)},methods:{}};var d=(0,a(83744).Z)(n,[["render",function(t,e,a,r,n,d){const o=(0,s.up)("a-form-item"),u=(0,s.up)("a-col");return(0,s.wg)(),(0,s.j4)(u,(0,s.dG)({class:"detail-list-content flex"},n.responsive[n.col]),{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,i.C_)(a.termTop?"term top":"term")},(0,i.zw)(a.term),3),(0,s._)("div",l,[a.rules?((0,s.wg)(),(0,s.j4)(o,{key:0,name:a.name,rules:d.getRules},{default:(0,s.w5)((()=>[(0,s.WI)(t.$slots,"default")])),_:3},8,["name","rules"])):(0,s.WI)(t.$slots,"default",{key:1})])])),_:3},16)}]])},71900:function(t,e,a){a.d(e,{Z:function(){return n}});var s=a(66252),i=a(3577);const l={class:"head-info"};var r={name:"HeadInfo",props:["title","content"]};var n=(0,a(83744).Z)(r,[["render",function(t,e,a,r,n,d){return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("span",null,(0,i.zw)(a.title),1),(0,s._)("p",null,[(0,s.Uk)((0,i.zw)(a.content),1),(0,s.WI)(t.$slots,"body",{},void 0,!0)])])}],["__scopeId","data-v-00006846"]])},21837:function(t,e,a){a.r(e),a.d(e,{default:function(){return m}});var s=a(66252),i=a(3577);const l=["onClick"];a(57658);var r=a(1299),n=a(71900),d=a(13589),o=a(61103);const u=[{title:"Node Name",dataIndex:"name",id:"as",width:"40%"},{title:"Node IP",dataIndex:"ip",id:"IP",width:"40%"},{title:"Action",id:"Action",dataIndex:"operation"}];var c={name:"ClusterDetail",i18n:a(89234),components:{PageLayout:o.Z,DetailList:r.Z,DetailListItem:d.Z,HeadInfo:n.Z},data(){return{aid:"",type:"cluster",name:"",columns:u,address:[],cluster:{name:"",nodes:[]},loading:!0}},computed:{dataColumns(){return this.columns.map((t=>(t.title=this.$t(t.id),t)))}},created(){this.$route.path.indexOf("/zone")>=0?this.type="zone":this.type="cluster",this.aid=this.$route.params.id||"",this.aid?(this.loading=!0,this.$request(("cluster"==this.type?this.$REST.CLUSTER:this.$REST.ZONE)+"/"+this.$route.params.id,this.$METHOD.GET).then((t=>{this.cluster=t.data.data,this.cluster.nodes=this.cluster.nodes?this.cluster.nodes:[],this.loading=!1}))):this.loading=!1},methods:{handleSubmit(t){t.preventDefault()},newMember(){},remove(){},saveRow(){},toggle(t){let e=null,a=this.address.filter(((a,s)=>(a.id===t&&(e=s),a.id===t)))[0];a.editable=!a.editable,this.$set(this.address,e,a)},getRowByKey(t,e){const a=this.address;return(e||a).filter((e=>e.id===t))[0]},cancle(t){let e=null,a=this.address.filter(((a,s)=>(a.id===t&&(e=s),a.id===t)))[0];a.editable=!1,this.$set(this.address,e,a)},handleChange(t,e,a){const s=[...this.address],i=s.filter((t=>e===t.id))[0];i&&(i[a]=t,this.address=s)},detail(t){this.$router.push({path:"/flb/node/detail/"+t})},save(){}}};var m=(0,a(83744).Z)(c,[["render",function(t,e,a,r,n,d){const o=(0,s.up)("DetailListItem"),u=(0,s.up)("DetailList"),c=(0,s.up)("HeadInfo"),m=(0,s.up)("a-table"),p=(0,s.up)("a-card"),h=(0,s.up)("PageLayout");return(0,s.wg)(),(0,s.j4)(h,{title:t.$t(n.type),bordered:!1},{headerContent:(0,s.w5)((()=>[(0,s.Wm)(u,{size:"small",col:1},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{term:t.$t("as")},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(n.cluster.name),1)])),_:1},8,["term"]),(0,s.Wm)(o,{term:t.$t("nodes")},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(n.cluster.nodes.length),1)])),_:1},8,["term"])])),_:1})])),extra:(0,s.w5)((()=>[(0,s.Wm)(c,{title:"ID",content:n.cluster.id},null,8,["content"])])),default:(0,s.w5)((()=>[(0,s.Wm)(p,{bordered:!1,title:t.$t("node")+t.$t("list")},{default:(0,s.w5)((()=>[(0,s._)("form",null,[(0,s.Wm)(m,{"row-key":"id",loading:n.loading,columns:d.dataColumns,"data-source":n.cluster.nodes,pagination:!1},{bodyCell:(0,s.w5)((({column:t,record:e})=>["operation"===t.dataIndex?((0,s.wg)(),(0,s.iD)("a",{key:0,onClick:t=>d.detail(e.id)},"Detail",8,l)):(0,s.kq)("",!0)])),_:1},8,["loading","columns","data-source"])])])),_:1},8,["title"])])),_:1},8,["title"])}],["__scopeId","data-v-4dc857c9"]])}}]);