"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[1239],{11239:function(e,a,t){t.r(a),t.d(a,{default:function(){return p}});t(68309),t(47941);var n=t(66252),i=t(3577),r={key:0},l=["onClick"],o={key:1},u={key:2},s=["onClick"];t(21249),t(57327),t(41539),t(74916),t(64765),t(57658),t(92222);var d=t(2692),c=[{key:" ",dataIndex:"t"},{key:"as",dataIndex:"name"},{key:"Namespace",width:130,dataIndex:"namespace"},{key:"Labels",dataIndex:"labels"},{key:"Creation Timestamp",dataIndex:"creationTimestamp",sorter:!0},{key:"Action",width:130,dataIndex:"action"}],m={name:"Secrets",components:{MoreOutlined:d.Z},i18n:t(89234),data:function(){return{params:{key:"",pageNo:1,pageSize:10,total:0},columns:c,loading:!1,list:[]}},computed:{dataColumns:function(){var e=this;return this.columns.map((function(a){return a.title=e.$t(a.key),a}))},filterEvent:function(){var e=this;return""!=this.params.key?this.list.filter((function(a){return a.name.indexOf(e.params.key)>-1||a.title.indexOf(e.params.key)>-1||a.ip.indexOf(e.params.key)>-1||a.content.indexOf(e.params.key)>-1||a.user.indexOf(e.params.key)>-1})):this.list}},created:function(){this.search()},methods:{detail:function(e,a){this.$router.push({path:"/workload/secret/detail/".concat(a,"/").concat(e)})},URL:function(){var e=this.$REST.K8S.append(this.params.pageSize,this.params.pageNo,"d,creationTimestamp");return this.$REST.K8S.encode(this.$REST.K8S.SECRET,e)},search:function(){var e=this;this.loading=!0,this.$request(this.URL(),this.$METHOD.GET).then((function(a){var t=a.data;e.list=e.reset(t.items),e.params.total=t.count,e.loading=!1}))},reset:function(e){for(var a=0;a<e.length;a++)e[a].uid=e[a].metadata.uid,e[a].name=e[a].metadata.name,e[a].namespace=e[a].metadata.namespace,e[a].labels=e[a].metadata.labels?e[a].metadata.labels:[],e[a].creationTimestamp=new Date(e[a].metadata.creationTimestamp).toLocaleString(),e[a].type=e[a].type;return e}}};var p=(0,t(83744).Z)(m,[["render",function(e,a,t,d,c,m){var p=(0,n.up)("a-tag"),f=(0,n.up)("a-menu-item"),h=(0,n.up)("a-menu"),k=(0,n.up)("MoreOutlined"),w=(0,n.up)("a-dropdown"),v=(0,n.up)("a-table"),y=(0,n.up)("a-card");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(y,{class:"card nopd",title:e.$t("Secrets"),loading:c.loading},{default:(0,n.w5)((function(){return[(0,n._)("div",null,[(0,n.Wm)(v,{pagination:!1,columns:m.dataColumns,"data-source":m.filterEvent},{bodyCell:(0,n.w5)((function(a){var t=a.column,d=a.record;return["name"===t.dataIndex?((0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("a",{href:"javascript:void(0)",onClick:function(e){return m.detail(d.name,d.namespace)}},(0,i.zw)(d.name),9,l)])):"labels"===t.dataIndex?((0,n.wg)(),(0,n.iD)("div",o,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(d.labels),(function(e,a){return(0,n.wg)(),(0,n.j4)(p,{key:a,closable:!1},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,i.zw)(e)+":"+(0,i.zw)(d.labels[e]),1)]})),_:2},1024)})),128))])):"action"===t.dataIndex?((0,n.wg)(),(0,n.iD)("div",u,[(0,n.Wm)(w,null,{overlay:(0,n.w5)((function(){return[(0,n.Wm)(h,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(f,null,{default:(0,n.w5)((function(){return[(0,n._)("a",{onClick:function(e){return m.detail(d.name,d.namespace)}},(0,i.zw)(e.$t("view")),9,s)]})),_:2},1024)]})),_:2},1024)]})),default:(0,n.w5)((function(){return[(0,n._)("a",null,[(0,n.Wm)(k)])]})),_:2},1024)])):(0,n.kq)("",!0)]})),_:1},8,["columns","data-source"])])]})),_:1},8,["title","loading"])])}],["__scopeId","data-v-27d8766b"]])}}]);