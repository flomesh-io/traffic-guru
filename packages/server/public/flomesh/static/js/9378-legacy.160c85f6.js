"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[9378],{64137:function(t,e,a){a.d(e,{Z:function(){return u}});var n=a(66252),l={icon:function(t,e){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:t}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm192 396c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z",fill:e}},{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z",fill:t}}]}},name:"minus-circle",theme:"twotone"},i=a(33058);function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?Object(arguments[e]):{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})))),n.forEach((function(e){r(t,e,a[e])}))}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var s=function(t,e){var a=o({},t,e.attrs);return(0,n.Wm)(i.Z,o({},a,{icon:l}),null)};s.displayName="MinusCircleTwoTone",s.inheritAttrs=!1;var u=s},71900:function(t,e,a){a.d(e,{Z:function(){return r}});var n=a(66252),l=a(3577),i={class:"head-info"};var o={name:"HeadInfo",props:["title","content"]};var r=(0,a(83744).Z)(o,[["render",function(t,e,a,o,r,s){return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("span",null,(0,l.zw)(a.title),1),(0,n._)("p",null,[(0,n.Uk)((0,l.zw)(a.content),1),(0,n.WI)(t.$slots,"body",{},void 0,!0)])])}],["__scopeId","data-v-00006846"]])},19378:function(t,e,a){a.r(e),a.d(e,{default:function(){return L}});a(74916),a(64765),a(68309),a(88386),a(92222),a(26699),a(32023),a(82526),a(41817);var n=a(66252),l=a(3577),i=a(49963),o={class:"search-input"},r={class:"content flex"},s={class:"flex-item"},u={class:"form-row"},c={class:"label"},d={class:"content"},p={key:1},f={key:2},h={key:0,class:"blockquote"},m={key:1,class:"blockquote"},g={key:0},v={key:1,class:"gray"},y={key:0},w={key:1,class:"gray"},k={key:1},b={key:2};var $=a(66347),_=a(95082),W=a(82482),S=(a(40561),a(57658),a(21249),a(57327),a(41539),a(54747),a(99684)),C=a(64137),z=a(61103),U=a(71900),q=a(69596),D=a(96486),T=a.n(D),j=a(85263),I=a(76754),N=a(86243),H=a(33907),P={name:"Upstreams",components:{HeadInfo:U.Z,PageLayout:z.Z,CardList:q.Z,PlusCircleTwoTone:S.Z,MinusCircleTwoTone:C.Z,FormItem:I.Z},i18n:a(89234),data:function(){return{ProviderSvg:N,isEdit:!1,viewtypevalue:0,viewtypeproject:null,viewtype:[{value:0,label:"All"}],visible:!1,payload:{id:"",name:"",services:[],content:(0,W.Z)({targets:[{host:"",port:""}],healthcheckPath:"",displayName:"",algo:null,sticky:"",headerKey:"",ttl:null},"ttl",null),description:""},service:{loading:!0,key:"",pageSize:10,pageNo:1,total:0,list:[]},bindTarget:{},targetType:"Host",editorIsCreate:!0,workload:[],upstreams:[],clusters:[],pageSize:12,pageNo:1,total:0,key:"",loading:!0,activities:[],config:{},teams:[],simpleImage:j.Z.PRESENTED_IMAGE_SIMPLE,algos:[{name:"RoundRobinLoadBalancer",id:"RoundRobinLoadBalancer"},{name:"LeastWorkLoadBalancer",id:"LeastWorkLoadBalancer"},{name:"HashingLoadBalancer",id:"HashingLoadBalancer"}]}},computed:(0,_.Z)((0,_.Z)({},(0,H.rn)("rules",["rules"])),{},{dataleftColumns:function(){return[{dataIndex:"name",title:this.$t("Name")},{dataIndex:"clusterName",title:this.$t("cluster")}]},datarightColumns:function(){return[{dataIndex:"name",title:this.$t("Name")},{dataIndex:"clusterName",title:this.$t("cluster")}]},start:function(){return(this.pageNo-1)*this.pageSize}}),created:function(){this.loading=!0,this.loaddata(),this.getServices()},mounted:function(){var t=this;this.timer=setInterval((function(){t.loaddata()}),5e3)},unmounted:function(){clearInterval(this.timer)},activated:function(){},methods:{removeTarget:function(t){var e=this.payload.content.targets.indexOf(t);-1!==e&&this.payload.content.targets.splice(e,1)},addTarget:function(){this.payload.content.targets.push({host:"",port:""})},add:function(){this.isEdit=!1,this.payload={id:"",name:"",cluster:null,services:[],content:{targets:[{host:"",port:""}],algo:null,sticky:"",headerKey:"",ttl:null,displayName:""},description:""},this.showModal()},getSample:function(){this.custom=this.customSample},showModal:function(){this.visible=!0},removeViewtypeproject:function(){this.viewtypeproject=null},onServiceChange:function(t){this.payload.services=t},getRowSelection:function(t,e,a,n){return{getCheckboxProps:function(e){return{disabled:t||e.disabled}},onSelectAll:function(t,e){var n=e.filter((function(t){return!t.disabled})).map((function(t){return t.key}));a(n,t)},onSelect:function(t,e){n(t.key,e)},selectedRowKeys:e}},serviceSearch:function(t,e){"left"==t&&(this.service.key=e,this.getServices())},servicePagging:function(t){this.service.pageNo=t},getServices:function(t,e){var a=this;t&&(this.service.pageNo=t,this.service.pageSize=e),this.service.loading=!0;var n={name:{contains:this.key}};this.$gql.query("getServices(pagination:{start: 0, limit: ".concat(this.$DFT_LIMIT,"}, filters: $filters){\n\t\t\t\t\t\tdata{id,attributes{\n\t\t\t\t\t\t\tuid,\n\t\t\t\t\t\t\tfleet{data{id,attributes{name}}},\n\t\t\t\t\t\t\tnamespace,\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tregistry{data{id,attributes{name}}},\n\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\tcreatedAt\n\t\t\t\t\t\t}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}"),{filters:n},{filters:"ServiceFiltersInput"}).then((function(t){a.service.list=t.data,a.service.list.forEach((function(t){t.name=t.name?t.name:t.metadata.name,t.registry?t.clusterName=t.registry.name:t.fleet?t.clusterName=t.fleet.name:t.clusterName="-",t.key="".concat(t.id)})),a.service.total=t.pagination.total,a.service.loading=!1}))},valid:function(){var t=this;("HashingLoadBalancer"!=this.payload.content.algo||this.payload.content.headerKey)&&(!this.payload.content.sticky||this.payload.content.headerKey)?this.$refs.form.validateFields().then((function(){t.handleOk()})).catch((function(){})):this.$message.error(this.$t("Please set Header key"),3)},handleOk:function(){var t=this,e=T().cloneDeep(this.payload);if(this.isEdit){var a=e.id;delete e.id,this.$gql.mutation("updateUpstream(id:".concat(a,", data: $data){data{id}}"),{data:e},{data:"UpstreamInput!"}).then((function(){t.visible=!1,t.$message.success(t.$t("Modified successfully"),3),t.loading=!0,t.loaddata()}))}else delete e.id,this.$gql.mutation("createUpstream(data: $data){data{id}}",{data:e},{data:"UpstreamInput!"}).then((function(){t.visible=!1,t.$message.success(t.$t("Created successfully"),3),t.loading=!0,t.loaddata()}))},remove:function(t,e,a){var n=this;this.$gql.mutation("deleteUpstream(id:".concat(a.id,"){data{id}}")).then((function(){n.$message.success(n.$t("Deleted successfully"),3),n.loading=!0,n.loaddata()}))},showModal2:function(){this.visible2=!0},getTimeLabel:function(t){return new Date(t[0]).toLocaleDateString()+"~"+new Date(t[1]).toLocaleDateString()},setting:function(t,e,a){var n=this;if(this.payload=T().cloneDeep(a),this.payload.services){var l=this.payload.services;this.payload.services=[],l.forEach((function(t){n.payload.services.push(t.id)}))}else this.payload.services=[];this.payload.cluster?this.payload.cluster=this.payload.cluster.id:this.payload.cluster=null,this.isEdit=!0,this.showModal()},edit:function(){},search:function(t,e){t&&(this.pageNo=t,this.pageSize=e),this.loading=!0,this.loaddata()},loaddata:function(){var t=this,e={name:{contains:this.key}};this.$gql.query("upstreams(filters: $filters, pagination:{start: ".concat(this.start,", limit: ").concat(this.pageSize,"}){\n\t\t\t\t\t\tdata{id,attributes{\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\tservices{data{id,attributes{name}}},\n\t\t\t\t\t\t\tcluster{data{id,attributes{name}}},\n\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}"),{filters:e},{filters:"UpstreamFiltersInput!"}).then((function(e){if(e.data){var a,n=(0,$.Z)(e.data);try{for(n.s();!(a=n.n()).done;){var l=a.value;l.content.targets=l.content.targets.filter((function(t){return t.host}))}}catch(t){n.e(t)}finally{n.f()}}t.upstreams=e.data,t.total=e.pagination.total,t.loading=!1})),this.$gql.query("registries{data{id,attributes{name}}}").then((function(e){t.clusters=e.data}))}}};var L=(0,a(83744).Z)(P,[["render",function(t,e,a,$,_,W){var S=(0,n.up)("a-input-search"),C=(0,n.up)("a-radio-button"),z=(0,n.up)("a-radio-group"),U=(0,n.up)("a-tag"),q=(0,n.up)("a-form-item"),D=(0,n.up)("a-form"),T=(0,n.up)("PlusCircleTwoTone"),j=(0,n.up)("HeadInfo"),I=(0,n.up)("a-card"),N=(0,n.up)("a-avatar"),H=(0,n.up)("a-badge"),P=(0,n.up)("a-card-meta"),L=(0,n.up)("CardList"),Z=(0,n.up)("a-pagination"),E=(0,n.up)("a-button"),O=(0,n.up)("a-input"),K=(0,n.up)("FormItem"),M=(0,n.up)("a-descriptions-item"),x=(0,n.up)("a-select-option"),B=(0,n.up)("a-select"),R=(0,n.up)("a-switch"),A=(0,n.up)("a-input-number"),F=(0,n.up)("MinusCircleTwoTone"),Y=(0,n.up)("a-table"),V=(0,n.up)("a-transfer"),G=(0,n.up)("a-textarea"),Q=(0,n.up)("a-descriptions"),J=(0,n.up)("a-modal"),X=(0,n.up)("PageLayout"),tt=(0,n.Q2)("permission");return(0,n.wg)(),(0,n.j4)(X,null,{headerContent:(0,n.w5)((function(){return[(0,n._)("div",{class:(0,l.C_)(["search-head",t.layout,t.pageWidth])},[(0,n._)("div",o,[(0,n.Wm)(S,{value:_.key,"onUpdate:value":e[0]||(e[0]=function(t){return _.key=t}),class:"search-ipt",onSearch:e[1]||(e[1]=function(t){return W.search()}),placeholder:t.$t("Please input")+"...",size:"large"},null,8,["value","placeholder"])]),(0,n.Wm)(I,{bordered:!1,class:"search-form"},{default:(0,n.w5)((function(){return[(0,n._)("div",r,[(0,n._)("div",s,[(0,n.Wm)(D,null,{default:(0,n.w5)((function(){return[(0,n._)("div",u,[(0,n._)("div",c,[(0,n._)("span",null,(0,l.zw)(t.$t("Card View")),1)]),(0,n._)("div",d,[(0,n.Wm)(q,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(z,{size:"small",value:_.viewtypevalue,"onUpdate:value":e[2]||(e[2]=function(t){return _.viewtypevalue=t}),"button-style":"solid"},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(_.viewtype,(function(e,a){return(0,n.wg)(),(0,n.j4)(C,{value:e.value,key:a},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,l.zw)(t.$t(e.label)),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"]),_.viewtypeproject?((0,n.wg)(),(0,n.j4)(U,{key:0,class:"ml-10",closable:"",onClose:W.removeViewtypeproject},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,l.zw)(_.viewtypeproject.name),1)]})),_:1},8,["onClose"])):(0,n.kq)("",!0)]})),_:1})])])]})),_:1})]),(0,n._)("div",null,[(0,n.wy)(((0,n.wg)(),(0,n.j4)(j,{class:"split-right",title:t.$t("Create Upstream")},{body:(0,n.w5)((function(){return[(0,n._)("div",null,[(0,n.Wm)(T,{onClick:W.add,class:"font-primary icon-menu rotate-icon"},null,8,["onClick"])])]})),_:1},8,["title"])),[[tt,["upstream:create"]]])])])]})),_:1})],2)]})),default:(0,n.w5)((function(){return[(0,n.Wm)(L,{"hide-action-title":!0,"data-source":_.upstreams,type:"component",loading:_.loading,actions:[{icon:"EditOutlined",text:t.$t("edit"),call:W.setting,permission:["upstream:update"]},{icon:"CloseOutlined",hide:!0,text:t.$t("delete"),call:W.remove,permission:["upstream:delete"]}]},{default:(0,n.w5)((function(t){var e=t.item;return[(0,n.Wm)(P,null,{title:(0,n.w5)((function(){return[(0,n._)("div",null,[e.cluster&&e.cluster.name?((0,n.wg)(),(0,n.j4)(U,{key:0,color:"pink",class:"result-tag"},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,l.zw)(e.cluster.name),1)]})),_:2},1024)):(0,n.kq)("",!0),e.content.displayName?((0,n.wg)(),(0,n.iD)("span",p,(0,l.zw)(e.content.displayName),1)):((0,n.wg)(),(0,n.iD)("span",f,(0,l.zw)(e.name),1))])]})),avatar:(0,n.w5)((function(){return[(0,n.Wm)(N,{class:"avatar-img font-30 primary",size:"small",shape:"square",src:_.ProviderSvg},null,8,["src"])]})),description:(0,n.w5)((function(){return[e.content&&e.content.targets&&e.content.targets.length>0?((0,n.wg)(),(0,n.iD)("blockquote",h,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.content.targets,(function(t,e){return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{key:e,class:"mr-20 nowrap"},[1==t.healthy?((0,n.wg)(),(0,n.j4)(H,{key:0,status:"processing"})):-1==t.healthy?((0,n.wg)(),(0,n.j4)(H,{key:1,status:"processing",color:"red"})):(0,n.kq)("",!0),(0,n.Uk)(" "+(0,l.zw)(t.host)+":"+(0,l.zw)(t.port)+" (Host) ",1)])),[[i.F8,t.host]])})),128))])):(0,n.kq)("",!0),e.services&&e.services.length>0?((0,n.wg)(),(0,n.iD)("blockquote",m,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.services,(function(t,e){return(0,n.wg)(),(0,n.iD)("div",{key:e,class:"mr-20 nowrap"},[1==t.healthy?((0,n.wg)(),(0,n.j4)(H,{key:0,status:"processing"})):-1==t.healthy?((0,n.wg)(),(0,n.j4)(H,{key:1,status:"processing",color:"red"})):(0,n.kq)("",!0),(0,n.Uk)(" "+(0,l.zw)(t.name)+" (Service) ",1)])})),128))])):(0,n.kq)("",!0)]})),_:2},1024)]})),_:1},8,["data-source","loading","actions"]),(0,n.Wm)(Z,{onChange:W.search,current:_.pageNo,"onUpdate:current":e[3]||(e[3]=function(t){return _.pageNo=t}),total:_.total,"page-size":_.pageSize,"show-less-items":""},null,8,["onChange","current","total","page-size"]),(0,n.Wm)(J,{visible:_.visible,"onUpdate:visible":e[15]||(e[15]=function(t){return _.visible=t}),title:t.$t("Upstream"),width:"80%"},{footer:(0,n.w5)((function(){return[_.isEdit?((0,n.wg)(),(0,n.j4)(E,{key:0,type:"primary",onClick:W.valid},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,l.zw)(t.$t("save")),1)]})),_:1},8,["onClick"])):((0,n.wg)(),(0,n.j4)(E,{key:1,type:"primary",onClick:W.valid},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,l.zw)(t.$t("create")),1)]})),_:1},8,["onClick"]))]})),default:(0,n.w5)((function(){return[(0,n.Wm)(D,{model:_.payload,"wrapper-col":{span:24},ref:"form"},{default:(0,n.w5)((function(){return[(0,n.Wm)(Q,{bordered:""},{default:(0,n.w5)((function(){return[(0,n.Wm)(M,{label:t.$t("as"),span:1},{default:(0,n.w5)((function(){return[(0,n.Wm)(K,{name:"name",rules:t.rules.uniqueName("upstreams",{id:_.payload.id,cluster:_.payload.cluster})},{default:(0,n.w5)((function(){return[(0,n.Wm)(O,{placeholder:t.$t("unset"),value:_.payload.name,"onUpdate:value":e[4]||(e[4]=function(t){return _.payload.name=t})},null,8,["placeholder","value"])]})),_:1},8,["rules"])]})),_:1},8,["label"]),(0,n.Wm)(M,{label:t.$t("Display Name"),span:2},{default:(0,n.w5)((function(){return[(0,n.Wm)(K,{name:["content","displayName"],rules:t.rules.required},{default:(0,n.w5)((function(){return[(0,n.Wm)(O,{placeholder:t.$t("unset"),value:_.payload.content.displayName,"onUpdate:value":e[5]||(e[5]=function(t){return _.payload.content.displayName=t})},null,8,["placeholder","value"])]})),_:1},8,["rules"])]})),_:1},8,["label"]),(0,n.Wm)(M,{label:t.$t("cluster"),span:1},{default:(0,n.w5)((function(){return[(0,n.Wm)(B,{placeholder:t.$t("unallocated"),class:"width-160",value:_.payload.cluster,"onUpdate:value":e[6]||(e[6]=function(t){return _.payload.cluster=t})},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(_.clusters,(function(t,e){return(0,n.wg)(),(0,n.j4)(x,{key:e,value:t.id},{default:(0,n.w5)((function(){return[t.id?((0,n.wg)(),(0,n.iD)("span",g,(0,l.zw)(t.name)+" (ID:"+(0,l.zw)(t.id)+")",1)):(0,n.kq)("",!0),t.id?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("i",v,(0,l.zw)(t.name),1))]})),_:2},1032,["value"])})),128))]})),_:1},8,["placeholder","value"])]})),_:1},8,["label"]),(0,n.Wm)(M,{label:t.$t("Healthcheck Path"),span:2},{default:(0,n.w5)((function(){return[(0,n.Wm)(O,{placeholder:t.$t("unset"),value:_.payload.content.healthcheckPath,"onUpdate:value":e[7]||(e[7]=function(t){return _.payload.content.healthcheckPath=t})},null,8,["placeholder","value"])]})),_:1},8,["label"]),(0,n.Wm)(M,{label:t.$t("Algo"),span:1},{default:(0,n.w5)((function(){return[(0,n.Wm)(K,{name:["content","algo"],rules:t.rules.required},{default:(0,n.w5)((function(){return[(0,n.Wm)(B,{placeholder:t.$t("unallocated"),class:"width-220",value:_.payload.content.algo,"onUpdate:value":e[8]||(e[8]=function(t){return _.payload.content.algo=t})},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(_.algos,(function(t,e){return(0,n.wg)(),(0,n.j4)(x,{key:e,value:t.id},{default:(0,n.w5)((function(){return[t.id?((0,n.wg)(),(0,n.iD)("span",y,(0,l.zw)(t.name),1)):(0,n.kq)("",!0),t.id?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("i",w,(0,l.zw)(t.name),1))]})),_:2},1032,["value"])})),128))]})),_:1},8,["placeholder","value"])]})),_:1},8,["rules"])]})),_:1},8,["label"]),(0,n.Wm)(M,{label:t.$t("Header key"),span:2},{default:(0,n.w5)((function(){return[(0,n.Wm)(K,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(O,{placeholder:t.$t("unset"),value:_.payload.content.headerKey,"onUpdate:value":e[9]||(e[9]=function(t){return _.payload.content.headerKey=t}),class:"width-220"},null,8,["placeholder","value"])]})),_:1})]})),_:1},8,["label"]),"HashingLoadBalancer"!=_.payload.content.algo?((0,n.wg)(),(0,n.j4)(M,{key:0,label:t.$t("Sticky"),span:_.payload.content.sticky?1:3},{default:(0,n.w5)((function(){return[(0,n.Wm)(R,{checked:_.payload.content.sticky,"onUpdate:checked":e[10]||(e[10]=function(t){return _.payload.content.sticky=t})},null,8,["checked"])]})),_:1},8,["label","span"])):(0,n.kq)("",!0),_.payload.content.sticky?((0,n.wg)(),(0,n.j4)(M,{key:1,label:t.$t("TTL(Seconds)"),span:2},{default:(0,n.w5)((function(){return[(0,n.Wm)(K,{name:["content","ttl"],rules:t.rules.numberRequired},{default:(0,n.w5)((function(){return[(0,n.Wm)(A,{min:0,value:_.payload.content.ttl,"onUpdate:value":e[11]||(e[11]=function(t){return _.payload.content.ttl=t}),placeholder:t.$t("unset"),class:"width-100"},null,8,["value","placeholder"])]})),_:1},8,["rules"])]})),_:1},8,["label"])):(0,n.kq)("",!0),(0,n.Wm)(M,{label:t.$t("Targets"),span:3},{default:(0,n.w5)((function(){return[(0,n.Wm)(z,{class:"mb-10",value:_.targetType,"onUpdate:value":e[12]||(e[12]=function(t){return _.targetType=t}),"option-type":"button",options:[{label:t.$t("Host"),value:"Host"},{label:t.$t("Service"),value:"Service"}]},null,8,["value","options"]),"Host"==_.targetType?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(_.payload.content.targets,(function(e,a){return(0,n.wg)(),(0,n.iD)("div",{key:a},[(0,n.Wm)(K,{class:"inline-block",name:["content","targets",a,"host"],rules:t.rules.required},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,l.zw)(t.$t("Host"))+" ",1),(0,n.Wm)(O,{value:e.host,"onUpdate:value":function(t){return e.host=t},placeholder:t.$t("unset"),class:"width-200"},null,8,["value","onUpdate:value","placeholder"])]})),_:2},1032,["name","rules"]),(0,n.Uk)(" "+(0,l.zw)(t.$t("Port"))+" ",1),(0,n.Wm)(A,{min:0,value:e.port,"onUpdate:value":function(t){return e.port=t},placeholder:t.$t("unset"),class:"width-100"},null,8,["value","onUpdate:value","placeholder"]),(0,n.Uk)(" "+(0,l.zw)(t.$t("Weight"))+" ",1),(0,n.Wm)(A,{min:0,value:e.weight,"onUpdate:value":function(t){return e.weight=t},placeholder:t.$t("unset"),class:"width-100"},null,8,["value","onUpdate:value","placeholder"]),_.payload.content.targets.length>1?((0,n.wg)(),(0,n.j4)(F,{key:0,class:"two-tone",disabled:1===_.payload.content.targets.length,onClick:function(t){return W.removeTarget(e)},"two-tone-color":"#00adef"},null,8,["disabled","onClick"])):(0,n.kq)("",!0),_.payload.content.targets.length-1==a?((0,n.wg)(),(0,n.j4)(T,{key:1,class:"two-tone",onClick:W.addTarget,"two-tone-color":"#00adef"},null,8,["onClick"])):(0,n.kq)("",!0)])})),128)):(0,n.kq)("",!0),"Host"==_.targetType&&0==_.payload.content.targets.length?((0,n.wg)(),(0,n.iD)("div",k,[(0,n.Wm)(T,{class:"two-tone",onClick:W.addTarget,"two-tone-color":"#00adef"},null,8,["onClick"])])):(0,n.kq)("",!0),"Service"==_.targetType?((0,n.wg)(),(0,n.iD)("div",b,[(0,n.Wm)(V,{titles:[" "+t.$t("Service")," "+t.$t("Added")],"data-source":_.service.list,"target-keys":_.payload.services,"onUpdate:target-keys":e[13]||(e[13]=function(t){return _.payload.services=t}),"show-search":!0,"filter-option":function(t,e){return-1!==e.name.indexOf(t)},"show-select-all":!1,onSearch:W.serviceSearch,onChange:W.onServiceChange},{children:(0,n.w5)((function(e){var a=e.direction,i=e.filteredItems,o=e.selectedKeys,r=e.disabled,s=e.onItemSelectAll,u=e.onItemSelect;return[(0,n.Wm)(Y,{"row-selection":W.getRowSelection(r,o,s,u),columns:"left"===a?W.dataleftColumns:W.datarightColumns,"data-source":i,size:"small",pagination:"left"===a&&{onChange:W.servicePagging,current:_.service.pageNo,pageSize:_.service.pageSize,showTotal:function(e,a){return"".concat(t.$t("Total")," ").concat(e)},total:_.service.total},style:(0,l.j5)({pointerEvents:r?"none":null}),"custom-row":function(t){var e=t.key,a=t.disabled;return{onClick:function(){a||r||u(e,!o.includes(e))}}}},null,8,["row-selection","columns","data-source","pagination","style","custom-row"])]})),_:1},8,["titles","data-source","target-keys","filter-option","onSearch","onChange"])])):(0,n.kq)("",!0)]})),_:1},8,["label"]),(0,n.Wm)(M,{label:t.$t("Description"),span:3},{default:(0,n.w5)((function(){return[(0,n.Wm)(G,{placeholder:t.$t("unset"),value:_.payload.description,"onUpdate:value":e[14]||(e[14]=function(t){return _.payload.description=t})},null,8,["placeholder","value"])]})),_:1},8,["label"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["visible","title"])]})),_:1})}],["__scopeId","data-v-d1ec9064"]])}}]);