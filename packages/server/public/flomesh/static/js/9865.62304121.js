"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[9865],{74353:function(e,t,a){a.d(t,{Z:function(){return d}});var n=a(66252),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},s=a(33058);function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){r(e,t,a[t])}))}return e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=function(e,t){var a=o({},e,t.attrs);return(0,n.Wm)(s.Z,o({},a,{icon:i}),null)};l.displayName="StopOutlined",l.inheritAttrs=!1;var d=l},80927:function(e,t,a){a.d(t,{Z:function(){return p}});var n=a(66252),i=a(3577);const s={class:"chart-card-header"},o={class:"meta"},r={class:"chart-card-title"},l={class:"chart-card-action"},d={key:0,class:"total"},c={class:"content-fix"},u={key:0,class:"chart-card-footer"};var m={name:"ChartCard",props:["title","hideTotal","loading","notFt","height","padding"]};var p=(0,a(83744).Z)(m,[["render",function(e,t,a,m,p,g){const h=(0,n.up)("a-card");return(0,n.wg)(),(0,n.j4)(h,{loading:a.loading,"body-style":{padding:a.padding?a.padding:"8px 24px 8px"},bordered:!1},{default:(0,n.w5)((()=>[(0,n._)("div",s,[(0,n._)("div",o,[(0,n._)("span",r,(0,i.zw)(a.title),1),(0,n._)("span",l,[(0,n.WI)(e.$slots,"action",{},void 0,!0)])]),a.hideTotal?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",d,[(0,n.WI)(e.$slots,"total",{},void 0,!0)]))]),(0,n._)("div",{class:(0,i.C_)(["chart-card-content",a.hideTotal?"hideTotal":""]),style:(0,i.j5)({height:a.height?a.height:"66px"})},[(0,n._)("div",c,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])],6),a.notFt?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",u,[(0,n.WI)(e.$slots,"footer",{},void 0,!0)]))])),_:3},8,["loading","body-style"])}],["__scopeId","data-v-909bd9a2"]])},36102:function(e,t,a){a.d(t,{Z:function(){return g}});var n=a(66252);const i={class:"cpu-body"},s={class:"cpu-body"},o={key:1},r={class:"relative"},l={class:"relative"};a(57658);var d=a(35316),c=a(80927),u=a(48551),m=a(72167),p={name:"CPUMemory",components:{ChartCard:c.Z,MiniArea:u.Z,InfoCircleOutlined:d.Z},i18n:a(89234),props:["metrics","loading","layout"],data(){return{cpu:[],memory:[],memortUnit:"Ki",loadingCPU:!1,loadingMemory:!1}},watch:{loading(){this.loadingCPU=this.loading,this.loadingMemory=this.loading},metrics(e){this.renderData(e)}},mounted(){this.renderData(this.metrics),this.loadingCPU=this.loading,this.loadingMemory=this.loading},methods:{renderData(e){this.cpu=[],this.memory=[];let t=0;for(let a=0;a<e.length;a++)e[a].memory>t&&(t=e[a].memory);this.memortUnit=t>1e6?"Gi":t>1e3?"Mi":"Ki";let a={Ki:1,Mi:1e3,Gi:1e6};for(let t=0;t<e.length;t++)this.cpu.push({type:"CPU",value:e[t].cpu/1e9,date:(0,m.Z)(new Date(1e3*e[t].time),"HH:mm")}),this.memory.push({type:"Memory",value:e[t].memory/a[this.memortUnit],date:(0,m.Z)(new Date(1e3*e[t].time),"HH:mm")})}}};var g=(0,a(83744).Z)(p,[["render",function(e,t,a,d,c,u){const m=(0,n.up)("MiniArea"),p=(0,n.up)("a-col"),g=(0,n.up)("a-row"),h=(0,n.up)("InfoCircleOutlined"),w=(0,n.up)("a-tooltip"),y=(0,n.up)("ChartCard");return(0,n.wg)(),(0,n.iD)("div",null,["v"!=a.layout?((0,n.wg)(),(0,n.j4)(g,{key:0,class:"cpu-layout",gutter:[24,0]},{default:(0,n.w5)((()=>[c.cpu?((0,n.wg)(),(0,n.j4)(p,{key:0,sm:24,md:12,xl:12},{default:(0,n.w5)((()=>[(0,n._)("div",i,[(0,n.Wm)(m,{colors:["rgba(107,204,255,1)","rgba(127,214,247,0.4)"],height:240,padding:[0,0,0,0],axis:!1,unit:"cores",showy:!1,id:"cpu-area"+Math.ceil(1e3*Math.random()),dv:c.cpu},null,8,["colors","id","dv"])])])),_:1})):(0,n.kq)("",!0),c.memory?((0,n.wg)(),(0,n.j4)(p,{key:1,sm:24,md:12,xl:12},{default:(0,n.w5)((()=>[(0,n._)("div",s,[(0,n.Wm)(m,{colors:["rgba(195,158,253,1)","rgba(195,158,253,0.4)"],height:240,padding:[0,0,0,0],unit:c.memortUnit,axis:!1,showy:!1,id:"memory-area"+Math.ceil(1e3*Math.random()),dv:c.memory},null,8,["colors","unit","id","dv"])])])),_:1})):(0,n.kq)("",!0)])),_:1})):(0,n.kq)("",!0),"v"==a.layout?((0,n.wg)(),(0,n.iD)("div",o,[c.cpu?((0,n.wg)(),(0,n.j4)(y,{key:0,padding:"20px 24px 28px",height:"120px","not-ft":!0,loading:c.loadingCPU,title:e.$t("CPU Usage"),class:"mb-20"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{title:e.$t("introduce")},{action:(0,n.w5)((()=>[(0,n.Wm)(h)])),_:1},8,["title"]),(0,n._)("div",r,[(0,n.Wm)(m,{colors:["rgba(107,204,255,1)","rgba(127,214,247,0.4)"],height:230,padding:[55,5,5,15],axis:!0,unit:"cores",id:"cpu-area"+Math.ceil(1e3*Math.random()),dv:c.cpu},null,8,["colors","id","dv"])])])),_:1},8,["loading","title"])):(0,n.kq)("",!0),c.memory?((0,n.wg)(),(0,n.j4)(y,{key:1,padding:"20px 24px 28px",height:"120px","not-ft":!0,loading:c.loadingMemory,title:e.$t("Memory Usage")},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{title:e.$t("introduce")},{action:(0,n.w5)((()=>[(0,n.Wm)(h)])),_:1},8,["title"]),(0,n._)("div",l,[(0,n.Wm)(m,{colors:["rgba(195,158,253,1)","rgba(195,158,253,0.4)"],height:230,padding:[55,5,5,15],axis:!0,unit:c.memortUnit,id:"memory-area"+Math.ceil(1e3*Math.random()),dv:c.memory},null,8,["colors","unit","id","dv"])])])),_:1},8,["loading","title"])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])}],["__scopeId","data-v-ef2e4ec2"]])},16822:function(e,t,a){a.d(t,{Z:function(){return g}});var n=a(66252);const i={class:"statusIcon"},s={href:"javascript:void(0)"},o={key:5,class:"icon svg","aria-hidden":"true"},r=["xlink:href"];var l=a(74353),d=a(50320),c=a(70001),u=a(58721),m=a(13868),p={name:"Status",components:{StopOutlined:l.Z,LoadingOutlined:d.Z,CheckCircleFilled:c.Z,CloseCircleFilled:u.Z,WarningFilled:m.Z},props:["d"],i18n:a(89234),data(){return{iconStatus:{running:"success",pending:"pending",success:"success",stop:"stop",failed:"error",Normal:"success",Pending:"pending",Succeeded:"success",Success:"success",Completed:"success",Complete:"success",Running:"success",Warning:"warning",ImagePullBackOff:"error",ErrImagePull:"error","Init: CrashLoopBackOff":"error","Init:Error":"error","Error: ErrImagePull":"error","Back-off restarting failed container":"error"}}},computed:{status(){return this.iconStatus[this.d?this.d.status||(this.d[0]?this.d[0].status:null):"Success"]}}};var g=(0,a(83744).Z)(p,[["render",function(e,t,a,l,d,c){const u=(0,n.up)("LoadingOutlined"),m=(0,n.up)("StopOutlined"),p=(0,n.up)("CloseCircleFilled"),g=(0,n.up)("CheckCircleFilled"),h=(0,n.up)("WarningFilled"),w=(0,n.up)("a-tooltip");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(w,{placement:"topLeft",title:a.d?a.d.message||a.d[0]&&a.d[0].message:""},{default:(0,n.w5)((()=>[(0,n._)("a",s,["pending"==c.status?((0,n.wg)(),(0,n.j4)(u,{key:0,class:"font-18 font-primary svg"})):"stop"==c.status?((0,n.wg)(),(0,n.j4)(m,{key:1,class:"danger font-18 svg"})):"error"==c.status?((0,n.wg)(),(0,n.j4)(p,{key:2,class:"danger font-18 svg"})):"success"==c.status?((0,n.wg)(),(0,n.j4)(g,{key:3,class:"font-18 success svg"})):"warning"==c.status?((0,n.wg)(),(0,n.j4)(h,{key:4,class:"font-18 svg warning"})):((0,n.wg)(),(0,n.iD)("svg",o,[(0,n._)("use",{"xlink:href":c.status},null,8,r)]))])])),_:1},8,["title"])])}],["__scopeId","data-v-5c100524"]])},39357:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var n=a(66252),i=a(3577);const s={key:1},o=["onClick"],r={key:2},l={key:5},d=["onClick"];a(57658);var c=a(87849),u=a(36102),m=a(51461),p=a(5966),g=a(16822);const h=[{key:" ",dataIndex:"t"},{key:"as",dataIndex:"name"},{key:"Namespace",width:130,dataIndex:"namespace"},{key:"Labels",dataIndex:"labels"},{key:"Pods",dataIndex:"pods"},{key:"Container Images",dataIndex:"containerImages"},{key:"Creation Timestamp",dataIndex:"creationTimestamp"},{key:"Action",width:130,dataIndex:"action"}];var w={name:"DaemonSets",components:{CPUMemory:u.Z,DownOutlined:c.Z,ImageTags:m.Z,PodStatusTags:p.Z,Status:g.Z},i18n:a(89234),data(){return{params:{key:"",pageNo:1,pageSize:10,total:0},metrics:[],columns:h,loading:!1,list:[]}},computed:{dataColumns(){return this.columns.map((e=>(e.title=this.$t(e.key),e)))}},created(){this.search()},methods:{detail(e,t){this.$router.push({path:`/workload/daemonset/detail/${t}/${e}`})},URL(){let e=this.$REST.K8S.append(this.params.pageSize,this.params.pageNo,"d,creationTimestamp",this.params.key);return this.$REST.K8S.encode(this.$REST.K8S.DAEMONSET,e)},search(e,t){e&&(this.params.pageNo=e,this.params.pageSize=t),this.loading=!0,this.$request(this.URL(),this.$METHOD.GET).then((e=>{let t=e.data;this.list=this.reset(t.items),this.params.total=t.count,this.metrics=t.metrics,this.loading=!1}))},reset(e){for(let t=0;t<e.length;t++)e[t].uid=e[t].metadata.uid,e[t].name=e[t].metadata.name,e[t].namespace=e[t].metadata.namespace,e[t].labels=e[t].metadata.labels,e[t].creationTimestamp=new Date(e[t].metadata.creationTimestamp).toLocaleString();return e}}};var y=(0,a(83744).Z)(w,[["render",function(e,t,a,c,u,m){const p=(0,n.up)("CPUMemory"),g=(0,n.up)("a-input-search"),h=(0,n.up)("Status"),w=(0,n.up)("a-tag"),y=(0,n.up)("ImageTags"),f=(0,n.up)("PodStatusTags"),v=(0,n.up)("a-menu-item"),k=(0,n.up)("a-menu"),b=(0,n.up)("DownOutlined"),_=(0,n.up)("a-dropdown"),C=(0,n.up)("a-table"),I=(0,n.up)("a-card");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(p,{loading:u.loading,metrics:u.metrics},null,8,["loading","metrics"]),(0,n.Wm)(I,{class:"card nopd",title:e.$t("Daemon Sets"),loading:u.loading},{extra:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(g,{value:u.params.key,"onUpdate:value":t[0]||(t[0]=e=>u.params.key=e),onSearch:t[1]||(t[1]=e=>m.search()),class:"right-search-input",placeholder:e.$t("search")},null,8,["value","placeholder"])])])),default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(C,{pagination:{showSizeChanger:!0,showQuickJumper:!1,onShowSizeChange:m.search,onChange:m.search,current:u.params.pageNo,pageSize:u.params.pageSize,showTotal:(t,a)=>`${e.$t("Total")} ${t}`,total:u.params.total},columns:m.dataColumns,"data-source":u.list},{bodyCell:(0,n.w5)((({column:t,record:a})=>["t"===t.dataIndex?((0,n.wg)(),(0,n.j4)(h,{key:0,d:a.podInfo?.warnings},null,8,["d"])):"name"===t.dataIndex?((0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("a",{href:"javascript:void(0)",onClick:e=>m.detail(a.name,a.namespace)},(0,i.zw)(a.name),9,o)])):"labels"===t.dataIndex?((0,n.wg)(),(0,n.iD)("div",r,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(a.labels),((e,t)=>((0,n.wg)(),(0,n.j4)(w,{key:t,closable:!1},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e)+":"+(0,i.zw)(a.labels[e]),1)])),_:2},1024)))),128))])):"containerImages"===t.dataIndex?((0,n.wg)(),(0,n.j4)(y,{key:3,d:a},null,8,["d"])):"pods"===t.dataIndex?((0,n.wg)(),(0,n.j4)(f,{key:4,d:a.podInfo},null,8,["d"])):"action"===t.dataIndex?((0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(_,null,{overlay:(0,n.w5)((()=>[(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n._)("a",{onClick:e=>m.detail(a.name,a.namespace)},(0,i.zw)(e.$t("view")),9,d)])),_:2},1024)])),_:2},1024)])),default:(0,n.w5)((()=>[(0,n._)("a",null,[(0,n.Uk)((0,i.zw)(e.$t("more"))+" ",1),(0,n.Wm)(b)])])),_:2},1024)])):(0,n.kq)("",!0)])),_:1},8,["pagination","columns","data-source"])])])),_:1},8,["title","loading"])])}],["__scopeId","data-v-384707a6"]])},51461:function(e,t,a){a.d(t,{Z:function(){return r}});var n=a(66252),i=a(3577);const s={key:0};var o={name:"ImageTags",props:["d"],i18n:a(89234)};var r=(0,a(83744).Z)(o,[["render",function(e,t,a,o,r,l){const d=(0,n.up)("a-tag");return a.d.spec?.template?.spec?.containers?((0,n.wg)(),(0,n.iD)("div",s,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.d.spec.template.spec.containers,((e,t)=>((0,n.wg)(),(0,n.j4)(d,{key:t,closable:!1},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e.image),1)])),_:2},1024)))),128))])):(0,n.kq)("",!0)}]])},5966:function(e,t,a){a.d(t,{Z:function(){return r}});var n=a(66252),i=a(3577);const s={key:0};var o={name:"PodStatusTags",props:["d"],i18n:a(89234)};var r=(0,a(83744).Z)(o,[["render",function(e,t,a,o,r,l){const d=(0,n.up)("a-badge"),c=(0,n.up)("a-tag");return a.d?((0,n.wg)(),(0,n.iD)("div",s,[null!=a.d.running?((0,n.wg)(),(0,n.j4)(c,{key:0,closable:!1},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e.$t("Running"))+" ",1),(0,n.Wm)(d,{count:a.d.running,"show-zero":!0},null,8,["count"])])),_:1})):(0,n.kq)("",!0),null!=a.d.desired?((0,n.wg)(),(0,n.j4)(c,{key:1,closable:!1},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e.$t("Desired"))+" ",1),(0,n.Wm)(d,{count:a.d.desired,"show-zero":!0},null,8,["count"])])),_:1})):(0,n.kq)("",!0),null!=a.d.available?((0,n.wg)(),(0,n.j4)(c,{key:2,closable:!1},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e.$t("Available"))+" ",1),(0,n.Wm)(d,{count:a.d.available,"show-zero":!0},null,8,["count"])])),_:1})):(0,n.kq)("",!0),null!=a.d.updated?((0,n.wg)(),(0,n.j4)(c,{key:3,closable:!1},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e.$t("Updated"))+" ",1),(0,n.Wm)(d,{count:a.d.updated,"show-zero":!0},null,8,["count"])])),_:1})):(0,n.kq)("",!0),null!=a.d.replicas?((0,n.wg)(),(0,n.j4)(c,{key:4,closable:!1},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e.$t("total"))+": ",1),(0,n.Wm)(d,{count:a.d.replicas,"show-zero":!0},null,8,["count"])])),_:1})):(0,n.kq)("",!0)])):(0,n.kq)("",!0)}]])}}]);