"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[750],{1299:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(66252),i=n(3577),r={key:0,class:"title"};n(9653);var s={name:"DetailList",props:{title:{type:String,required:!1,default:""},col:{type:Number,required:!1,default:3},size:{type:String,required:!1,default:"large"},layout:{type:String,required:!1,default:"horizontal"}}};var l=(0,n(83744).Z)(s,[["render",function(e,t,n,s,l,u){var o=(0,a.up)("a-row");return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["detail-list","small"===n.size?"small":"large","vertical"===n.layout?"vertical":"horizontal"]),style:(0,i.j5)("flex-"+n.col)},[n.title?((0,a.wg)(),(0,a.iD)("div",r,(0,i.zw)(n.title),1)):(0,a.kq)("",!0),(0,a.Wm)(o,null,{default:(0,a.w5)((function(){return[(0,a.WI)(e.$slots,"default")]})),_:3})],6)}]])},13589:function(e,t,n){n.d(t,{Z:function(){return u}});n(68309);var a=n(66252),i=n(3577),r={class:"detail-content"};n(21249);var s={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{xs:24,sm:12,md:6}},l={name:"DetailListItem",i18n:n(39945),props:{name:{type:String,required:!1,default:""},rules:{type:Array,required:!1,default:function(){return[]}},term:{type:String,required:!1,default:""},termTop:{type:Boolean}},data:function(){return{col:2,responsive:s}},computed:{getRules:function(){var e=this;return this.rules.map((function(t){return t.message=e.$t(t.message),t})),this.rules}},created:function(){this.$parent&&this.$parent.$parent&&this.$parent.$parent.col>0&&(this.col=this.$parent.$parent.col)},methods:{}};var u=(0,n(83744).Z)(l,[["render",function(e,t,n,s,l,u){var o=(0,a.up)("a-form-item"),c=(0,a.up)("a-col");return(0,a.wg)(),(0,a.j4)(c,(0,a.dG)({class:"detail-list-content flex"},l.responsive[l.col]),{default:(0,a.w5)((function(){return[(0,a._)("div",{class:(0,i.C_)(n.termTop?"term top":"term")},(0,i.zw)(n.term),3),(0,a._)("div",r,[n.rules?((0,a.wg)(),(0,a.j4)(o,{key:0,name:n.name,rules:u.getRules},{default:(0,a.w5)((function(){return[(0,a.WI)(e.$slots,"default")]})),_:3},8,["name","rules"])):(0,a.WI)(e.$slots,"default",{key:1})])]})),_:3},16)}]])},70927:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});n(68309);var a=n(66252),i=n(3577),r=n(87932),s=(0,a._)("img",{src:r,style:{width:"200px"}},null,-1);var l=n(95082),u=(n(41539),n(54747),n(57658),n(93327)),o=n(33907),c=n(13554),d={name:"RegistryDetail",i18n:n(89234),components:{ServiceList:c.Z,RegistryBaseDetail:u.Z},data:function(){return{selectedKeys:[],selectedNS:[],namespaces:[],detail:{organization:null,type:"k8s",name:"",content:{domain:"",credit:"",autoUpstream:!1,autoApplication:!1,isGateway:!0,gatewayPath:"",gatewayPort:0},address:""},types:[{name:"k8s"}],orgs:[],pjsConfig:"",pid:"",json:'{ "":"" }',config:"",noTitleKey:""}},computed:(0,l.Z)((0,l.Z)({},(0,o.rn)("setting",["isMobile"])),{},{namespaceTabs:function(){var e=[];return this.namespaces.forEach((function(t){e.push({key:t.id,tab:t.name,services:t.services.length})})),e}}),created:function(){this.pid=this.$route.params.id||""},methods:{enabledChange:function(e){var t=this;this.$gql.mutation("updateServiceSync(id: ".concat(e.id,", data: $data){data{id}}"),{data:{deleted:!e.enabled}},{data:"ServiceInput!"}).then((function(){t.$message.success(t.$t("Save successfully"),3)}))},getDetail:function(e){this.detail=e.detail,this.namespaces=e.namespaces,this.selectedKeys=e.selectedKeys,this.selectedNS=e.selectedNS||[]},selectNS:function(e){var t=this;this.selectedNS={services:[]},this.detail.namespaces.forEach((function(n){n.id==e&&(t.selectedNS=n)}))},handleChange:function(){}}};var f=(0,n(83744).Z)(d,[["render",function(e,t,n,r,l,u){var o=(0,a.up)("a-result"),c=(0,a.up)("a-select-option"),d=(0,a.up)("a-select"),f=(0,a.up)("a-button"),p=(0,a.up)("ServiceList"),m=(0,a.up)("a-col"),g=(0,a.up)("a-row"),h=(0,a.up)("a-tab-pane"),y=(0,a.up)("a-tabs"),v=(0,a.up)("RegistryBaseDetail");return(0,a.wg)(),(0,a.j4)(v,{ref:"RegistryBaseDetail",pid:l.pid,types:l.types,onGetDetail:u.getDetail},{tabs:(0,a.w5)((function(){return[(0,a.Wm)(y,{type:"card",onChange:e.cardchange},{default:(0,a.w5)((function(){return[(0,a.Wm)(h,{key:"1",tab:e.$t("Namespace")},{default:(0,a.w5)((function(){return[""==l.pid?((0,a.wg)(),(0,a.j4)(o,{key:0,"sub-title":e.$t("Please save the registration certificate first")},{icon:(0,a.w5)((function(){return[s]})),_:1},8,["sub-title"])):(0,a.kq)("",!0),""!=l.pid?((0,a.wg)(),(0,a.j4)(g,{key:1,class:"row-mg"},{default:(0,a.w5)((function(){return[(0,a.Wm)(m,{class:"col-pd",xl:24,lg:24,md:24,sm:24,xs:24},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{mode:"registry","embed-services":l.selectedNS.services,"tab-list":u.namespaceTabs,tabKey:l.selectedKeys,"onUpdate:tabKey":t[1]||(t[1]=function(e){return l.selectedKeys=e}),embed:!0,metric:!1,"has-search":!1,onNsChange:u.selectNS,onEnabledChange:u.enabledChange},(0,a.Nv)({organization:(0,a.w5)((function(t){var n=t.item;return[n.organization?((0,a.wg)(),(0,a.j4)(d,{key:0,placeholder:e.$t("unset"),value:n.organization.id,"onUpdate:value":function(e){return n.organization.id=e},onChange:function(t){return e.assignOrganizationByItem(n.id,n.organization.id)},class:"width-180",ref:"select"},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.orgs,(function(e,t){return(0,a.wg)(),(0,a.j4)(c,{value:e.id,key:t},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(e.name),1)]})),_:2},1032,["value"])})),128))]})),_:2},1032,["placeholder","value","onUpdate:value","onChange"])):(0,a.kq)("",!0)]})),_:2},[e.$isPro?{name:"extra",fn:(0,a.w5)((function(){return[(0,a.Wm)(d,{placeholder:e.$t("unset"),value:l.selectedNS.organizationId,"onUpdate:value":t[0]||(t[0]=function(e){return l.selectedNS.organizationId=e}),class:"width-180",ref:"select"},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.orgs,(function(e,t){return(0,a.wg)(),(0,a.j4)(c,{value:e.id,key:t},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(e.name),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["placeholder","value"]),(0,a.Wm)(f,{class:"ml-10",type:"primary",onClick:e.assignOrganization},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(e.$t("Assign Organization")),1)]})),_:1},8,["onClick"])]})),key:"0"}:void 0]),1032,["embed-services","tab-list","tabKey","onNsChange","onEnabledChange"])]})),_:1})]})),_:1})):(0,a.kq)("",!0)]})),_:1},8,["tab"])]})),_:1},8,["onChange"])]})),_:1},8,["pid","types","onGetDetail"])}]])}}]);