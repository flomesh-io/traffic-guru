"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[5289],{74353:function(e,t,a){a.d(t,{Z:function(){return l}});var s=a(66252),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},n=a(33058);function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},s=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),s.forEach((function(t){o(e,t,a[t])}))}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d=function(e,t){var a=r({},e,t.attrs);return(0,s.Wm)(n.Z,r({},a,{icon:i}),null)};d.displayName="StopOutlined",d.inheritAttrs=!1;var l=d},16822:function(e,t,a){a.d(t,{Z:function(){return v}});var s=a(66252);const i={class:"statusIcon"},n={href:"javascript:void(0)"},r={key:5,class:"icon svg","aria-hidden":"true"},o=["xlink:href"];var d=a(74353),l=a(50320),c=a(70001),p=a(58721),u=a(13868),g={name:"Status",components:{StopOutlined:d.Z,LoadingOutlined:l.Z,CheckCircleFilled:c.Z,CloseCircleFilled:p.Z,WarningFilled:u.Z},props:["d"],i18n:a(89234),data(){return{iconStatus:{running:"success",pending:"pending",success:"success",stop:"stop",failed:"error",Normal:"success",Pending:"pending",Succeeded:"success",Success:"success",Completed:"success",Complete:"success",Running:"success",Warning:"warning",ImagePullBackOff:"error",ErrImagePull:"error","Init: CrashLoopBackOff":"error","Init:Error":"error","Error: ErrImagePull":"error","Back-off restarting failed container":"error"}}},computed:{status(){return this.iconStatus[this.d?this.d.status||(this.d[0]?this.d[0].status:null):"Success"]}}};var v=(0,a(83744).Z)(g,[["render",function(e,t,a,d,l,c){const p=(0,s.up)("LoadingOutlined"),u=(0,s.up)("StopOutlined"),g=(0,s.up)("CloseCircleFilled"),v=(0,s.up)("CheckCircleFilled"),m=(0,s.up)("WarningFilled"),b=(0,s.up)("a-tooltip");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(b,{placement:"topLeft",title:a.d?a.d.message||a.d[0]&&a.d[0].message:""},{default:(0,s.w5)((()=>[(0,s._)("a",n,["pending"==c.status?((0,s.wg)(),(0,s.j4)(p,{key:0,class:"font-18 font-primary svg"})):"stop"==c.status?((0,s.wg)(),(0,s.j4)(u,{key:1,class:"danger font-18 svg"})):"error"==c.status?((0,s.wg)(),(0,s.j4)(g,{key:2,class:"danger font-18 svg"})):"success"==c.status?((0,s.wg)(),(0,s.j4)(v,{key:3,class:"font-18 success svg"})):"warning"==c.status?((0,s.wg)(),(0,s.j4)(m,{key:4,class:"font-18 svg warning"})):((0,s.wg)(),(0,s.iD)("svg",r,[(0,s._)("use",{"xlink:href":c.status},null,8,o)]))])])),_:1},8,["title"])])}],["__scopeId","data-v-5c100524"]])},70394:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var s=a(66252),i=a(3577);var n=a(69384),r=a(88711),o=a(96991),d=a(44107),l=a(49702),c=a(47556),p=a(990),u=a(9112),g={name:"ServicesDetail",i18n:a(89234),components:{ServiceBaseDetail:n.Z,ServiceOverview:r.Z,PodList:o.Z,Json2YamlCard:d.Z,EmbedDashboard:p.Z,LogViewer:l.Z,ServiceExportCard:u.Z},data(){return{DEFAULT_SERVICE_DETAIL:c.ZC,activeKey:"1",external:{url:"",type:"Http://",token:""},visibleAP:!1,dialTestings:[],visible:!1,aclKey:"2",extend:{plugins:[],certificates:[],identitys:{},log:{level:"All"}},registry:{type:"",name:"",content:{}},ns:{id:"",name:""},pods:[],detail:{endpoints:[],spec:{type:"",clusterIP:"",sessionAffinity:"",ports:[]},metadata:{name:"",namespace:"",labels:{},annotations:{}},typeMeta:{},podInfo:{},containerImages:[],selector:{},statusInfo:{},conditions:[],rollingUpdateStrategy:{maxUnavailable:"",maxSurge:""},whiteExcludedPath:{},blackExcludedPath:{}},pjsConfig:"",contentString:"",loading:!0,pid:"",namespace:"",isMounted:!1,metrics:[],subscribeServices:[],subscribeServicesTo:[],subscribeServicesAll:[],whitelistServices:[],blacklistServices:[],exportData:{content:{portNumber:8080,path:""}},exportLoading:!1,modalVisible:!1,isExportEdit:!0}},created(){this.pid=this.$route.params.id||"",this.namespace=this.$route.params.namespace||localStorage.getItem("NAMESPACE")},mounted(){},methods:{exportOpen(){this.activeKey="15",this.modalVisible=!0},exportStart(){this.exportLoading=!0},exportSave(){this.exportLoading=!1},saveLogLevel(e){this.$refs.ServiceBaseDetail.saveLogLevel(e)},getSaveData(){this.$refs.ServiceBaseDetail.getSaveData()},setSaveData(){this.$refs.ServiceBaseDetail.setSaveData()}}};var v=(0,a(83744).Z)(g,[["render",function(e,t,a,n,r,o){const d=(0,s.up)("a-button"),l=(0,s.up)("ServiceOverview"),c=(0,s.up)("a-tab-pane"),p=(0,s.up)("PodList"),u=(0,s.up)("a-card"),g=(0,s.up)("Json2YamlCard"),v=(0,s.up)("ServiceExportCard"),m=(0,s.up)("LogViewer"),b=(0,s.up)("EmbedDashboard"),S=(0,s.up)("a-tabs"),f=(0,s.up)("ServiceBaseDetail"),y=(0,s.Q2)("permission");return(0,s.wg)(),(0,s.j4)(f,{loading:r.loading,"onUpdate:loading":t[5]||(t[5]=e=>r.loading=e),namespace:r.namespace,"onUpdate:namespace":t[6]||(t[6]=e=>r.namespace=e),pid:r.pid,"onUpdate:pid":t[7]||(t[7]=e=>r.pid=e),contentString:r.contentString,"onUpdate:contentString":t[8]||(t[8]=e=>r.contentString=e),detail:r.detail,"onUpdate:detail":t[9]||(t[9]=e=>r.detail=e),registry:r.registry,"onUpdate:registry":t[10]||(t[10]=e=>r.registry=e),ns:r.ns,"onUpdate:ns":t[11]||(t[11]=e=>r.ns=e),pods:r.pods,"onUpdate:pods":t[12]||(t[12]=e=>r.pods=e),extend:r.extend,"onUpdate:extend":t[13]||(t[13]=e=>r.extend=e),hasExport:r.isExportEdit,"onUpdate:hasExport":t[14]||(t[14]=e=>r.isExportEdit=e),blacklistServices:r.blacklistServices,"onUpdate:blacklistServices":t[15]||(t[15]=e=>r.blacklistServices=e),whitelistServices:r.whitelistServices,"onUpdate:whitelistServices":t[16]||(t[16]=e=>r.whitelistServices=e),subscribeServices:r.subscribeServices,"onUpdate:subscribeServices":t[17]||(t[17]=e=>r.subscribeServices=e),subscribeServicesTo:r.subscribeServicesTo,"onUpdate:subscribeServicesTo":t[18]||(t[18]=e=>r.subscribeServicesTo=e),subscribeServicesAll:r.subscribeServicesAll,"onUpdate:subscribeServicesAll":t[19]||(t[19]=e=>r.subscribeServicesAll=e),ref:"ServiceBaseDetail"},{action:(0,s.w5)((()=>[r.isExportEdit?(0,s.kq)("",!0):(0,s.wy)(((0,s.wg)(),(0,s.j4)(d,{key:0,loading:r.exportLoading,type:"primary",onClick:o.exportOpen},{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.$t("Export")),1)])),_:1},8,["loading","onClick"])),[[y,["service:update"]]])])),tabs:(0,s.w5)((()=>[(0,s.Wm)(S,{type:"card",activeKey:r.activeKey,"onUpdate:activeKey":t[4]||(t[4]=e=>r.activeKey=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{key:"1",tab:e.$t("Overview")},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{pid:r.pid,detail:r.detail,"onUpdate:detail":t[0]||(t[0]=e=>r.detail=e),registry:r.registry},null,8,["pid","detail","registry"])])),_:1},8,["tab"]),""!=r.pid&&"k8s"==r.registry.type?((0,s.wg)(),(0,s.j4)(c,{key:"3",tab:e.$t("Pods")},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"card nopd",bordered:!1,loading:r.loading},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{embed:!0,namespace:r.namespace,"has-search":!1,d:r.pods},null,8,["namespace","d"])])),_:1},8,["loading"])])),_:1},8,["tab"])):(0,s.kq)("",!0),(0,s.Wm)(c,{key:"11",tab:e.$t("config"),onClick:o.getSaveData},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"card full nopd","is-readonly":!1,"is-create":!1,jsonVal:r.contentString,"onUpdate:jsonVal":t[1]||(t[1]=e=>r.contentString=e),onChange:o.setSaveData},null,8,["jsonVal","onChange"])])),_:1},8,["tab","onClick"]),r.pid?((0,s.wg)(),(0,s.j4)(c,{key:"15",tab:e.$t("MCS")},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{sid:r.pid,ports:r.detail?.spec?.ports,loading:r.loading,isEdit:r.isExportEdit,"onUpdate:isEdit":t[2]||(t[2]=e=>r.isExportEdit=e),modal:r.modalVisible,"onUpdate:modal":t[3]||(t[3]=e=>r.modalVisible=e),onStart:o.exportStart,onSave:o.exportSave},null,8,["sid","ports","loading","isEdit","modal","onStart","onSave"])])),_:1},8,["tab"])):(0,s.kq)("",!0),""!=r.pid?((0,s.wg)(),(0,s.j4)(c,{key:"13",tab:e.$t("log")},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{uid:r.pid,params:{name:r.detail.metadata?.name,namespace:r.detail.metadata?.namespace,domain:r.registry.content?.domain},type:"service","log-level":r.extend.log.level,onSave:o.saveLogLevel},null,8,["uid","params","log-level","onSave"])])),_:1},8,["tab"])):(0,s.kq)("",!0),""!=r.pid?((0,s.wg)(),(0,s.j4)(c,{key:"14",tab:e.$t("Dashboard")},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{"page-id":r.pid,params:{name:r.detail.metadata?.name,namespace:r.ns?.name,namespaceId:r.ns?.id,domain:r.registry.content?.domain},apply:"service","default-widget":r.DEFAULT_SERVICE_DETAIL,"hide-add":"14"!=r.activeKey},null,8,["page-id","params","default-widget","hide-add"])])),_:1},8,["tab"])):(0,s.kq)("",!0)])),_:1},8,["activeKey"])])),_:1},8,["loading","namespace","pid","contentString","detail","registry","ns","pods","extend","hasExport","blacklistServices","whitelistServices","subscribeServices","subscribeServicesTo","subscribeServicesAll"])}],["__scopeId","data-v-d77bf064"]])}}]);