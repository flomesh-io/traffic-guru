"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[7413],{34531:function(t,e,n){n.d(e,{Z:function(){return h}});n(74916),n(64765),n(68309);var a=n(66252),i=n(3577),l={key:0,class:"flex pd-10"},r={key:0,class:"flex-item"},u={class:"flex-item"},o={class:"pl-10"},s=["xlink:href"],c={class:"card-selector-title"};n(41539),n(54747),n(21249),n(57327),n(69826);var d=n(85263),p=n(75255),m=n(60459),f={name:"CardSelector",components:{CheckOutlined:p.Z,EnvSelector:m.Z},props:["loading","envFilter","search","options","icon","placement","disabled","value","getTag","svg","col","width","multiple"],emits:["envChange","select"],data:function(){return{simpleImage:d.Z.PRESENTED_IMAGE_SIMPLE,visible:!1,key:""}},i18n:n(89234),computed:{multipleSelectNum:function(){var t=0;return this.options.forEach((function(e){e.checked&&t++})),t},filterOptions:function(){var t=this;if(this.key){var e=this.options.filter((function(e){return(e.name||e.username||"").indexOf(t.key)>=0}));return e.map((function(t){null==t.checked&&(t.checked=!1)})),e}var n=this.options;return n.map((function(t){null==t.checked&&(t.checked=!1)})),n}},watch:{value:{handler:function(){var t=this;this.multiple&&this.options.forEach((function(e){e.checked=!!t.value.find((function(t){return e.id==t.id}))}))},deep:!0}},methods:{envChange:function(t){this.$emit("envChange",t)},multipleSelect:function(){this.visible=!1;var t=this.options.filter((function(t){return t.checked}));this.$emit("select",t),this.$emit("update:value",t)},select:function(t){this.multiple?this.options.forEach((function(e){e.id==t.id&&(e.checked=!e.checked)})):(this.visible=!1,this.$emit("update:value",t.id),this.$emit("select",t))}}};var h=(0,n(83744).Z)(f,[["render",function(t,e,n,d,p,m){var f=(0,a.up)("EnvSelector"),h=(0,a.up)("a-input-search"),g=(0,a.up)("a-button"),v=(0,a.up)("a-empty"),y=(0,a.up)("a-skeleton"),w=(0,a.up)("a-card-grid"),b=(0,a.up)("a-card"),k=(0,a.up)("CheckOutlined"),_=(0,a.up)("a-tag"),x=(0,a.up)("a-popover");return(0,a.wg)(),(0,a.j4)(x,{placement:n.placement||"bottom","overlay-class-name":"selector-popover",visible:p.visible,"onUpdate:visible":e[1]||(e[1]=function(t){return p.visible=t}),trigger:"click"},{content:(0,a.w5)((function(){return[n.search?((0,a.wg)(),(0,a.iD)("div",l,[n.envFilter?((0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(f,{"no-all":!0,"is-filter":!0,onEnvChange:m.envChange},null,8,["onEnvChange"])])):(0,a.kq)("",!0),(0,a._)("div",u,[(0,a.Wm)(h,{value:p.key,"onUpdate:value":e[0]||(e[0]=function(t){return p.key=t}),class:"full",placeholder:t.$t("search")},null,8,["value","placeholder"])]),(0,a._)("div",o,[n.multiple?((0,a.wg)(),(0,a.j4)(g,{key:0,type:"primary",onClick:m.multipleSelect,disabled:0==m.multipleSelectNum},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(t.$t("Ok")),1)]})),_:1},8,["onClick","disabled"])):(0,a.kq)("",!0)])])):(0,a.kq)("",!0),n.loading||0!=m.filterOptions.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(v,{key:1,image:p.simpleImage},null,8,["image"])),(0,a._)("div",{class:"overflow-auto scrollbar",style:(0,i.j5)("max-height:"+90*(t.rows||5)+"px")},[n.loading?((0,a.wg)(),(0,a.j4)(b,{key:0,class:"grid-menu",style:(0,i.j5)("width: "+(n.width?n.width:300)+"px")},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{class:"selector-item",style:{width:"100%",padding:"15px"}},{default:(0,a.w5)((function(){return[(0,a.Wm)(y,{avatar:"",paragraph:{rows:2}})]})),_:1})]})),_:1},8,["style"])):((0,a.wg)(),(0,a.j4)(b,{key:1,class:"grid-menu",style:(0,i.j5)("width: "+(n.width?n.width:300)+"px")},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(m.filterOptions,(function(t,e){return(0,a.wg)(),(0,a.j4)(w,{class:(0,i.C_)(["selector-item",(n.value==t.id?"selected":"")+(n.disabled&&n.disabled(t)?" disabled":"")]),key:e,value:t.id,style:(0,i.j5)(n.col?"width:"+100/n.col+"%":n.options.length>=3?"width: 33%;":2==n.options.length?"width:50%;":"width:100%;"),onClick:function(e){return m.select(t)}},{default:(0,a.w5)((function(){return[t.checked?((0,a.wg)(),(0,a.j4)(k,{key:0,class:"CheckOutlined"})):(0,a.kq)("",!0),(0,a._)("div",{class:(0,i.C_)(n.getTag?"mt-15":"")},[n.icon?((0,a.wg)(),(0,a.j4)((0,a.LL)(n.icon),{key:0,"two-tone-color":"#00adef"})):n.svg?((0,a.wg)(),(0,a.iD)("svg",{key:1,class:(0,i.C_)([n.getTag?"mt-20":"","card-avatar icon"]),"aria-hidden":"true"},[(0,a._)("use",{"xlink:href":n.svg},null,8,s)],2)):(0,a.kq)("",!0),(0,a._)("div",c,(0,i.zw)(t.name||t.username),1)],2),n.getTag&&n.getTag(t)?((0,a.wg)(),(0,a.j4)(_,{key:1,class:"ribbon",color:"#f5f5f5"},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(n.getTag(t)),1)]})),_:2},1024)):(0,a.kq)("",!0)]})),_:2},1032,["class","value","style","onClick"])})),128))]})),_:1},8,["style"]))],4)]})),default:(0,a.w5)((function(){return[(0,a.WI)(t.$slots,"default",{},void 0,!0)]})),_:3},8,["placement","visible"])}],["__scopeId","data-v-30bb0bbf"]])},9294:function(t,e,n){n.d(e,{Z:function(){return r}});var a=n(66252);n(74916),n(15306);var i=n(29764);(0,n(25552).H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return n.e(6015).then(n.bind(n,6015))}});var l={name:"JsEditor",components:{monacoeditor:i.Z},props:["value","height","isReadonly","id","theme"],data:function(){return{code:"",cmOptions:{lineNumbers:!0,mode:"javascript",readOnly:!1,lint:!0}}},watch:{value:function(t,e){t!==e&&this.setValue()}},mounted:function(){this.setValue()},methods:{change:function(t){"string"==typeof t&&(this.$emit("update:value",t),this.$emit("change",t))},setValue:function(){null!=this.value.replace&&(this.code=this.value)}}};var r=(0,n(83744).Z)(l,[["render",function(t,e,n,i,l,r){var u=(0,a.up)("monacoeditor");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(u,{id:n.id||"JsEditor",content:l.code,"onUpdate:content":e[0]||(e[0]=function(t){return l.code=t}),option:l.cmOptions,onChange:r.change,height:n.height,theme:n.theme,"is-readonly":n.isReadonly},null,8,["id","content","option","onChange","height","theme","is-readonly"])])}]])},1299:function(t,e,n){n.d(e,{Z:function(){return u}});var a=n(66252),i=n(3577),l={key:0,class:"title"};n(9653);var r={name:"DetailList",props:{title:{type:String,required:!1,default:""},col:{type:Number,required:!1,default:3},size:{type:String,required:!1,default:"large"},layout:{type:String,required:!1,default:"horizontal"}}};var u=(0,n(83744).Z)(r,[["render",function(t,e,n,r,u,o){var s=(0,a.up)("a-row");return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["detail-list","small"===n.size?"small":"large","vertical"===n.layout?"vertical":"horizontal"]),style:(0,i.j5)("flex-"+n.col)},[n.title?((0,a.wg)(),(0,a.iD)("div",l,(0,i.zw)(n.title),1)):(0,a.kq)("",!0),(0,a.Wm)(s,null,{default:(0,a.w5)((function(){return[(0,a.WI)(t.$slots,"default")]})),_:3})],6)}]])},13589:function(t,e,n){n.d(e,{Z:function(){return o}});n(68309);var a=n(66252),i=n(3577),l={class:"detail-content"};n(21249);var r={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{xs:24,sm:12,md:6}},u={name:"DetailListItem",i18n:n(39945),props:{name:{type:String,required:!1,default:""},rules:{type:Array,required:!1,default:function(){return[]}},term:{type:String,required:!1,default:""},termTop:{type:Boolean}},data:function(){return{col:2,responsive:r}},computed:{getRules:function(){var t=this;return this.rules.map((function(e){return e.message=t.$t(e.message),e})),this.rules}},created:function(){this.$parent&&this.$parent.$parent&&this.$parent.$parent.col>0&&(this.col=this.$parent.$parent.col)},methods:{}};var o=(0,n(83744).Z)(u,[["render",function(t,e,n,r,u,o){var s=(0,a.up)("a-form-item"),c=(0,a.up)("a-col");return(0,a.wg)(),(0,a.j4)(c,(0,a.dG)({class:"detail-list-content flex"},u.responsive[u.col]),{default:(0,a.w5)((function(){return[(0,a._)("div",{class:(0,i.C_)(n.termTop?"term top":"term")},(0,i.zw)(n.term),3),(0,a._)("div",l,[n.rules?((0,a.wg)(),(0,a.j4)(s,{key:0,name:n.name,rules:o.getRules},{default:(0,a.w5)((function(){return[(0,a.WI)(t.$slots,"default")]})),_:3},8,["name","rules"])):(0,a.WI)(t.$slots,"default",{key:1})])]})),_:3},16)}]])},9280:function(t,e,n){n.d(e,{Z:function(){return c}});var a=n(66252),i=(0,a._)("div",{id:"DataChart",class:"height-500"},null,-1),l=(0,a._)("div",{id:"PercentilesChart",class:"height-500"},null,-1);n(38862),n(41539),n(54747),n(57658);var r=n(21936),u=n(3336);n(92222),n(68309);function o(t,e){var n=document.getElementById(t.id);n&&e.dispose(n);var a,i=e.init(n);(a={title:{text:t.title},tooltip:t.tooltip,legend:{data:t.legend},grid:{left:"3%",right:"4%",bottom:t.hasZoom?"60px":"10px",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},dataZoom:t.hasZoom?[{type:"slider",start:0,end:100,labelFormatter:function(e){return Math.ceil(100*e/t.xAxisLength)+"%"}}]:null,xAxis:t.xAxis,yAxis:{boundaryGap:!0,name:t.yAxis.name,type:"value"},series:t.series})&&"object"===(0,u.Z)(a)&&i.setOption(a)}var s={name:"TestReportContent",i18n:n(89234),components:{JsonEditor:r.Z},props:["reports"],data:function(){return{}},computed:{logStringify:function(){return this.reports?JSON.stringify(this.reports):"{}"}},mounted:function(){var t,e,n,a,i,l=[];this.reports.forEach((function(t){1==t.status&&l.push(t.content)})),t=l,e=this.$echarts,n=[],a=[],i=[],t&&t.forEach((function(t){if(t.DurationHistogram&&t.DurationHistogram.Percentiles){i=[];var e=[];e.push({value:0}),i.push(0),t.DurationHistogram.Percentiles.forEach((function(t){e.push({value:1e3*t.Value}),i.push(t.Percentile)}));var l="pipy-".concat(t.StartTime.split(".")[0]);a.push(l),n.push({name:l,type:"line",areaStyle:{},smooth:!0,data:e})}})),o({id:"PercentilesChart",title:"Latency P99",legend:a,tooltip:{trigger:"axis"},xAxis:{data:i,name:"(%)",boundaryGap:!1,type:"category"},yAxis:{name:"(ms)"},series:n},e),function(t,e){var n=[],a=[],i=0;t&&t.forEach((function(t){if(t.DurationHistogram&&t.DurationHistogram.Data){var e=[];t.DurationHistogram.Data.forEach((function(t){var n=Math.ceil(1e3*t.Start),a=Math.ceil(1e3*t.End);e.push({type:"start",value:[n,t.Count],start:n,end:a,lantency:a-n,count:t.Count,percent:Math.ceil(t.Percent)}),e.push({type:"end",value:[a,t.Count],start:n,end:a,lantency:a-n,count:t.Count,percent:Math.ceil(t.Percent)}),i<a&&(i=a)}));var l="pipy-".concat(t.StartTime.split(".")[0]);a.push(l),n.push({name:l,type:"line",symbol:"none",areaStyle:{},smooth:!1,data:e})}})),o({id:"DataChart",title:"TPS",hasZoom:!0,legend:a,tooltip:{trigger:"axis",formatter:function(t){var e="";return t.forEach((function(t){"end"==t.data.type&&(e+='<span style="background:'.concat(t.color,';width:10px;height:10px;display:inline-block;margin-right:10px"></span>').concat(t.data.start,"ms ~ ").concat(t.data.end,"ms (").concat(t.data.lantency,"ms) / ").concat(t.data.count," (").concat(t.data.percent,"%)<br/>"))})),e}},xAxisLength:i,xAxis:{name:"(ms)",max:i,type:"value"},yAxis:{},series:n},e)}(l,this.$echarts)},methods:{}};var c=(0,n(83744).Z)(s,[["render",function(t,e,n,r,u,o){var s=(0,a.up)("a-col"),c=(0,a.up)("a-row"),d=(0,a.up)("a-tab-pane"),p=(0,a.up)("JsonEditor"),m=(0,a.up)("a-tabs");return n.reports&&n.reports.length>0?((0,a.wg)(),(0,a.j4)(m,{key:0,type:"card"},{default:(0,a.w5)((function(){return[(0,a.Wm)(d,{key:"1",tab:t.$t("Overview")},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{class:"row-mg"},{default:(0,a.w5)((function(){return[(0,a.Wm)(s,{class:"col-pd",xl:24,lg:24,md:24,sm:24,xs:24},{default:(0,a.w5)((function(){return[i,l]})),_:1})]})),_:1})]})),_:1},8,["tab"]),(0,a.Wm)(d,{key:"2",tab:t.$t("log")},{default:(0,a.w5)((function(){return[(0,a.Wm)(p,{"is-readonly":!0,value:o.logStringify},null,8,["value"])]})),_:1},8,["tab"])]})),_:1})):(0,a.kq)("",!0)}]])},91821:function(t,e,n){n.r(e),n.d(e,{default:function(){return T}});n(68309),n(74916),n(64765),n(92222);var a=n(66252),i=n(3577),l={class:"content"},r={class:"flex"},u={class:"flex-item"},o=["onClick"],s={class:"flex-item"},c={key:0},d={key:1},p={class:"flex-item"},m={class:"flex-item"},f={class:"font-right"};var h=n(95082),g=(n(41539),n(54747),n(15306),n(57658),n(9280)),v=n(50320),y=n(13471),w=n(2692),b=n(61103),k=n(1299),_=n(33907),x=n(50976),$=n(34531),C=n(13589),W=n(9294),S={name:"TestcaseDetail",i18n:n(89234),components:{LoadingOutlined:v.Z,DetailListItem:C.Z,DetailList:k.Z,PageLayout:b.Z,TestReportContent:g.Z,AutoForm:x.Z,FieldTimeOutlined:y.Z,MoreOutlined:w.Z,JsEditor:W.Z,CardSelector:$.Z},data:function(){return{selectTR:[],selectReports:[],running:!1,initMapping:[{label:"Basic",fields:[[{name:"jitter",type:"boolean",unit:"",label:"Jitter",value:!1},{name:"uniform",type:"boolean",unit:"",label:"Uniform",value:!1},{name:"p",type:"text",unit:"",label:"Percentiles",value:"50, 75, 90, 99, 99.9"},{name:"r",type:"number",unit:"",label:"Histogram Resolution",value:"0.0001"},{name:"c",type:"number",unit:"",label:"Threads/Simultaneous connections",value:"8"},{name:"qps",type:"number",unit:"",label:"QPS",value:"1000"},{name:"t",type:"number",unit:"s",label:"Duration",value:"3"},{name:"n",type:"number",unit:"calls",label:"or run for exactly",value:""},{name:"tMax",type:"boolean",unit:"s",label:"or run until interrupted",value:!1}]]},{label:"Load using",fields:[[{name:"runner",type:"select",unit:"",label:"Runner",value:"tcp/udp/http",options:[{label:"tcp/udp/http",value:"tcp/udp/http"},{label:"grpc",value:"grpc"}]},{name:"https-insecure",type:"boolean",unit:"",label:"https insecure",value:!0,showBy:{runner:"tcp/udp/http"}},{name:"stdclient",type:"boolean",unit:"",label:"standard go client instead of fastclient",value:!1,showBy:{runner:"tcp/udp/http"}},{name:"sequential-warmup",type:"boolean",unit:"",label:"sequential warmup",value:!1,showBy:{runner:"tcp/udp/http"}},{name:"resolve",type:"text",unit:"",label:"resolve",value:"",showBy:{runner:"tcp/udp/http"}},{name:"grpc-secure",type:"boolean",unit:"",label:"grpc secure transport (tls)",value:!0,showBy:{runner:"grpc"}},{name:"ping",type:"boolean",unit:"",label:"using ping backend",value:!1,showBy:{runner:"grpc"}},{name:"grpc-ping-delay",type:"number",unit:"s",label:"ping delay",value:"0",showBy:{runner:"grpc"}},{name:"json",type:"boolean",unit:"",label:"JSON output",value:!1,showBy:{runner:"grpc"}},{name:"save",type:"boolean",unit:"",label:"Save output",value:!1,showBy:{runner:"grpc"}}]]}],visible:!1,detail:{content:{pipyJS:""},name:"New Fortio",url:"http://localhost:8080//echo?delay=250us:30,5ms:5&status=503:0.5,429:1.5",H:"User-Agent: fortio.org/fortio-dev",payload:"",timeout:"750"},loading:!0,timeoutCnt:1,fortios:[],pid:"",key:"",pageNo:1,pageSize:10,total:0,testresults:[]}},computed:(0,h.Z)((0,h.Z)({},(0,_.rn)("setting",["isMobile"])),{},{start:function(){return(this.pageNo-1)*this.pageSize}}),created:function(){var t=this;this.pid=this.$route.params.id||"",this.$gql.query('fleets(filters:{type:{eq:"fortio"}}){data{id,attributes{name,content}}}').then((function(e){t.fortios=e.data})),""!=this.pid&&(this.loading=!0,this.$gql.query("testcase(id: ".concat(this.pid,"){data{id,attributes{name,content}}}")).then((function(e){var n=e.data;t.detail=n,t.detail.name=t.detail.name?t.detail.name:n.content.name,t.detail.url=n.content.url,t.detail.timeout=n.content.timeout,t.detail.payload=n.content.payload,t.detail.H=n.content.H,t.initMapping.forEach((function(t){t.fields.forEach((function(t){t.forEach((function(t){n.content[t.name]&&("t"==t.name?t.value=n.content[t.name].replace(t.unit,""):t.value=n.content[t.name])}))}))})),t.search(),t.timer()})))},methods:{remove:function(t){var e=this;this.$gql.mutation("deleteTestresult(id:".concat(t,"){data{id}}")).then((function(){e.$message.success(e.$t("Deleted successfully"),3),e.search()}))},onTabChange:function(t){},previewAlone:function(t){this.selectReports=[t],this.visible=!0},preview:function(){var t=this;this.selectReports=[],this.selectTR.forEach((function(e){t.testresults.forEach((function(n){n.id==e&&(t.selectReports.push(n),t.visible=!0)}))}))},valid:function(){return""!=this.detail.name||(this.$message.error(this.$t("The name cannot be empty"),3),!1)},edit:function(){this.$router.push({path:"/inspector/testcase/edit/"+this.pid})},save:function(t){var e=this;if(this.valid()){this.running=!0;var n={};n.testcase=this.pid;var a={};a.targets=t,n.content=a,""!=this.pid&&this.$gql.mutation("runTestcase(data: $data)",{data:n},{data:"TestCaseRunInput"}).then((function(){e.$message.success(e.$t("Created successfully"),3),e.running=!1}))}},handleChange:function(){},search:function(t,e,n,a){var i=this;this.pageNo=t||1,a||(this.loading=!0);var l={testcase:{eq:thispid}};this.$gql.query('testresults(sort: "id:DESC", filters: $filters, pagination:{ start: '.concat(this.start,", limit: ").concat(this.pageSize,"}){\n\t\t\t\t\t\tdata{id,attributes{status,content,updatedAt,createdAt}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}"),{filters:l},{filters:"TestresultFiltersInput"}).then((function(t){i.testresults=t.data,i.total=t.pagination.total,i.loading=!1}))},hide:function(){this.visible=!1},timer:function(){var t=this;setTimeout((function(){t.search(null,null,null,!0),t.timer(),t.timeoutCnt++}),2e3*this.timeoutCnt)}}};var T=(0,n(83744).Z)(S,[["render",function(t,e,n,h,g,v){var y=(0,a.up)("DetailListItem"),w=(0,a.up)("DetailList"),b=(0,a.up)("a-button"),k=(0,a.up)("CardSelector"),_=(0,a.up)("a-checkbox"),x=(0,a.up)("LoadingOutlined"),$=(0,a.up)("a-badge"),C=(0,a.up)("FieldTimeOutlined"),W=(0,a.up)("a-popconfirm"),S=(0,a.up)("a-menu-item"),T=(0,a.up)("a-menu"),D=(0,a.up)("MoreOutlined"),j=(0,a.up)("a-dropdown"),z=(0,a.up)("a-list-item"),Z=(0,a.up)("a-list"),E=(0,a.up)("a-checkbox-group"),q=(0,a.up)("a-card"),R=(0,a.up)("a-col"),A=(0,a.up)("AutoForm"),L=(0,a.up)("a-row"),O=(0,a.up)("a-tab-pane"),U=(0,a.up)("JsEditor"),P=(0,a.up)("a-tabs"),H=(0,a.up)("TestReportContent"),I=(0,a.up)("a-modal"),M=(0,a.up)("PageLayout");return(0,a.wg)(),(0,a.j4)(M,{"hide-breadcrumb":!0,title:g.detail.name},{headerContent:(0,a.w5)((function(){return[(0,a.Wm)(w,{size:"small",col:2},{default:(0,a.w5)((function(){return[(0,a.Wm)(y,{term:t.$t("as")},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(g.detail.name||"-"),1)]})),_:1},8,["term"]),(0,a.Wm)(y,{term:t.$t("Timeout")+" (ms)"},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(g.detail.timeout||"-"),1)]})),_:1},8,["term"]),(0,a.Wm)(y,{term:t.$t("Headers")},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(g.detail.H||"-"),1)]})),_:1},8,["term"]),(0,a.Wm)(y,{term:t.$t("Payload")},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(g.detail.payload||"-"),1)]})),_:1},8,["term"]),(0,a.Wm)(y,{term:t.$t("URL")},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(g.detail.url||"-"),1)]})),_:1},8,["term"])]})),_:1})]})),action:(0,a.w5)((function(){return[(0,a.Wm)(b,{onClick:v.edit,class:"mr-10"},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(t.$t("edit")),1)]})),_:1},8,["onClick"]),(0,a.Wm)(k,{search:!0,width:400,col:2,svg:"#icon-fortio",onSelect:v.save,multiple:!0,"get-tag":function(t){return t.content.host},options:g.fortios},{default:(0,a.w5)((function(){return[(0,a._)("a",null,[(0,a.Wm)(b,{loading:g.running,key:"submit",type:"primary"},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(g.running?t.$t("Running"):t.$t("Run")),1)]})),_:1},8,["loading"])])]})),_:1},8,["onSelect","get-tag","options"])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(L,{class:"mg-0"},{default:(0,a.w5)((function(){return[(0,a.Wm)(R,{class:"col-pd",xl:24,lg:24,md:24,sm:24,xs:24},{default:(0,a.w5)((function(){return[(0,a.Wm)(P,{type:"card"},{default:(0,a.w5)((function(){return[(0,a.Wm)(O,{key:"1",tab:t.$t("Overview")},{default:(0,a.w5)((function(){return[(0,a.Wm)(L,{class:"row-mg"},{default:(0,a.w5)((function(){return[(0,a.Wm)(R,{class:"col-pd",xl:16,lg:24,md:24,sm:24,xs:24},{default:(0,a.w5)((function(){return[(0,a.Wm)(q,{class:"search-content",title:t.$t("Test Report"),loading:g.loading},{extra:(0,a.w5)((function(){return[g.testresults.length>1?((0,a.wg)(),(0,a.j4)(b,{key:0,onClick:v.preview,type:"primary",disabled:g.selectTR.length<=1},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(t.$t("Multiple Preview")),1)]})),_:1},8,["onClick","disabled"])):(0,a.kq)("",!0)]})),default:(0,a.w5)((function(){return[(0,a.Wm)(E,{value:g.selectTR,"onUpdate:value":e[0]||(e[0]=function(t){return g.selectTR=t}),class:"full"},{default:(0,a.w5)((function(){return[(0,a.Wm)(Z,{"item-layout":"vertical",pagination:{showSizeChanger:!1,showQuickJumper:!1,onShowSizeChange:v.search,onChange:v.search,current:g.pageNo,pageSize:g.pageSize,showTotal:function(e,n){return"".concat(t.$t("Total")," ").concat(e)},total:g.total}},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.testresults,(function(e,n){return(0,a.wg)(),(0,a.j4)(z,{key:n},{default:(0,a.w5)((function(){return[(0,a._)("div",l,[(0,a._)("div",r,[(0,a._)("div",u,[(0,a._)("div",null,[g.testresults.length>1?((0,a.wg)(),(0,a.j4)(_,{key:0,disabled:1!=e.status,value:e.id,class:"mr-10"},null,8,["disabled","value"])):(0,a.kq)("",!0),(0,a._)("a",{onClick:function(t){return v.previewAlone(e)}},[(0,a._)("b",null,"#"+(0,i.zw)(e.id),1)],8,o)])]),(0,a._)("div",s,[(0,a._)("div",null,[0==e.status?((0,a.wg)(),(0,a.iD)("span",c,[(0,a.Wm)(x,{class:"font-primary"}),(0,a.Uk)(" "+(0,i.zw)(t.$t("Running")),1)])):((0,a.wg)(),(0,a.iD)("span",d,[(0,a.Wm)($,{color:["red","processing","green"][e.status+1],text:t.$t(["Failed","Running","Done"][e.status+1])},null,8,["color","text"])]))])]),(0,a._)("div",p,[(0,a._)("div",null,[(0,a._)("b",null,(0,i.zw)(t.$t("Target")),1),(0,a.Uk)(" : "),(0,a._)("span",null,(0,i.zw)(e.from||"-"),1)])]),(0,a._)("div",m,[(0,a._)("div",null,[(0,a.Wm)(C),(0,a._)("span",null,(0,i.zw)(new Date(e.updatedAt).toLocaleString()),1)])]),(0,a._)("div",f,[(0,a._)("div",null,[(0,a.Wm)(j,null,{overlay:(0,a.w5)((function(){return[(0,a.Wm)(T,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(S,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(W,{placement:"topLeft","ok-text":t.$t("Yes"),"cancel-text":t.$t("No"),onConfirm:function(t){return v.remove(e.id)}},{title:(0,a.w5)((function(){return[(0,a._)("p",null,(0,i.zw)(t.$t("Tip")),1),(0,a._)("p",null,(0,i.zw)(t.$t("Are you sure to delete this?")),1)]})),default:(0,a.w5)((function(){return[(0,a._)("a",null,(0,i.zw)(t.$t("delete")),1)]})),_:2},1032,["ok-text","cancel-text","onConfirm"])]})),_:2},1024)]})),_:2},1024)]})),default:(0,a.w5)((function(){return[(0,a._)("a",null,[(0,a.Wm)(D)])]})),_:2},1024)])])])])]})),_:2},1024)})),128))]})),_:1},8,["pagination"])]})),_:1},8,["value"])]})),_:1},8,["title","loading"])]})),_:1}),(0,a.Wm)(R,{class:"col-pd",xl:8,lg:24,md:24,sm:24,xs:24},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.initMapping,(function(t,e){return(0,a.wg)(),(0,a.j4)(q,{key:e,class:"card mb-24",title:t.label,bordered:!1,loading:g.loading},{default:(0,a.w5)((function(){return[(0,a.Wm)(A,{col:1,fields:t.fields,class:"disabed-element"},null,8,["fields"])]})),_:2},1032,["title","loading"])})),128))]})),_:1})]})),_:1})]})),_:1},8,["tab"]),(0,a.Wm)(O,{key:"2",tab:t.$t("PipyJS")},{default:(0,a.w5)((function(){return[(0,a.Wm)(U,{"is-readonly":!0,value:g.detail.content.pipyJS},null,8,["value"])]})),_:1},8,["tab"])]})),_:1})]})),_:1})]})),_:1}),(0,a.Wm)(I,{"destroy-on-close":!0,visible:g.visible,"onUpdate:visible":e[1]||(e[1]=function(t){return g.visible=t}),title:t.$t("Test Report Detail"),footer:null,width:"70%"},{default:(0,a.w5)((function(){return[(0,a.Wm)(H,{reports:g.selectReports},null,8,["reports"])]})),_:1},8,["visible","title"])]})),_:1},8,["title"])}]])}}]);