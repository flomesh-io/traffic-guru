(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[6428],{69098:function(t,e,n){"use strict";n(77710)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(95631))},51532:function(t,e,n){n(69098)},16428:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return y}});n(74916),n(64765),n(92222),n(68309);var a=n(66252),i=n(3577),o=["onClick"],r=["onClick"],u={class:"list-content"},l={class:"list-content-item"},c={class:"list-content-item"};var s=n(66347),d=(n(57658),n(51532),n(41539),n(78783),n(33948),n(57327),n(2692)),p=n(99684),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"},m=n(33058);function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){w(t,e,n[e])}))}return t}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t,e){var n=h({},t,e.attrs);return(0,a.Wm)(m.Z,h({},n,{icon:f}),null)};g.displayName="EnvironmentOutlined",g.inheritAttrs=!1;var v=g,_={name:"List",i18n:n(89234),components:{MoreOutlined:d.Z,PlusCircleTwoTone:p.Z,EnvironmentOutlined:v},data:function(){return{key:"",loading:!1,pools:[],pageSize:10,pageNo:1,total:0}},computed:{start:function(){return(this.pageNo-1)*this.pageSize}},created:function(){this.search()},methods:{remove:function(t){var e=this;this.$gql.mutation("deleteAddressPool(id:".concat(t,"){data{id,attributes{name, organization{data{id}}}}}")).then((function(){e.$message.success(e.$t("Deleted successfully"),3),e.search()}))},detail:function(t){this.$router.push({path:"/flb/address/detail/"+t})},newPool:function(){this.$router.push({path:"/flb/address/create"})},search:function(t,e){var n=this;t&&(this.pageNo=t,this.pageSize=e),this.loading=!0;var a={name:{contains:this.key}};this.$gql.query("myAddressPools(filters: $filters, pagination:{start: ".concat(this.start,", limit: ").concat(this.pageSize,"}){\n\t\t\t\t\t\tdata{id,attributes{name,content,total, addresses{data{id,attributes{ip}}}}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}"),{filters:a},{filters:"AddressPoolFiltersInput"}).then((function(t){var e,a=(0,s.Z)(t.data);try{var i=function(){var t=e.value,n=new Map,a=t.addresses.filter((function(t){return!n.has(t.ip)&&n.set(t.ip,1)}));t.addressesCount=a.length};for(a.s();!(e=a.n()).done;)i()}catch(t){a.e(t)}finally{a.f()}n.pools=t.data,n.total=t.pagination.total,n.loading=!1}))}}};var y=(0,n(83744).Z)(_,[["render",function(t,e,n,s,d,p){var f=(0,a.up)("a-input-search"),m=(0,a.up)("a-divider"),h=(0,a.up)("PlusCircleTwoTone"),w=(0,a.up)("a-button"),g=(0,a.up)("EnvironmentOutlined"),v=(0,a.up)("a-list-item-meta"),_=(0,a.up)("a-menu-item"),y=(0,a.up)("a-popconfirm"),b=(0,a.up)("a-menu"),C=(0,a.up)("MoreOutlined"),z=(0,a.up)("a-dropdown"),k=(0,a.up)("a-list-item"),$=(0,a.up)("a-list"),O=(0,a.up)("a-card"),W=(0,a.Q2)("permission");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(O,{bordered:!1,title:t.$t("addressPool")+t.$t("list"),loading:d.loading},{extra:(0,a.w5)((function(){return[(0,a._)("div",null,[(0,a.Wm)(f,{value:d.key,"onUpdate:value":e[0]||(e[0]=function(t){return d.key=t}),class:"right-search-input",onSearch:e[1]||(e[1]=function(t){return p.search()}),placeholder:t.$t("search")},null,8,["value","placeholder"]),(0,a.Wm)(m,{type:"vertical"}),(0,a.wy)(((0,a.wg)(),(0,a.j4)(w,{type:"link",shape:"circle",onClick:p.newPool},{icon:(0,a.w5)((function(){return[(0,a.Wm)(h,{class:"font-20 icon-menu-sm rotate-icon"})]})),_:1},8,["onClick"])),[[W,["address-pool:create"]]])])]})),default:(0,a.w5)((function(){return[(0,a.Wm)($,{size:"large",pagination:{showSizeChanger:!0,showQuickJumper:!1,onShowSizeChange:p.search,onChange:p.search,current:d.pageNo,pageSize:d.pageSize,showTotal:function(e,n){return"".concat(t.$t("Total")," ").concat(e)},total:d.total}},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.pools,(function(e,n){return(0,a.wg)(),(0,a.j4)(k,{key:n},{actions:(0,a.w5)((function(){return[(0,a._)("div",null,[(0,a.Wm)(z,null,{overlay:(0,a.w5)((function(){return[(0,a.Wm)(b,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(_,null,{default:(0,a.w5)((function(){return[(0,a.wy)(((0,a.wg)(),(0,a.iD)("a",{onClick:function(t){return p.detail(e.id)}},[(0,a.Uk)((0,i.zw)(t.$t("edit")),1)],8,r)),[[W,["address-pool:update"]]])]})),_:2},1024),(0,a.Wm)(_,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(y,{placement:"topLeft","ok-text":t.$t("Yes"),"cancel-text":t.$t("No"),onConfirm:function(t){return p.remove(e.id)}},{title:(0,a.w5)((function(){return[(0,a._)("p",null,(0,i.zw)(t.$t("Tip")),1),(0,a._)("p",null,(0,i.zw)(t.$t("Are you sure to delete this?")),1)]})),default:(0,a.w5)((function(){return[(0,a.wy)(((0,a.wg)(),(0,a.iD)("a",null,[(0,a.Uk)((0,i.zw)(t.$t("delete")),1)])),[[W,["address-pool:delete"]]])]})),_:2},1032,["ok-text","cancel-text","onConfirm"])]})),_:2},1024)]})),_:2},1024)]})),default:(0,a.w5)((function(){return[(0,a._)("a",null,[(0,a.Wm)(C)])]})),_:2},1024)])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(v,{description:"ID:"+e.id},{title:(0,a.w5)((function(){return[(0,a._)("a",{onClick:function(t){return p.detail(e.id)}},(0,i.zw)(e.name),9,o)]})),avatar:(0,a.w5)((function(){return[(0,a.Wm)(g,{class:"font-20 primary"})]})),_:2},1032,["description"]),(0,a._)("div",u,[(0,a._)("div",l,[(0,a._)("span",null,(0,i.zw)(e.ip),1),(0,a._)("p",null,(0,i.zw)(e.port),1)]),(0,a._)("div",c,[(0,a._)("span",null,(0,i.zw)(t.$t("IP Count")),1),(0,a._)("p",null,(0,i.zw)(e.addressesCount),1)])])]})),_:2},1024)})),128))]})),_:1},8,["pagination"])]})),_:1},8,["title","loading"])])}],["__scopeId","data-v-24389abf"]])}}]);