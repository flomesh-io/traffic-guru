"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[6068],{50128:function(t,e,a){a.d(e,{Z:function(){return p}});var i=a(66252),s=a(3577);const l={class:"mini-chart"},o=["id"];a(57658);var r=a(85263),n={name:"MiniBar",props:["dv","id","axis","height","colors","stack","ver","unit"],data(){return{id2:Math.ceil(1e3*Math.random()),isMounted:!1,simpleImage:r.Z.PRESENTED_IMAGE_SIMPLE}},computed:{...(0,a(33907).rn)("setting",["lang"])},watch:{lang(t){this.$i18n.locale=t},dv(){this.isMounted&&setTimeout((()=>{this.renderChart()}),100)},ver(){this.isMounted&&setTimeout((()=>{this.renderChart()}),100)}},mounted(){this.isMounted=!0,this.$i18n.locale=this.lang,this.renderChart()},methods:{getLegend(){let t={};return this.dv.forEach((e=>{t[e.type]=e.type})),Object.keys(t)},getXAxis(){let t={};return this.dv.forEach((e=>{t[e.date]=e.date})),Object.keys(t).sort()},getSeriesValue(){let t={};return this.dv.forEach((e=>{t[e.date]||(t[e.date]={}),e.itemStyle?t[e.date][e.type]={value:e.value,itemStyle:e.itemStyle}:t[e.date][e.type]=e.value})),t},getSeries(t,e){let a=this.getSeriesValue(),i=[];return t.forEach((t=>{let s=[];e.forEach((e=>{s.push(a[e][t]||0)}));let l={name:t,type:"bar",smooth:!0,areaStyle:{},emphasis:{focus:"series"},data:s};this.stack&&(l.stack=this.stack),i.push(l)})),i},renderChart(){let t=this.getLegend(),e=this.getXAxis(),a=this.getSeries(t,e),i=document.getElementById(this.id+this.id2);i&&this.$echarts.dispose(i);let s=this.$echarts.init(i);s.showLoading();let l={color:this.colors?this.colors:["rgba(0, 137, 237,0.7)","rgba(255, 157, 77,0.7)","rgba(90, 216, 166,0.7)","rgba(227, 137, 163,0.7)","rgba(146, 112, 202,0.7)"],tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:t,show:!1},toolbox:{},grid:{top:"0px",right:"10px",left:"30px",bottom:"0px"},xAxis:[{axisLabel:{backgroundColor:"rgba(240,240,240,0.7)",padding:[2,3,2,3],textStyle:{color:"#6a7985"},inside:!0,borderRadius:2,minInterval:20},data:e,axisTick:{show:!1},axisLine:{show:!1},z:10}],yAxis:[{show:!!this.axis,type:"value",axisLabel:this.axis?{formatter:t=>""+t+(this.unit?this.unit:"")}:{showMinLabel:!1,showMaxLabel:!1,inside:!0,margin:-30,backgroundColor:"rgba(240,240,240,0.7)",padding:[2,3,2,3],textStyle:{color:"#6a7985"},formatter:t=>""+t+(this.unit?this.unit:"")}}],series:a};s.setOption(l,{lazyUpdate:!0}),s.hideLoading()}}};var p=(0,a(83744).Z)(n,[["render",function(t,e,a,r,n,p){const d=(0,i.up)("a-empty");return(0,i.wg)(),(0,i.iD)("div",l,[a.dv&&0!=a.dv.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(d,{key:0,image:n.simpleImage,description:""},null,8,["image"])),(0,i._)("div",{ref:a.id,class:"chart-content full",id:a.id+n.id2,style:(0,s.j5)({height:a.height?a.height+"px":"100px"})},null,12,o)])}],["__scopeId","data-v-64c489b5"]])},49568:function(t,e,a){a.d(e,{Z:function(){return d}});var i=a(66252),s=a(3577);const l={class:"mini-chart"},o={class:"absolute full mt-10"},r=["id"];a(57658);var n=a(85263),p={name:"MiniSector",props:["dv","noEmpty","id","height","padding","colors","ver"],data(){return{id2:Math.ceil(1e3*Math.random()),isMounted:!1,simpleImage:n.Z.PRESENTED_IMAGE_SIMPLE}},computed:{...(0,a(33907).rn)("setting",["lang"])},watch:{lang(t){this.$i18n.locale=t},dv(){this.isMounted&&setTimeout((()=>{this.renderChart()}),100)},ver(){this.isMounted&&setTimeout((()=>{this.renderChart()}),100)}},mounted(){this.isMounted=!0,this.$i18n.locale=this.lang,setTimeout((()=>{this.renderChart()}),100)},methods:{getSeries(){let t=[];return t.push({type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:this.dv}),t},renderChart(){let t=this.getSeries(),e=document.getElementById(this.id+this.id2);e&&this.$echarts.dispose(e);let a=this.$echarts.init(e);a.showLoading();let i={color:this.colors?this.colors:["rgba(0, 137, 237,0.7)","rgba(255, 157, 77,0.7)","rgba(90, 216, 166,0.7)","rgba(227, 137, 163,0.7)","rgba(146, 112, 202,0.7)"],tooltip:{trigger:"item"},legend:{show:!0,orient:"vertical",right:"right",formatter:function(t){return t.length>10?t.substr(0,10)+"...":t}},toolbox:{},grid:{left:this.padding?this.padding[3]:0,right:this.padding?this.padding[1]:0,bottom:this.padding?this.padding[2]:0,top:this.padding?this.padding[0]:0,containLabel:!0},series:t};a.setOption(i,{lazyUpdate:!0}),a.hideLoading()}}};var d=(0,a(83744).Z)(p,[["render",function(t,e,a,n,p,d){const u=(0,i.up)("a-empty");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",o,[a.dv&&0!=a.dv.length||a.noEmpty?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(u,{key:0,image:p.simpleImage,description:""},null,8,["image"]))]),(0,i._)("div",{ref:a.id,class:"chart-content full",id:a.id+p.id2,style:(0,s.j5)({height:a.height?a.height+"px":"200px"})},null,12,r)])}],["__scopeId","data-v-51a6e4be"]])},71900:function(t,e,a){a.d(e,{Z:function(){return r}});var i=a(66252),s=a(3577);const l={class:"head-info"};var o={name:"HeadInfo",props:["title","content"]};var r=(0,a(83744).Z)(o,[["render",function(t,e,a,o,r,n){return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("span",null,(0,s.zw)(a.title),1),(0,i._)("p",null,[(0,i.Uk)((0,s.zw)(a.content),1),(0,i.WI)(t.$slots,"body",{},void 0,!0)])])}],["__scopeId","data-v-00006846"]])},47609:function(t,e,a){a.r(e),a.d(e,{default:function(){return Y}});var i=a(66252),s=a(3577),l=a(49963);const o={class:"search-input"},r={class:"content flex"},n={class:"flex-item"},p={class:"form-row"},d={class:"label"},u={class:"content"},c={class:"form-row"},h={class:"label"},m={class:"content"},g={class:"form-row"},v={class:"label"},w={class:"content"},f={class:"width-120"},y={class:"width-120"},b={class:"width-120"},k={class:"search-content"},_={class:"project-selection"},I={class:"font-22"},$={class:"font-16"},C={class:"font-20 primary"},j={class:"project-selection"},W={class:"font-10 mt-10"},S={class:"font-16"},z={class:"font-20 primary"},A={key:0},L={key:1,class:"gray"},x={key:0},U={key:1,class:"gray"};a(57658);var q=a(71900),P=a(44218),D=a(50320),E=a(43820),M=a(99684),H=a(1834),O=a(33907),V=a(33224),Z=a(61103),F=a(85263),T=a(84722),N=a(49702),R=a(79332),K={name:"ApiList",i18n:a(89234),components:{PlusOutlined:P.Z,PageLayout:Z.Z,LogViewer:N.Z,LoadingOutlined:D.Z,ApiListResults:V.Z,ShoppingCartOutlined:E.Z,PlusCircleTwoTone:M.Z,ImportOutlined:H.Z,HeadInfo:q.Z,FormItem:R.Z},data(){return{selectedLogs:[],hideApps:!0,pageSize:12,pageNo:1,total:0,key:"",filterApp:"",simpleImage:F.Z.PRESENTED_IMAGE_SIMPLE,visible:!1,showApp:!1,projects:[],upstreams:[],json:"{}",subApis:[],apis:[],importLoading:!1,stepfilter:-1,modefilter:0,mode:[{value:0,label:"Market"},{value:1,label:"My API"}],categray:[{value:-1,label:"All"},{value:0,label:"Design"},{value:1,label:"Review"},{value:2,label:"Run"},{value:3,label:"Stop"}],viewtypevalue:0,viewtypeproject:null,viewtype:[{value:0,label:"All"},{value:1,label:"Goup By Project"},{value:2,label:"Goup By Service"}],selectedLogsObj:[],loading:!0,visibleImportIinterface:!1,importIinterface:{project:null,pipy:null,endportHost:null,providerHost:[],json:{},approvalLevel:"0"},hostVisible:!1,hostValue:"",approvalLevels:[],projectItems:[],pipys:[]}},computed:{...(0,O.rn)({rules:t=>t.rules.rules,layout:t=>t.setting.layout,pageWidth:t=>t.setting.pageWidth}),start(){return(this.pageNo-1)*this.pageSize}},mounted(){this.$gql.query("projects{data{id,attributes{name}}}").then((t=>{this.projectItems=t.data})),this.$gql.query('fleets(filters:{type:{eq:"pipy"}}){data{id,attributes{name,content,upstreams{data{id,attributes{content}}}}}}').then((t=>{this.pipys=t.data})),this.$gql.query('systemSettings(filters:{type:{eq:"ApiApprovalLevelType"}}){data{id,attributes{mode,content}}}').then((t=>{this.approvalLevels=[{label:"unset",value:"0",approvalRoles:null}],this.approvalLevels=this.approvalLevels.concat(t.data[0].content)})),this.search()},methods:{changeSelected(t){this.selectedLogsObj=t},handleOkImport(){this.visible=!1,this.importLoading=!0,setTimeout((()=>{this.importLoading=!1,this.$message.success(this.$t("Created successfully"),3)}),3e3)},showImportLog(){this.visible=!0},openSubscriptionCart(){this.$refs.result.openSubscriptionCart()},getSubApis(t){this.subApis=t},hideNotification(){this.hideApps=!0},createApp(){this.$router.push({path:"/openapi/application/create"})},add(){this.$router.push({path:"/openapi/api/create"})},addpolicy(){this.$router.push({path:"/openapi/api/create/Policy"})},detail(t,e,a){this.$router.push({path:"/openapi/api/detail/"+a.id})},importApi(t){"local"==t.key?(0,T.v8)(this):"log"==t.key?this.showImportLog():"interface"==t.key&&(this.visibleImportIinterface=!0)},removeViewtypeproject(){this.viewtypeproject=null,1==this.viewtypevalue?this.searchProject():2==this.viewtypevalue&&this.searchUpstream()},filterData(t){t&&(this.viewtypeproject=t),this.search()},changeView(){this.viewtypeproject=null,0==this.viewtypevalue?this.search():1==this.viewtypevalue?this.searchProject():2==this.viewtypevalue&&this.searchUpstream()},search(t){this.pageNo=t||1,this.loading=!0;let e={name:{contains:this.key}};0==this.modefilter?(e.step={eq:2},e.scope={eq:1}):this.stepfilter>=0&&(e.step={eq:this.stepfilter}),this.viewtypeproject&&1==this.viewtypevalue?e.project={id:{eq:this.viewtypeproject.id}}:this.viewtypeproject&&2==this.viewtypevalue&&(e.upstreams={id:{eq:this.viewtypeproject.id}});const a=0==this.modefilter?"apis":"myApis";this.$gql.query(`${a}(filters: $filters, pagination:{start: ${this.start}, limit: ${this.pageSize}}){\n\t\t\t\t\t\tdata{id,attributes{\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tspec,\n\t\t\t\t\t\t\tproject{data{id,attributes{name}}},\n\t\t\t\t\t\t\tstep,\n\t\t\t\t\t\t\tscope,\n\t\t\t\t\t\t\tstatus,\n\t\t\t\t\t\t\tchart,\n\t\t\t\t\t\t\tapprovalLevel,\n\t\t\t\t\t\t\tapplications{data{id,attributes{name}}},\n\t\t\t\t\t\t\tsubscribeApiApplies{data{id,attributes{\n\t\t\t\t\t\t\t\tmsg,\n\t\t\t\t\t\t\t\tstatus,\n\t\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\t\tapprovalStep,\n\t\t\t\t\t\t\t\tapplication{data{id,attributes{name}}},\n\t\t\t\t\t\t\t\tapplyUser{data{id,attributes{username}}},\n\t\t\t\t\t\t\t\tcreatedAt,\n\t\t\t\t\t\t\t\tupdatedAt\n\t\t\t\t\t\t\t}}},\n\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\tupdatedAt\n\t\t\t\t\t\t}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}`,{filters:e},{filters:"ApiFiltersInput"}).then((t=>{this.apis=t.data,this.apis.forEach((t=>{t.appliesCnt=0,(t.subscribeApiApplies||[]).forEach((e=>{0==e.status&&t.appliesCnt++}))})),this.total=t.pagination.total,this.loading=!1}))},searchProject(t){this.pageNo=t||1,this.loading=!0,this.$gql.query(`projects(pagination:{start: ${this.start}, limit: ${this.pageSize}}){\n\t\t\t\t\t\tdata{id,attributes{\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tapis{data{id,attributes{name}}},\n\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\tupdatedAt\n\t\t\t\t\t\t}}\n\t\t\t\t\t}`).then((t=>{this.projects=t.data,this.loading=!1}))},searchUpstream(t){this.pageNo=t||1;this.loading=!0,this.$gql.query(`upstreams(filters: $filters, pagination:{start: ${this.start}, limit: ${this.pageSize}}){\n\t\t\t\t\t\tdata{id,attributes{\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tapis{data{id,attributes{name}}},\n\t\t\t\t\t\t\tservices{data{id,attributes{name}}},\n\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\tupdatedAt\n\t\t\t\t\t\t}}\n\t\t\t\t\t}`,{filters:{apis:{id:{null:!1}}}},{filters:"UpstreamFiltersInput"}).then((t=>{this.upstreams=t.data,this.loading=!1}))},hostInputConfirm(){""!=this.hostValue?(this.importIinterface.providerHost||(this.importIinterface.providerHost=[]),this.importIinterface.providerHost.push(this.hostValue),this.hostValue="",this.hostVisible=!1):this.hostVisible=!1},hostShowInput(){this.hostVisible=!0,this.$nextTick().then((()=>{this.$refs.hostRef.focus()}))},handleArrayClose(t,e){t.splice(e,1)},importInterface(){(0,T.Fi)(this)},validImport(){this.$refs.importForm.validateFields().then((()=>{this.handleOkProvider()})).catch((()=>{}))},handleOkProvider(){this.visibleImportIinterface=!1,this.$gql.mutation("importApi(data: $data)",{data:{content:this.importIinterface}}).then((t=>{this.$message.success(this.$t("API import completed, total:")+t+this.$t("unitge"),3),this.search()}))}}};var Y=(0,a(83744).Z)(K,[["render",function(t,e,a,q,P,D){const E=(0,i.up)("a-input-search"),M=(0,i.up)("a-radio-button"),H=(0,i.up)("a-radio-group"),O=(0,i.up)("a-form-item"),V=(0,i.up)("a-tag"),Z=(0,i.up)("a-form"),F=(0,i.up)("ShoppingCartOutlined"),T=(0,i.up)("a-badge"),N=(0,i.up)("HeadInfo"),R=(0,i.up)("PlusCircleTwoTone"),K=(0,i.up)("LoadingOutlined"),Y=(0,i.up)("ImportOutlined"),B=(0,i.up)("a-menu-item"),G=(0,i.up)("a-menu"),X=(0,i.up)("a-dropdown"),Q=(0,i.up)("a-card"),J=(0,i.up)("a-col"),tt=(0,i.up)("a-row"),et=(0,i.up)("ApiListResults"),at=(0,i.up)("a-pagination"),it=(0,i.up)("LogViewer"),st=(0,i.up)("a-modal"),lt=(0,i.up)("PageLayout"),ot=(0,i.up)("a-select-option"),rt=(0,i.up)("a-select"),nt=(0,i.up)("FormItem"),pt=(0,i.up)("a-descriptions-item"),dt=(0,i.up)("a-textarea"),ut=(0,i.up)("a-input"),ct=(0,i.up)("PlusOutlined"),ht=(0,i.up)("a-descriptions"),mt=(0,i.Q2)("permission");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(lt,{title:"API"},{headerContent:(0,i.w5)((()=>[(0,i._)("div",{class:(0,s.C_)(["search-head",t.layout,t.pageWidth])},[(0,i._)("div",o,[(0,i.Wm)(E,{value:P.key,"onUpdate:value":e[0]||(e[0]=t=>P.key=t),class:"search-ipt",onSearch:e[1]||(e[1]=t=>D.search()),placeholder:t.$t("Please input")+"...",size:"large"},null,8,["value","placeholder"])]),(0,i.Wm)(Q,{bordered:!1,class:"search-form"},{default:(0,i.w5)((()=>[(0,i._)("div",r,[(0,i._)("div",n,[(0,i.Wm)(Z,null,{default:(0,i.w5)((()=>[(0,i._)("div",p,[(0,i._)("div",d,[(0,i._)("span",null,(0,s.zw)(t.$t("Mode")),1)]),(0,i._)("div",u,[(0,i.Wm)(O,null,{default:(0,i.w5)((()=>[(0,i.Wm)(H,{size:"small",onChange:D.changeView,value:P.modefilter,"onUpdate:value":e[2]||(e[2]=t=>P.modefilter=t),"button-style":"solid"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(P.mode,((e,a)=>((0,i.wg)(),(0,i.j4)(M,{value:e.value,key:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(t.$t(e.label)),1)])),_:2},1032,["value"])))),128))])),_:1},8,["onChange","value"])])),_:1})])]),(0,i.wy)((0,i._)("div",c,[(0,i._)("div",h,[(0,i._)("span",null,(0,s.zw)(t.$t("Step")),1)]),(0,i._)("div",m,[(0,i.Wm)(O,null,{default:(0,i.w5)((()=>[(0,i.Wm)(H,{size:"small",onChange:e[3]||(e[3]=t=>D.filterData()),value:P.stepfilter,"onUpdate:value":e[4]||(e[4]=t=>P.stepfilter=t),"button-style":"solid"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(P.categray,((e,a)=>((0,i.wg)(),(0,i.j4)(M,{value:e.value,key:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(t.$t(e.label)),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1})])],512),[[l.F8,1==P.modefilter]]),(0,i._)("div",g,[(0,i._)("div",v,[(0,i._)("span",null,(0,s.zw)(t.$t("Card View")),1)]),(0,i._)("div",w,[(0,i.Wm)(O,null,{default:(0,i.w5)((()=>[(0,i.Wm)(H,{size:"small",onChange:D.changeView,value:P.viewtypevalue,"onUpdate:value":e[5]||(e[5]=t=>P.viewtypevalue=t),"button-style":"solid"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(P.viewtype,((e,a)=>((0,i.wg)(),(0,i.j4)(M,{value:e.value,key:a},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(t.$t(e.label)),1)])),_:2},1032,["value"])))),128))])),_:1},8,["onChange","value"]),P.viewtypeproject?((0,i.wg)(),(0,i.j4)(V,{key:0,class:"ml-10",closable:"",onClose:D.removeViewtypeproject},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(P.viewtypeproject.name),1)])),_:1},8,["onClose"])):(0,i.kq)("",!0)])),_:1})])])])),_:1})]),(0,i._)("div",f,[(0,i.Wm)(N,{class:"pd-0 split-right",title:t.$t("Subscription Cart")},{body:(0,i.w5)((()=>[(0,i.Wm)(T,{count:P.subApis.length},{default:(0,i.w5)((()=>[(0,i.Wm)(F,{onClick:D.openSubscriptionCart,class:"font-28 font-primary icon-menu"},null,8,["onClick"])])),_:1},8,["count"])])),_:1},8,["title"])]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",y,[(0,i.Wm)(N,{class:"pd-0 split-right",title:t.$t("Create API")},{body:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i.Wm)(R,{onClick:D.add,class:"font-primary icon-menu rotate-icon"},null,8,["onClick"])])])),_:1},8,["title"])])),[[mt,["api:create"]]]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",b,[(0,i.Wm)(N,{class:"pd-0 split-right",title:t.$t("Import API")},{body:(0,i.w5)((()=>[(0,i._)("div",null,[P.importLoading?((0,i.wg)(),(0,i.j4)(K,{key:0})):(0,i.kq)("",!0),P.importLoading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(X,{key:1,trigger:"click"},{overlay:(0,i.w5)((()=>[(0,i.Wm)(G,{onClick:D.importApi},{default:(0,i.w5)((()=>[(0,i.Wm)(B,{key:"local"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(t.$t("Import from local")),1)])),_:1}),(0,i.Wm)(B,{key:"log"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(t.$t("Import from log")),1)])),_:1}),(0,i.Wm)(B,{key:"interface"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(t.$t("Import from interface")),1)])),_:1})])),_:1},8,["onClick"])])),default:(0,i.w5)((()=>[(0,i.Wm)(Y,{class:"font-primary icon-menu"})])),_:1}))])])),_:1},8,["title"])])),[[mt,["api:create"]]])])])),_:1})],2)])),default:(0,i.w5)((()=>[(0,i._)("div",k,[(0,i.wy)((0,i.Wm)(tt,{gutter:[16,8],class:"mb-10"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(P.projects,((e,a)=>((0,i.wg)(),(0,i.j4)(J,{key:a,span:4,onClick:t=>D.filterData(e)},{default:(0,i.w5)((()=>[(0,i._)("div",_,[(0,i._)("p",I,(0,s.zw)(e.name),1),(0,i._)("p",$,[(0,i.Uk)(" API "),(0,i._)("span",C,(0,s.zw)(e.apis.length),1),(0,i.Uk)(" "+(0,s.zw)(t.$t("unitge")),1)])])])),_:2},1032,["onClick"])))),128))])),_:1},512),[[l.F8,1==P.viewtypevalue&&!P.viewtypeproject]]),(0,i.wy)((0,i.Wm)(tt,{gutter:[16,8],class:"mb-10"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(P.upstreams,((e,a)=>((0,i.wg)(),(0,i.j4)(J,{key:a,span:4,onClick:t=>D.filterData(e)},{default:(0,i.w5)((()=>[(0,i._)("div",j,[(0,i._)("p",W,(0,s.zw)(e.name),1),(0,i._)("p",S,[(0,i.Uk)(" API "),(0,i._)("span",z,(0,s.zw)(e.apis.length),1),(0,i.Uk)(" "+(0,s.zw)(t.$t("unitge")),1)])])])),_:2},1032,["onClick"])))),128))])),_:1},512),[[l.F8,2==P.viewtypevalue&&!P.viewtypeproject]]),(0,i.wy)((0,i.Wm)(et,{ref:"result",mode:P.modefilter,loading:P.loading,apis:P.apis,"page-no":P.pageNo,total:P.total,onSubApisChange:D.getSubApis,onSearch:D.search,"page-size":P.pageSize},null,8,["mode","loading","apis","page-no","total","onSubApisChange","onSearch","page-size"]),[[l.F8,0==P.viewtypevalue||P.viewtypeproject]]),(0,i.wy)((0,i.Wm)(at,{onChange:D.searchProject,current:P.pageNo,"onUpdate:current":e[6]||(e[6]=t=>P.pageNo=t),total:P.total,"page-size":P.pageSize,"show-less-items":""},null,8,["onChange","current","total","page-size"]),[[l.F8,1==P.viewtypevalue&&!P.viewtypeproject]]),(0,i.wy)((0,i.Wm)(at,{onChange:D.searchUpstream,current:P.pageNo,"onUpdate:current":e[7]||(e[7]=t=>P.pageNo=t),total:P.total,"page-size":P.pageSize,"show-less-items":""},null,8,["onChange","current","total","page-size"]),[[l.F8,2==P.viewtypevalue&&!P.viewtypeproject]])]),(0,i.Wm)(st,{"ok-button-props":{disabled:0==P.selectedLogs.length},"ok-text":t.$t("Import"),width:"80%",visible:P.visible,"onUpdate:visible":e[9]||(e[9]=t=>P.visible=t),title:t.$t("Import from log"),onOk:D.handleOkImport},{default:(0,i.w5)((()=>[(0,i.Wm)(it,{"page-size":5,"hide-chart":!0,selected:P.selectedLogs,"onUpdate:selected":e[8]||(e[8]=t=>P.selectedLogs=t),onChangeSelected:D.changeSelected,type:"api"},null,8,["selected","onChangeSelected"])])),_:1},8,["ok-button-props","ok-text","visible","title","onOk"])])),_:1}),(0,i.Wm)(st,{"destroy-on-close":!0,visible:P.visibleImportIinterface,"onUpdate:visible":e[15]||(e[15]=t=>P.visibleImportIinterface=t),title:t.$t("Provider"),onOk:D.validImport,width:"70%","cancel-text":t.$t("cancel"),"ok-text":t.$t("Import")},{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{model:P.importIinterface,"wrapper-col":{span:24},ref:"importForm"},{default:(0,i.w5)((()=>[(0,i.Wm)(ht,{bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(pt,{label:t.$t("Project"),span:3},{default:(0,i.w5)((()=>[(0,i.Wm)(nt,{name:"project",rules:t.rules.required},{default:(0,i.w5)((()=>[(0,i.Wm)(rt,{placeholder:t.$t("unallocated"),class:"width-200",value:P.importIinterface.project,"onUpdate:value":e[10]||(e[10]=t=>P.importIinterface.project=t)},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(P.projectItems,((t,e)=>((0,i.wg)(),(0,i.j4)(ot,{key:e,value:t.id},{default:(0,i.w5)((()=>[t.id?((0,i.wg)(),(0,i.iD)("span",A,(0,s.zw)(t.name),1)):(0,i.kq)("",!0),t.id?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("i",L,(0,s.zw)(t.name),1))])),_:2},1032,["value"])))),128))])),_:1},8,["placeholder","value"])])),_:1},8,["rules"])])),_:1},8,["label"]),(0,i.Wm)(pt,{label:t.$t("Pipy"),span:3},{default:(0,i.w5)((()=>[(0,i.Wm)(nt,{name:"pipy",rules:t.rules.required},{default:(0,i.w5)((()=>[(0,i.Wm)(rt,{placeholder:t.$t("unallocated"),class:"width-160",value:P.importIinterface.pipy,"onUpdate:value":e[11]||(e[11]=t=>P.importIinterface.pipy=t)},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(P.pipys,((t,e)=>((0,i.wg)(),(0,i.j4)(ot,{key:e,value:t.id},{default:(0,i.w5)((()=>[t.id?((0,i.wg)(),(0,i.iD)("span",x,(0,s.zw)(t.name),1)):(0,i.kq)("",!0),t.id?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("i",U,(0,s.zw)(t.name),1))])),_:2},1032,["value"])))),128))])),_:1},8,["placeholder","value"])])),_:1},8,["rules"])])),_:1},8,["label"]),(0,i.Wm)(pt,{label:t.$t("Audit Level"),span:3},{default:(0,i.w5)((()=>[(0,i.Wm)(rt,{placeholder:t.$t("unset"),class:"width-160",value:P.importIinterface.approvalLevel,"onUpdate:value":e[12]||(e[12]=t=>P.importIinterface.approvalLevel=t)},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(P.approvalLevels,((e,a)=>((0,i.wg)(),(0,i.j4)(ot,{key:a,value:e.value},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(t.$t(e.label)),1)])),_:2},1032,["value"])))),128))])),_:1},8,["placeholder","value"])])),_:1},8,["label"]),(0,i.Wm)(pt,{label:t.$t("Endport Host"),span:3},{default:(0,i.w5)((()=>[(0,i.Wm)(dt,{value:P.importIinterface.endportHost,"onUpdate:value":e[13]||(e[13]=t=>P.importIinterface.endportHost=t),placeholder:t.$t("unset"),"allow-clear":"",rows:4},null,8,["value","placeholder"])])),_:1},8,["label"]),(0,i.Wm)(pt,{label:t.$t("Provider Host & Port"),span:3},{default:(0,i.w5)((()=>[(0,i.Wm)(nt,{name:"providerHost",rules:t.rules.arrayRequired},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(P.importIinterface.providerHost||[],((t,e)=>((0,i.wg)(),(0,i.j4)(V,{key:e,onClose:(0,l.iM)((t=>D.handleArrayClose(P.importIinterface.providerHost,e)),["prevent"]),closable:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(t),1)])),_:2},1032,["onClose"])))),128)),(0,i.wy)((0,i.Wm)(ut,{ref:"hostRef",type:"text",size:"small",class:"width-300",placeholder:t.$t("unset"),value:P.hostValue,"onUpdate:value":e[14]||(e[14]=t=>P.hostValue=t),onBlur:D.hostInputConfirm,onKeyup:(0,l.D2)(D.hostInputConfirm,["enter"])},null,8,["placeholder","value","onBlur","onKeyup"]),[[l.F8,P.hostVisible]]),P.hostVisible?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(V,{key:0,onClick:D.hostShowInput,class:"dashed-tag"},{default:(0,i.w5)((()=>[(0,i.Wm)(ct),(0,i.Uk)(" "+(0,s.zw)(t.$t("add")),1)])),_:1},8,["onClick"]))])),_:1},8,["rules"])])),_:1},8,["label"]),(0,i.Wm)(pt,{label:t.$t("File"),span:3},{default:(0,i.w5)((()=>[(0,i.Wm)(nt,{name:"name",rules:t.rules.required},{default:(0,i.w5)((()=>[(0,i.Wm)(Y,{style:{"font-size":"24px"},class:"font-primary icon-menu",onClick:D.importInterface},null,8,["onClick"]),(0,i.Uk)((0,s.zw)(P.importIinterface.name),1)])),_:1},8,["rules"])])),_:1},8,["label"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible","title","onOk","cancel-text","ok-text"])],64)}],["__scopeId","data-v-7345f685"]])}}]);