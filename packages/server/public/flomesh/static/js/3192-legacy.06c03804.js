"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[3192],{74353:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(66252),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},a=n(33058);function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e,t){var n=s({},e,t.attrs);return(0,i.Wm)(a.Z,s({},n,{icon:r}),null)};l.displayName="StopOutlined",l.inheritAttrs=!1;var c=l},16822:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(66252),r={class:"statusIcon"},a={href:"javascript:void(0)"},s={key:5,class:"icon svg","aria-hidden":"true"},o=["xlink:href"];var l=n(74353),c=n(50320),u=n(70001),d=n(58721),p=n(13868),v={name:"Status",components:{StopOutlined:l.Z,LoadingOutlined:c.Z,CheckCircleFilled:u.Z,CloseCircleFilled:d.Z,WarningFilled:p.Z},props:["d"],i18n:n(89234),data:function(){return{iconStatus:{running:"success",pending:"pending",success:"success",stop:"stop",failed:"error",Normal:"success",Pending:"pending",Succeeded:"success",Success:"success",Completed:"success",Complete:"success",Running:"success",Warning:"warning",ImagePullBackOff:"error",ErrImagePull:"error","Init: CrashLoopBackOff":"error","Init:Error":"error","Error: ErrImagePull":"error","Back-off restarting failed container":"error"}}},computed:{status:function(){return this.iconStatus[this.d?this.d.status||(this.d[0]?this.d[0].status:null):"Success"]}}};var f=(0,n(83744).Z)(v,[["render",function(e,t,n,l,c,u){var d=(0,i.up)("LoadingOutlined"),p=(0,i.up)("StopOutlined"),v=(0,i.up)("CloseCircleFilled"),f=(0,i.up)("CheckCircleFilled"),g=(0,i.up)("WarningFilled"),m=(0,i.up)("a-tooltip");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(m,{placement:"topLeft",title:n.d?n.d.message||n.d[0]&&n.d[0].message:""},{default:(0,i.w5)((function(){return[(0,i._)("a",a,["pending"==u.status?((0,i.wg)(),(0,i.j4)(d,{key:0,class:"font-18 font-primary svg"})):"stop"==u.status?((0,i.wg)(),(0,i.j4)(p,{key:1,class:"danger font-18 svg"})):"error"==u.status?((0,i.wg)(),(0,i.j4)(v,{key:2,class:"danger font-18 svg"})):"success"==u.status?((0,i.wg)(),(0,i.j4)(f,{key:3,class:"font-18 success svg"})):"warning"==u.status?((0,i.wg)(),(0,i.j4)(g,{key:4,class:"font-18 svg warning"})):((0,i.wg)(),(0,i.iD)("svg",s,[(0,i._)("use",{"xlink:href":u.status},null,8,o)]))])]})),_:1},8,["title"])])}],["__scopeId","data-v-5c100524"]])},1299:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(66252),r=n(3577),a={key:0,class:"title"};n(9653);var s={name:"DetailList",props:{title:{type:String,required:!1,default:""},col:{type:Number,required:!1,default:3},size:{type:String,required:!1,default:"large"},layout:{type:String,required:!1,default:"horizontal"}}};var o=(0,n(83744).Z)(s,[["render",function(e,t,n,s,o,l){var c=(0,i.up)("a-row");return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(["detail-list","small"===n.size?"small":"large","vertical"===n.layout?"vertical":"horizontal"]),style:(0,r.j5)("flex-"+n.col)},[n.title?((0,i.wg)(),(0,i.iD)("div",a,(0,r.zw)(n.title),1)):(0,i.kq)("",!0),(0,i.Wm)(c,null,{default:(0,i.w5)((function(){return[(0,i.WI)(e.$slots,"default")]})),_:3})],6)}]])},13589:function(e,t,n){n.d(t,{Z:function(){return l}});n(68309);var i=n(66252),r=n(3577),a={class:"detail-content"};n(21249);var s={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{xs:24,sm:12,md:6}},o={name:"DetailListItem",i18n:n(39945),props:{name:{type:String,required:!1,default:""},rules:{type:Array,required:!1,default:function(){return[]}},term:{type:String,required:!1,default:""},termTop:{type:Boolean}},data:function(){return{col:2,responsive:s}},computed:{getRules:function(){var e=this;return this.rules.map((function(t){return t.message=e.$t(t.message),t})),this.rules}},created:function(){this.$parent&&this.$parent.$parent&&this.$parent.$parent.col>0&&(this.col=this.$parent.$parent.col)},methods:{}};var l=(0,n(83744).Z)(o,[["render",function(e,t,n,s,o,l){var c=(0,i.up)("a-form-item"),u=(0,i.up)("a-col");return(0,i.wg)(),(0,i.j4)(u,(0,i.dG)({class:"detail-list-content flex"},o.responsive[o.col]),{default:(0,i.w5)((function(){return[(0,i._)("div",{class:(0,r.C_)(n.termTop?"term top":"term")},(0,r.zw)(n.term),3),(0,i._)("div",a,[n.rules?((0,i.wg)(),(0,i.j4)(c,{key:0,name:n.name,rules:l.getRules},{default:(0,i.w5)((function(){return[(0,i.WI)(e.$slots,"default")]})),_:3},8,["name","rules"])):(0,i.WI)(e.$slots,"default",{key:1})])]})),_:3},16)}]])},48766:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});n(68309);var i=n(66252),r=n(3577);var a=n(69384),s=n(88711),o=n(96991),l=n(44107),c=n(49702),u=n(47556),d=n(990),p=n(9112),v={name:"ServicesDetail",i18n:n(89234),components:{ServiceBaseDetail:a.Z,ServiceOverview:s.Z,PodList:o.Z,Json2YamlCard:l.Z,EmbedDashboard:d.Z,LogViewer:c.Z,ServiceExportCard:p.Z},data:function(){return{DEFAULT_SERVICE_DETAIL:u.ZC,activeKey:"1",external:{url:"",type:"Http://",token:""},visibleAP:!1,dialTestings:[],visible:!1,aclKey:"2",extend:{plugins:[],certificates:[],identitys:{},log:{level:"All"}},registry:{type:"",name:"",content:{}},ns:{id:"",name:""},pods:[],detail:{endpoints:[],spec:{type:"",clusterIP:"",sessionAffinity:"",ports:[]},metadata:{name:"",namespace:"",labels:{},annotations:{}},typeMeta:{},podInfo:{},containerImages:[],selector:{},statusInfo:{},conditions:[],rollingUpdateStrategy:{maxUnavailable:"",maxSurge:""},whiteExcludedPath:{},blackExcludedPath:{}},pjsConfig:"",contentString:"",loading:!0,pid:"",namespace:"",isMounted:!1,metrics:[],subscribeServices:[],subscribeServicesTo:[],subscribeServicesAll:[],whitelistServices:[],blacklistServices:[],exportData:{content:{portNumber:8080,path:""}},exportLoading:!1,modalVisible:!1,isExportEdit:!0}},created:function(){this.pid=this.$route.params.id||"",this.namespace=this.$route.params.namespace||localStorage.getItem("NAMESPACE")},mounted:function(){},methods:{exportOpen:function(){this.activeKey="15",this.modalVisible=!0},exportStart:function(){this.exportLoading=!0},exportSave:function(){this.exportLoading=!1},saveLogLevel:function(e){this.$refs.ServiceBaseDetail.saveLogLevel(e)},getSaveData:function(){this.$refs.ServiceBaseDetail.getSaveData()},setSaveData:function(){this.$refs.ServiceBaseDetail.setSaveData()}}};var f=(0,n(83744).Z)(v,[["render",function(e,t,n,a,s,o){var l=(0,i.up)("a-button"),c=(0,i.up)("ServiceOverview"),u=(0,i.up)("a-tab-pane"),d=(0,i.up)("PodList"),p=(0,i.up)("a-card"),v=(0,i.up)("Json2YamlCard"),f=(0,i.up)("ServiceExportCard"),g=(0,i.up)("LogViewer"),m=(0,i.up)("EmbedDashboard"),b=(0,i.up)("a-tabs"),S=(0,i.up)("ServiceBaseDetail"),y=(0,i.Q2)("permission");return(0,i.wg)(),(0,i.j4)(S,{loading:s.loading,"onUpdate:loading":t[5]||(t[5]=function(e){return s.loading=e}),namespace:s.namespace,"onUpdate:namespace":t[6]||(t[6]=function(e){return s.namespace=e}),pid:s.pid,"onUpdate:pid":t[7]||(t[7]=function(e){return s.pid=e}),contentString:s.contentString,"onUpdate:contentString":t[8]||(t[8]=function(e){return s.contentString=e}),detail:s.detail,"onUpdate:detail":t[9]||(t[9]=function(e){return s.detail=e}),registry:s.registry,"onUpdate:registry":t[10]||(t[10]=function(e){return s.registry=e}),ns:s.ns,"onUpdate:ns":t[11]||(t[11]=function(e){return s.ns=e}),pods:s.pods,"onUpdate:pods":t[12]||(t[12]=function(e){return s.pods=e}),extend:s.extend,"onUpdate:extend":t[13]||(t[13]=function(e){return s.extend=e}),hasExport:s.isExportEdit,"onUpdate:hasExport":t[14]||(t[14]=function(e){return s.isExportEdit=e}),blacklistServices:s.blacklistServices,"onUpdate:blacklistServices":t[15]||(t[15]=function(e){return s.blacklistServices=e}),whitelistServices:s.whitelistServices,"onUpdate:whitelistServices":t[16]||(t[16]=function(e){return s.whitelistServices=e}),subscribeServices:s.subscribeServices,"onUpdate:subscribeServices":t[17]||(t[17]=function(e){return s.subscribeServices=e}),subscribeServicesTo:s.subscribeServicesTo,"onUpdate:subscribeServicesTo":t[18]||(t[18]=function(e){return s.subscribeServicesTo=e}),subscribeServicesAll:s.subscribeServicesAll,"onUpdate:subscribeServicesAll":t[19]||(t[19]=function(e){return s.subscribeServicesAll=e}),ref:"ServiceBaseDetail"},{action:(0,i.w5)((function(){return[s.isExportEdit?(0,i.kq)("",!0):(0,i.wy)(((0,i.wg)(),(0,i.j4)(l,{key:0,loading:s.exportLoading,type:"primary",onClick:o.exportOpen},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.$t("Export")),1)]})),_:1},8,["loading","onClick"])),[[y,["service:update"]]])]})),tabs:(0,i.w5)((function(){return[(0,i.Wm)(b,{type:"card",activeKey:s.activeKey,"onUpdate:activeKey":t[4]||(t[4]=function(e){return s.activeKey=e})},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{key:"1",tab:e.$t("Overview")},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{pid:s.pid,detail:s.detail,"onUpdate:detail":t[0]||(t[0]=function(e){return s.detail=e}),registry:s.registry},null,8,["pid","detail","registry"])]})),_:1},8,["tab"]),""!=s.pid&&"k8s"==s.registry.type?((0,i.wg)(),(0,i.j4)(u,{key:"3",tab:e.$t("Pods")},{default:(0,i.w5)((function(){return[(0,i.Wm)(p,{class:"card nopd",bordered:!1,loading:s.loading},{default:(0,i.w5)((function(){return[(0,i.Wm)(d,{embed:!0,namespace:s.namespace,"has-search":!1,d:s.pods},null,8,["namespace","d"])]})),_:1},8,["loading"])]})),_:1},8,["tab"])):(0,i.kq)("",!0),(0,i.Wm)(u,{key:"11",tab:e.$t("config"),onClick:o.getSaveData},{default:(0,i.w5)((function(){return[(0,i.Wm)(v,{class:"card full nopd","is-readonly":!1,"is-create":!1,jsonVal:s.contentString,"onUpdate:jsonVal":t[1]||(t[1]=function(e){return s.contentString=e}),onChange:o.setSaveData},null,8,["jsonVal","onChange"])]})),_:1},8,["tab","onClick"]),s.pid?((0,i.wg)(),(0,i.j4)(u,{key:"15",tab:e.$t("MCS")},{default:(0,i.w5)((function(){var e,n;return[(0,i.Wm)(f,{sid:s.pid,ports:null===(e=s.detail)||void 0===e||null===(n=e.spec)||void 0===n?void 0:n.ports,loading:s.loading,isEdit:s.isExportEdit,"onUpdate:isEdit":t[2]||(t[2]=function(e){return s.isExportEdit=e}),modal:s.modalVisible,"onUpdate:modal":t[3]||(t[3]=function(e){return s.modalVisible=e}),onStart:o.exportStart,onSave:o.exportSave},null,8,["sid","ports","loading","isEdit","modal","onStart","onSave"])]})),_:1},8,["tab"])):(0,i.kq)("",!0),""!=s.pid?((0,i.wg)(),(0,i.j4)(u,{key:"13",tab:e.$t("log")},{default:(0,i.w5)((function(){var e,t,n;return[(0,i.Wm)(g,{uid:s.pid,params:{name:null===(e=s.detail.metadata)||void 0===e?void 0:e.name,namespace:null===(t=s.detail.metadata)||void 0===t?void 0:t.namespace,domain:null===(n=s.registry.content)||void 0===n?void 0:n.domain},type:"service","log-level":s.extend.log.level,onSave:o.saveLogLevel},null,8,["uid","params","log-level","onSave"])]})),_:1},8,["tab"])):(0,i.kq)("",!0),""!=s.pid?((0,i.wg)(),(0,i.j4)(u,{key:"14",tab:e.$t("Dashboard")},{default:(0,i.w5)((function(){var e,t,n,r;return[(0,i.Wm)(m,{"page-id":s.pid,params:{name:null===(e=s.detail.metadata)||void 0===e?void 0:e.name,namespace:null===(t=s.ns)||void 0===t?void 0:t.name,namespaceId:null===(n=s.ns)||void 0===n?void 0:n.id,domain:null===(r=s.registry.content)||void 0===r?void 0:r.domain},apply:"service","default-widget":s.DEFAULT_SERVICE_DETAIL,"hide-add":"14"!=s.activeKey},null,8,["page-id","params","default-widget","hide-add"])]})),_:1},8,["tab"])):(0,i.kq)("",!0)]})),_:1},8,["activeKey"])]})),_:1},8,["loading","namespace","pid","contentString","detail","registry","ns","pods","extend","hasExport","blacklistServices","whitelistServices","subscribeServices","subscribeServicesTo","subscribeServicesAll"])}],["__scopeId","data-v-d77bf064"]])}}]);