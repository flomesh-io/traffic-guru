"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[2681],{71900:function(t,e,n){n.d(e,{Z:function(){return c}});var o=n(66252),i=n(3577),a={class:"head-info"};var s={name:"HeadInfo",props:["title","content"]};var c=(0,n(83744).Z)(s,[["render",function(t,e,n,s,c,r){return(0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("span",null,(0,i.zw)(n.title),1),(0,o._)("p",null,[(0,o.Uk)((0,i.zw)(n.content),1),(0,o.WI)(t.$slots,"body",{},void 0,!0)])])}],["__scopeId","data-v-00006846"]])},72681:function(t,e,n){n.r(e),n.d(e,{default:function(){return Z}});n(57327),n(41539),n(68309);var o=n(66252),i=n(3577),a={class:"title"},s={class:"mb-3"},c={class:"card-avatar icon svg","aria-hidden":"true"},r=["xlink:href"],u={class:"meta-content"};var d=n(95082),l=(n(47941),n(57658),n(92222),n(54747),n(35316)),p=n(32076),f=n(61103),m=n(71900),h=n(69596),y=n(84722),k=n(934),w=n(33907),b=n(47556),g=!(0,y._y)(),v={name:"Widgets",components:{HeadInfo:m.Z,PageLayout:f.Z,CardList:h.Z,InfoCircleOutlined:l.Z,BuildOutlined:p.Z},i18n:n(89234),data:function(){return{isEdit:!1,custom:{id:"",title:"",tag:{name:"Gauge"},service:{type:"rest",path:"",method:"GET",payload:"{}",clickhouseSQL:"",prometheusSQL:""},col:6,data:""},icons:k.Z.baseComponents,visiblePre:!1,visibleAttr:!1,visibleEdit:!1,flb:[],fsm:[],openapi:[],userWidgets:{},baseComponents:{},customComponents:[],system:[],workload:[],projects:[],loading:!0,activities:[],config:{},teams:[],isFree:g}},computed:(0,d.Z)((0,d.Z)({},(0,w.rn)("rules",["rules"])),{},{filterBaseComponents:function(){var t=this;return Object.keys(this.baseComponents||{}).filter((function(e){return t.baseComponents[e].isOpen}))}}),created:function(){this.loaddata()},methods:{showModalPre:function(){this.visiblePre=!0},showModalAttr:function(){this.visibleAttr=!0},remove:function(t,e,n){var o=this;"custom"==("custom"==e?e:n.root)&&(0,b.eb)(n.uid).then((function(){o.$message.success(o.$t("Deleted successfully"),3),o.loaddata()}))},preview:function(t,e,n){this.$router.push({path:"/system/widget/preview/".concat(n.root,".").concat(n.key1,".").concat(n.key2)})},add:function(){this.$router.push({path:"/system/widget/creator"})},edit:function(t,e,n){this.$router.push({path:"/system/widget/editor/"+n.uid})},getSubscribe:function(t,e,n){return t.length>n?this.getSubscribe(t,e[t[n]],++n):e},loaddata:function(){var t=this;this.baseComponents=k.Z.baseComponents,this.system=[],Object.keys(k.Z.system).forEach((function(e){Object.keys(k.Z.system[e]).forEach((function(n){t.system.push((0,d.Z)({root:"system",key1:e,key2:n,checked:!1},k.Z.system[e][n]))}))})),this.workload=[],Object.keys(k.Z.workload).forEach((function(e){Object.keys(k.Z.workload[e]).forEach((function(n){t.workload.push((0,d.Z)({root:"workload",key1:e,key2:n,checked:!1},k.Z.workload[e][n]))}))})),this.flb=[],Object.keys(k.Z.flb).forEach((function(e){Object.keys(k.Z.flb[e]).forEach((function(n){t.flb.push((0,d.Z)({root:"flb",key1:e,key2:n,checked:!1},k.Z.flb[e][n]))}))})),this.fsm=[],Object.keys(k.Z.fsm).forEach((function(e){Object.keys(k.Z.fsm[e]).forEach((function(n){t.fsm.push((0,d.Z)({root:"fsm",key1:e,key2:n,checked:!1},k.Z.fsm[e][n]))}))})),this.openapi=[],Object.keys(k.Z.openapi).forEach((function(e){Object.keys(k.Z.openapi[e]).forEach((function(n){t.openapi.push((0,d.Z)({root:"openapi",key1:e,key2:n,checked:!1},k.Z.openapi[e][n]))}))})),(0,b.US)().then((function(e){t.loading=!1,t.userWidgets={},e.data.forEach((function(e){t.userWidgets[e.content.id]=(0,d.Z)((0,d.Z)({},e.content),{},{uid:e.id})})),t.customComponents=[],Object.keys(t.userWidgets).forEach((function(e){t.customComponents.push((0,d.Z)({root:"custom",key1:t.userWidgets[e].tag.name,key2:e,checked:!1},t.userWidgets[e]))}))}))}}};var Z=(0,n(83744).Z)(v,[["render",function(t,e,d,l,p,f){var m=(0,o.up)("InfoCircleOutlined"),h=(0,o.up)("a-tooltip"),y=(0,o.up)("BuildOutlined"),k=(0,o.up)("HeadInfo"),w=(0,o.up)("a-card-meta"),b=(0,o.up)("CardList"),g=(0,o.up)("a-tab-pane"),v=(0,o.up)("a-tabs"),Z=(0,o.up)("PageLayout"),C=(0,o.Q2)("permission");return(0,o.wg)(),(0,o.j4)(Z,{avatar:n(2245)},{headerContent:(0,o.w5)((function(){return[(0,o._)("div",null,[(0,o._)("div",a,(0,i.zw)(t.$t("Personalized platform")),1),(0,o._)("div",null,(0,i.zw)(t.$t("You can refer to native widgets and customize your preferred widgets")),1)])]})),extra:(0,o.w5)((function(){return[(0,o.Wm)(h,{title:t.$t("More basic widget types are under continuous development")},{action:(0,o.w5)((function(){return[(0,o.Wm)(m,{class:"info-circle"})]})),_:1},8,["title"]),(0,o.wy)(((0,o.wg)(),(0,o.j4)(k,{class:"split-right",title:t.$t("Custom widgets")},{body:(0,o.w5)((function(){return[(0,o._)("div",null,[(0,o.Wm)(y,{onClick:f.add,class:"font-primary icon-menu rotate-icon"},null,8,["onClick"])])]})),_:1},8,["title"])),[[C,["widget:create"]]])]})),default:(0,o.w5)((function(){return[(0,o.Wm)(v,{type:"card"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(p.isFree?[{data:p.system,title:t.$t("Common"),type:"component"},{data:p.workload,title:t.$t("Workload"),type:"component"},{data:p.fsm,title:t.$t("FSM"),type:"component"},{data:p.customComponents,title:t.$t("Custom"),type:"custom"}]:[{data:p.system,title:t.$t("Common"),type:"component"},{data:p.workload,title:t.$t("Workload"),type:"component"},{data:p.flb,title:t.$t("FLB"),type:"component"},{data:p.fsm,title:t.$t("FSM"),type:"component"},{data:p.openapi,title:t.$t("Open API"),type:"component"},{data:p.customComponents,title:t.$t("Custom"),type:"custom"}],(function(e,n){return(0,o.wg)(),(0,o.j4)(g,{key:n,tab:e.title},{default:(0,o.w5)((function(){return[(0,o.Wm)(b,{"hide-action-title":!0,"data-source":e.data.filter((function(t){return-1!=t.col})),loading:p.loading,type:"component",actions:"custom"==e.type?[{icon:"EditOutlined",text:t.$t("edit"),call:f.edit,permission:["widget:update"]},{icon:"DeleteOutlined",text:t.$t("delete"),call:f.remove,permission:["widget:delete"]}]:[{icon:"SearchOutlined",text:t.$t("Preview"),call:f.preview}]},{default:(0,o.w5)((function(e){var n=e.item;return[(0,o.Wm)(w,null,{title:(0,o.w5)((function(){return[(0,o._)("div",s,(0,i.zw)(t.$t(n.title)),1)]})),avatar:(0,o.w5)((function(){var t;return[((0,o.wg)(),(0,o.iD)("svg",c,[(0,o._)("use",{"xlink:href":"#"+(null===(t=p.icons[n.tag.name])||void 0===t?void 0:t.icon)},null,8,r)]))]})),description:(0,o.w5)((function(){return[(0,o._)("div",u,(0,i.zw)(t.$t("Widget type"))+"ï¼š"+(0,i.zw)(n.tag.name),1)]})),_:2},1024)]})),_:2},1032,["data-source","loading","actions"])]})),_:2},1032,["tab"])})),128))]})),_:1})]})),_:1},8,["avatar"])}],["__scopeId","data-v-04cfb439"]])},2245:function(t,e,n){t.exports=n.p+"static/img/component.99296484.png"}}]);