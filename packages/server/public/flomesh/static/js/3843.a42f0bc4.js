"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[3843],{33601:function(t,e,a){a.d(e,{Z:function(){return c}});var n=a(66252),o={icon:function(t,e){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z",fill:t}},{tag:"path",attrs:{d:"M372.5 256H184v512h656V370.4H492.1z",fill:e}}]}},name:"folder",theme:"twotone"},i=a(33058);function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?Object(arguments[e]):{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})))),n.forEach((function(e){s(t,e,a[e])}))}return t}function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var l=function(t,e){var a=r({},t,e.attrs);return(0,n.Wm)(i.Z,r({},a,{icon:o}),null)};l.displayName="FolderTwoTone",l.inheritAttrs=!1;var c=l},71900:function(t,e,a){a.d(e,{Z:function(){return s}});var n=a(66252),o=a(3577);const i={class:"head-info"};var r={name:"HeadInfo",props:["title","content"]};var s=(0,a(83744).Z)(r,[["render",function(t,e,a,r,s,l){return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("span",null,(0,o.zw)(a.title),1),(0,n._)("p",null,[(0,n.Uk)((0,o.zw)(a.content),1),(0,n.WI)(t.$slots,"body",{},void 0,!0)])])}],["__scopeId","data-v-00006846"]])},13843:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var n=a(66252),o=a(3577);const i=t=>((0,n.dD)("data-v-003b9a2a"),t=t(),(0,n.Cn)(),t),r=i((()=>(0,n._)("div",null,null,-1))),s={class:"capitalize"},l=i((()=>(0,n._)("br",null,null,-1)));a(57658);var c=a(99684),d=a(33601),u=a(64569),p=a(44924),g=a(61103),h=a(71900),m=a(69596),f=a(85263),w={name:"Projects",components:{HeadInfo:h.Z,PageLayout:g.Z,CardList:m.Z,PlusCircleTwoTone:c.Z,FolderTwoTone:d.Z,ProjectOutlined:u.Z,UserOutlined:p.Z},i18n:a(89234),data(){return{ProjectOutlined:u.Z,isEdit:!1,payload:{id:"",name:"",organization:{id:null}},bindTarget:{},editorIsCreate:!0,workload:[],projects:[],pageSize:12,pageNo:1,total:0,loading:!0,activities:[],config:{},teams:[],simpleImage:f.Z.PRESENTED_IMAGE_SIMPLE}},computed:{start(){return(this.pageNo-1)*this.pageSize}},created(){this.loaddata()},activated(){},methods:{add(){this.$router.push({path:"/system/projects/create"})},getSample(){this.custom=this.customSample},remove(t,e,a){this.$gql.mutation(`deleteProject(id:${a.id}){data{id}}`).then((()=>{this.$message.success(this.$t("Deleted successfully"),3),this.loaddata()}))},getTimeLabel(t){return new Date(t[0]).toLocaleDateString()+"~"+new Date(t[1]).toLocaleDateString()},setting(t,e,a){this.$router.push({path:"/system/projects/detail/"+a.id})},edit(){},search(t,e){t&&(this.pageNo=t,this.pageSize=e),this.loaddata()},loaddata(){this.loading=!0,this.$gql.query(`projects(pagination:{start: ${this.start}, limit: ${this.pageSize}}){\n\t\t\t\t\t\tdata{id,attributes{\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\torganization{data{id,attributes{name}}},\n\t\t\t\t\t\t\tusers{data{id,attributes{username}}},\n\t\t\t\t\t\t\tcontent\n\t\t\t\t\t\t}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}`).then((t=>{this.projects=t.data,this.total=t.pagination.total,this.loading=!1})),this.$gql.query("organizations{data{id,attributes{name}}}").then((t=>{this.orgs=t.data}))}}};var v=(0,a(83744).Z)(w,[["render",function(t,e,a,i,c,d){const u=(0,n.up)("PlusCircleTwoTone"),p=(0,n.up)("HeadInfo"),g=(0,n.up)("FolderTwoTone"),h=(0,n.up)("UserOutlined"),m=(0,n.up)("a-card-meta"),f=(0,n.up)("CardList"),w=(0,n.up)("a-pagination"),v=((0,n.up)("ProjectOutlined"),(0,n.up)("PageLayout")),b=(0,n.Q2)("permission");return(0,n.wg)(),(0,n.j4)(v,{avatar:c.ProjectOutlined},{headerContent:(0,n.w5)((()=>[r])),extra:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(p,{class:"split-right",title:t.$t("Create project")},{body:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(u,{onClick:d.add,class:"font-primary icon-menu rotate-icon"},null,8,["onClick"])])])),_:1},8,["title"])),[[b,["project:create"]]])])),default:(0,n.w5)((()=>[(0,n.Wm)(f,{"hide-action-title":!0,loading:c.loading,"data-source":c.projects,type:"component",actions:[{icon:"EditOutlined",text:t.$t("edit"),call:d.setting,permissionWhere:["project:update:organization:","organization","project:update"]},{icon:"CloseOutlined",hide:!0,text:t.$t("delete"),call:d.remove,permissionWhere:["project:delete:organization:","organization","project:delete"]}]},{default:(0,n.w5)((({item:e})=>[(0,n.Wm)(m,null,{title:(0,n.w5)((()=>[(0,n._)("div",s,(0,o.zw)(e.name),1)])),avatar:(0,n.w5)((()=>[(0,n.Wm)(g,{"two-tone-color":"#00adef",class:"font-50"})])),description:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(t.$t("Organization"))+" : "+(0,o.zw)(e.organization?e.organization.name:"-")+" ",1),l,(0,n.Uk)(" "+(0,o.zw)(t.$t("User"))+" : "+(0,o.zw)(e.users?e.users.length:"0")+" ",1),(0,n.Wm)(h,{class:"font-14 font-primary"})])),_:2},1024)])),_:1},8,["loading","data-source","actions"]),(0,n.Wm)(w,{onChange:d.search,current:c.pageNo,"onUpdate:current":e[0]||(e[0]=t=>c.pageNo=t),total:c.total,"page-size":c.pageSize,"show-less-items":""},null,8,["onChange","current","total","page-size"]),(0,n.kq)("",!0)])),_:1},8,["avatar"])}],["__scopeId","data-v-003b9a2a"]])}}]);