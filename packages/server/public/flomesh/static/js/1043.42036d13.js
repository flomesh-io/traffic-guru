"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[1043],{39694:function(e,t,a){a.d(t,{Z:function(){return r}});var i=a(66252),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},l=a(33058);function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),i.forEach((function(t){_(e,t,a[t])}))}return e}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n=function(e,t){var a=o({},e,t.attrs);return(0,i.Wm)(l.Z,o({},a,{icon:s}),null)};n.displayName="SwapOutlined",n.inheritAttrs=!1;var r=n},54877:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _components_editor_JsonEditor__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21936),_components_editor_JsEditor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9294),_components_editor_SQLEditor__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(46919),_components_card_AutoCard__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(66316),_components_tool_FormItem__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(79332),_components_tool_ColSpace__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(75359),_services_clickhouse__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(26917),_services_prometheus__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(17582),_components_tool_Timeline__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(79566),lodash__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(96486),lodash__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_9__),_utils_util__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(84722),_subscribe_index__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(934),vuex__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(33907),_services_dashboard__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(47556),_ant_design_icons_vue__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(64167);const isFree=!(0,_utils_util__WEBPACK_IMPORTED_MODULE_10__._y)();__webpack_exports__.Z={name:"WidgetEditor",components:{JsonEditor:_components_editor_JsonEditor__WEBPACK_IMPORTED_MODULE_0__.Z,JsEditor:_components_editor_JsEditor__WEBPACK_IMPORTED_MODULE_1__.Z,SQLEditor:_components_editor_SQLEditor__WEBPACK_IMPORTED_MODULE_2__.Z,AutoCard:_components_card_AutoCard__WEBPACK_IMPORTED_MODULE_3__.Z,FormItem:_components_tool_FormItem__WEBPACK_IMPORTED_MODULE_4__.Z,ColSpace:_components_tool_ColSpace__WEBPACK_IMPORTED_MODULE_5__.Z,FilterOutlined:_ant_design_icons_vue__WEBPACK_IMPORTED_MODULE_13__.Z,Timeline:_components_tool_Timeline__WEBPACK_IMPORTED_MODULE_8__.Z},i18n:__webpack_require__(89234),data(){return{running:!1,response:"",pid:"",activeKey:"1",ver:1,custom:{id:"",title:"",tag:{name:"Gauge"},service:{type:"rest",path:"",method:"GET",payload:"{}",clickhouseSQL:"",prometheusSQL:""},col:6,data:""},dateVal:[60,100],rightKey:"1",readonly:!1,icons:_subscribe_index__WEBPACK_IMPORTED_MODULE_11__.Z.baseComponents,visiblePre:!1,visibleAttr:!1,visibleEdit:!1,flb:[],fsm:[],openapi:[],userWidgets:{},baseComponents:{},customComponents:[],system:[],workload:[],widgetName:"",projects:[],inPreview:!1,previewSubscribe:"",previewSubscribeWidth:"300",loading:!0,activities:[],config:{},teams:[],samples:[{icon:"icon-component",title:"Get a Rest-API sample",config:_services_dashboard__WEBPACK_IMPORTED_MODULE_12__.Tf},{icon:"icon-component",title:"Get a Clickhouse-Query sample",config:_services_dashboard__WEBPACK_IMPORTED_MODULE_12__.Ru},{icon:"icon-component",title:"Get a Prometheus-Query sample",config:_services_dashboard__WEBPACK_IMPORTED_MODULE_12__.sl}],isFree:isFree}},computed:{...(0,vuex__WEBPACK_IMPORTED_MODULE_14__.rn)("rules",["rules"]),filterBaseComponents(){return Object.keys(this.baseComponents||{}).filter((e=>this.baseComponents[e].isOpen))},timelineQL(){return(0,_services_prometheus__WEBPACK_IMPORTED_MODULE_7__.xI)(this.dateVal[0],this.dateVal[1])||""},where(){return(0,_services_clickhouse__WEBPACK_IMPORTED_MODULE_6__.M0)(this.dateVal[0],this.dateVal[1])||""}},created(){this.baseComponents=_subscribe_index__WEBPACK_IMPORTED_MODULE_11__.Z.baseComponents,this.pid=this.$route.params.id||"",this.widgetName=this.$route.params.name||"",this.pid?this.loaddata():this.widgetName?this.run():this.resetCustom()},activated(){},methods:{dateChange(e){},getResp(e){setTimeout((()=>{this.running=!1}),600),e.error?this.response=JSON.stringify({error:e.error}):this.response=JSON.stringify(e.data)},normalRun(){if(!this.readonly){const e=this.widgetName.split(".")[0],t=this.widgetName.split(".")[1],a=this.widgetName.split(".")[2];this.previewSubscribe=e+"."+t+"."+a;let i=this.getSubscribe([e,t,a],_subscribe_index__WEBPACK_IMPORTED_MODULE_11__.Z,0);this.custom={...lodash__WEBPACK_IMPORTED_MODULE_9___default().cloneDeep(i),data:(i.data||function(){}).toString(),col:_subscribe_index__WEBPACK_IMPORTED_MODULE_11__.Z[e][t][a].col}}this.config={...lodash__WEBPACK_IMPORTED_MODULE_9___default().cloneDeep(this.custom),data:eval(this.custom.data)},this.previewSubscribeWidth=50*this.config.col,this.readonly=!0},customRun(){const e=this.custom.tag.name,t=this.custom.id;this.previewSubscribe="custom."+e+"."+t,this.config=this.custom,this.previewSubscribeWidth=50*this.config.col},run(){this.rightKey="1",this.widgetName?this.normalRun():this.customRun(),this.ver++,this.running=!0},add(){this.resetCustom(),this.showModalEdit()},getSamples(e){this.custom=e,this.activeKey="1",this.run()},resetCustom(){this.custom={id:"",title:"",tag:{name:"Gauge"},service:{type:"rest",path:"",method:"GET",payload:"{}",clickhouseSQL:"",prometheusSQL:""},col:6,data:this.baseComponents.Gauge.callback}},showModalPre(){this.visiblePre=!0},showModalAttr(){this.visibleAttr=!0},showModalEdit(){this.visibleEdit=!0,this.custom.service||(this.custom.service={type:"rest",path:"",method:"GET",payload:"{}",clickhouseSQL:"",prometheusSQL:""})},valid(e){return!this.userWidgets[e.id]||(this.$message.error(this.$t("Duplicate widget ID name, please try another ID"),3),!1)},validComponentForm(){this.$refs.componentForm.validateFields().then((()=>{this.handleOk()})).catch((()=>{}))},handleOk(){this.visibleEdit=!1;let e=lodash__WEBPACK_IMPORTED_MODULE_9___default().cloneDeep(this.custom);e.service.type&&"rest"!=e.service.type||e.service.path||delete e.service,this.pid?(0,_services_dashboard__WEBPACK_IMPORTED_MODULE_12__.IJ)(this.pid,e).then((()=>{this.$message.success(this.$t("Save successfully"),3),this.loaddata()})):this.valid(e)&&(0,_services_dashboard__WEBPACK_IMPORTED_MODULE_12__.MZ)(e).then((()=>{this.$message.success(this.$t("Created successfully"),3),this.$closePage(this.$route)}))},getSubscribe(e,t,a){return e.length>a?this.getSubscribe(e,t[e[a]],++a):t},renderCallback(){if(this.pid){let e=this;this.$confirm({title:this.$t("Tip"),content:()=>this.$t("Synchronize matching callbacks?"),onOk(){e.custom.data=e.baseComponents[e.custom.tag.name].callback},onCancel(){},class:"test"})}else this.custom.data=this.baseComponents[this.custom.tag.name].callback},reset(){this.pid?this.loaddata():this.resetCustom()},loaddata(){this.readonly=!1,(0,_services_dashboard__WEBPACK_IMPORTED_MODULE_12__.Cb)(this.pid).then((e=>{this.loading=!1,this.custom=e.content,this.run()}))}}}},9294:function(e,t,a){a.d(t,{Z:function(){return o}});var i=a(66252);var s=a(29764);(0,a(25552).H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return a.e(6015).then(a.bind(a,6015))}});var l={name:"JsEditor",components:{monacoeditor:s.Z},props:["value","height","isReadonly","id","theme"],data(){return{code:"",cmOptions:{lineNumbers:!0,mode:"javascript",readOnly:!1,lint:!0}}},watch:{value(e,t){e!==t&&this.setValue()}},mounted(){this.setValue()},methods:{change(e){"string"==typeof e&&(this.$emit("update:value",e),this.$emit("change",e))},setValue(){null!=this.value.replace&&(this.code=this.value)}}};var o=(0,a(83744).Z)(l,[["render",function(e,t,a,s,l,o){const _=(0,i.up)("monacoeditor");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(_,{id:a.id||"JsEditor",content:l.code,"onUpdate:content":t[0]||(t[0]=e=>l.code=e),option:l.cmOptions,onChange:o.change,height:a.height,theme:a.theme,"is-readonly":a.isReadonly},null,8,["id","content","option","onChange","height","theme","is-readonly"])])}]])},46919:function(e,t,a){a.d(t,{Z:function(){return o}});var i=a(66252);var s=a(29764);(0,a(25552).H)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return a.e(7778).then(a.bind(a,27778))}});var l={name:"SQLEditor",components:{monacoeditor:s.Z},props:["value","height","isReadonly","id","theme"],data(){return{code:"",cmOptions:{lineNumbers:!0,mode:"sql",readOnly:!1,lint:!0}}},watch:{value(e,t){e!==t&&this.setValue()}},mounted(){this.setValue()},methods:{change(e){"string"==typeof e&&(this.$emit("update:value",e),this.$emit("change",e))},setValue(){null!=this.value.replace&&(this.code=this.value.replace(/"/g,"").replace(/\\n/g,"\n").replace(/\\t/g,"\t"))}}};var o=(0,a(83744).Z)(l,[["render",function(e,t,a,s,l,o){const _=(0,i.up)("monacoeditor");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(_,{id:a.id||"SQLEditor",content:l.code,"onUpdate:content":t[0]||(t[0]=e=>l.code=e),option:l.cmOptions,onChange:o.change,height:a.height,theme:a.theme,"is-readonly":a.isReadonly},null,8,["id","content","option","onChange","height","theme","is-readonly"])])}]])},75359:function(e,t,a){a.d(t,{Z:function(){return W}});var i=a(66252),s=a(3577);const l=e=>((0,i.dD)("data-v-7025c042"),e=e(),(0,i.Cn)(),e),o={class:"col-space flex"},_={class:"flex-item"},n=l((()=>(0,i._)("h5",null,"1 / 4",-1))),r={class:"layout-body"},c=[l((()=>(0,i._)("div",{class:"layout-item"},null,-1)))],u={class:"flex-item"},d=l((()=>(0,i._)("h5",null,"1 / 3",-1))),p={class:"layout-body"},h=[l((()=>(0,i._)("div",{class:"layout-item"},null,-1)))],m={class:"flex-item"},v=l((()=>(0,i._)("h5",null,"1 / 2",-1))),g={class:"layout-body"},b=[l((()=>(0,i._)("div",{class:"layout-item"},null,-1)))],w={class:"flex-item"},E=l((()=>(0,i._)("h5",null,"2 / 3",-1))),y={class:"layout-body"},f=[l((()=>(0,i._)("div",{class:"layout-item"},null,-1)))],C={class:"flex-item"},k=l((()=>(0,i._)("h5",null,"100%",-1))),O={class:"layout-body"},D=[l((()=>(0,i._)("div",{class:"layout-item"},null,-1)))];var P={name:"ColSpace",props:["col","readonly"],data(){return{}},created(){},methods:{update(e){this.readonly||this.$emit("update:col",e)}}};var W=(0,a(83744).Z)(P,[["render",function(e,t,a,l,P,W){return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",_,[(0,i._)("div",{class:(0,s.C_)(["layout-selector",6==a.col?"highlight":""]),onClick:t[0]||(t[0]=e=>W.update(6))},[n,(0,i._)("div",r,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(4,((e,t)=>(0,i._)("div",{key:t,class:(0,s.C_)(["layout-grid",0==t?"highlight":""])},c,2))),64))])],2)]),(0,i._)("div",u,[(0,i._)("div",{class:(0,s.C_)(["layout-selector",8==a.col?"highlight":""]),onClick:t[1]||(t[1]=e=>W.update(8))},[d,(0,i._)("div",p,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(3,((e,t)=>(0,i._)("div",{key:t,class:(0,s.C_)(["layout-grid",0==t?"highlight":""])},h,2))),64))])],2)]),(0,i._)("div",m,[(0,i._)("div",{class:(0,s.C_)(["layout-selector",12==a.col?"highlight":""]),onClick:t[2]||(t[2]=e=>W.update(12))},[v,(0,i._)("div",g,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(2,((e,t)=>(0,i._)("div",{key:t,class:(0,s.C_)(["layout-grid",0==t?"highlight":""])},b,2))),64))])],2)]),(0,i._)("div",w,[(0,i._)("div",{class:(0,s.C_)(["layout-selector",16==a.col?"highlight":""]),onClick:t[3]||(t[3]=e=>W.update(16))},[E,(0,i._)("div",y,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(2,((e,t)=>(0,i._)("div",{key:t,class:(0,s.C_)(["layout-grid",0==t?"highlight":""]),style:(0,s.j5)(0==t?"flex:2":"")},f,6))),64))])],2)]),(0,i._)("div",C,[(0,i._)("div",{class:(0,s.C_)(["layout-selector",24==a.col?"highlight":""]),onClick:t[4]||(t[4]=e=>W.update(24))},[k,(0,i._)("div",O,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(1,((e,t)=>(0,i._)("div",{key:t,class:(0,s.C_)(["layout-grid",0==t?"highlight":""])},D,2))),64))])],2)])])}],["__scopeId","data-v-7025c042"]])},45228:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var i=a(66252),s=a(3577),l=a(87932);const o={style:{margin:"-12px -16px"}},_={class:"filter fullscreen header-fullscreen normal"},n={class:"buttonGroup"},r={class:"icon select-svg","aria-hidden":"true"},c=["xlink:href"],u=["onClick"],d={class:"icon select-svg","aria-hidden":"true"},p=["xlink:href"],h=(e=>((0,i.dD)("data-v-e7aef960"),e=e(),(0,i.Cn)(),e))((()=>(0,i._)("img",{src:l,style:{width:"300px"}},null,-1)));var m=a(54877);var v=(0,a(83744).Z)(m.Z,[["render",function(e,t,a,l,m,v){const g=(0,i.up)("Timeline"),b=(0,i.up)("a-descriptions-item"),w=(0,i.up)("a-descriptions"),E=(0,i.up)("FilterOutlined"),y=(0,i.up)("a-tooltip"),f=(0,i.up)("a-popover"),C=(0,i.up)("a-button"),k=(0,i.up)("a-input"),O=(0,i.up)("FormItem"),D=(0,i.up)("a-select-option"),P=(0,i.up)("a-select"),W=(0,i.up)("ColSpace"),M=(0,i.up)("a-radio-group"),U=(0,i.up)("a-input-group"),L=(0,i.up)("SQLEditor"),K=((0,i.up)("a-textarea"),(0,i.up)("JsEditor")),R=(0,i.up)("a-form"),T=(0,i.up)("a-tab-pane"),I=(0,i.up)("a-list-item-meta"),A=(0,i.up)("a-list-item"),S=(0,i.up)("a-list"),$=(0,i.up)("a-tabs"),B=(0,i.up)("a-card"),x=(0,i.up)("a-col"),j=(0,i.up)("AutoCard"),q=(0,i.up)("a-result"),Z=(0,i.up)("JsonEditor"),Q=(0,i.up)("a-row"),N=(0,i.Q2)("permission");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(f,{placement:"left",trigger:"click",class:"nopd"},{content:(0,i.w5)((()=>[(0,i._)("div",o,[(0,i.Wm)(w,{bordered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{label:e.$t("Timeline"),span:3},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{dateVal:m.dateVal,"onUpdate:dateVal":t[0]||(t[0]=e=>m.dateVal=e),onDateChange:v.dateChange},null,8,["dateVal","onDateChange"])])),_:1},8,["label"])])),_:1})])])),default:(0,i.w5)((()=>[(0,i._)("div",_,[(0,i.Wm)(y,{placement:"left",title:e.$t("Filter")},{default:(0,i.w5)((()=>[(0,i.Wm)(E,{class:"icon"})])),_:1},8,["title"])])])),_:1}),(0,i.Wm)(Q,{class:"bg-white"},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{span:12},{default:(0,i.w5)((()=>[(0,i.Wm)(B,{class:"left preview-card"},{default:(0,i.w5)((()=>[(0,i.Wm)($,{activeKey:m.activeKey,"onUpdate:activeKey":t[12]||(t[12]=e=>m.activeKey=e)},{rightExtra:(0,i.w5)((()=>[(0,i._)("div",n,[m.widgetName?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(C,{key:0,type:"link",onClick:v.reset},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.$t("Reset")),1)])),_:1},8,["onClick"])),(0,i.Wm)(C,{type:"link",loading:m.running,onClick:v.run},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.$t("Run")),1)])),_:1},8,["loading","onClick"]),!m.readonly&&m.pid?(0,i.wy)(((0,i.wg)(),(0,i.j4)(C,{key:1,type:"primary",onClick:v.validComponentForm},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.$t("save")),1)])),_:1},8,["onClick"])),[[N,["widget:update"]]]):m.readonly||m.pid?((0,i.wg)(),(0,i.j4)(C,{key:3,type:"primary",disabled:""},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.$t("Readonly")),1)])),_:1})):(0,i.wy)(((0,i.wg)(),(0,i.j4)(C,{key:2,type:"primary",onClick:v.validComponentForm},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.$t("create")),1)])),_:1},8,["onClick"])),[[N,["service:create"]]])])])),default:(0,i.w5)((()=>[(0,i.Wm)(T,{key:"1",tab:e.$t("Config")},{default:(0,i.w5)((()=>[(0,i.Wm)(R,{model:m.custom,"wrapper-col":{span:24},ref:"componentForm"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{bordered:""},{default:(0,i.w5)((()=>[m.widgetName?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(b,{key:0,label:e.$t("as"),span:3},{default:(0,i.w5)((()=>[(0,i.Wm)(O,{name:"id",rules:e.rules.required},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{disabled:!!m.pid,placeholder:e.$t("unset"),value:m.custom.id,"onUpdate:value":t[1]||(t[1]=e=>m.custom.id=e),class:"bold width-200"},null,8,["disabled","placeholder","value"])])),_:1},8,["rules"])])),_:1},8,["label"])),(0,i.Wm)(b,{label:e.$t("Title"),span:3},{default:(0,i.w5)((()=>[(0,i.Wm)(O,{name:"title",rules:e.rules.required},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{placeholder:e.$t("unset"),value:m.custom.title,"onUpdate:value":t[2]||(t[2]=e=>m.custom.title=e),disabled:!!m.widgetName,class:"width-300"},null,8,["placeholder","value","disabled"])])),_:1},8,["rules"])])),_:1},8,["label"]),(0,i.Wm)(b,{label:e.$t("Tag"),span:3},{default:(0,i.w5)((()=>[(0,i.Wm)(P,{placeholder:e.$t("Please select"),class:"width-200",disabled:!!m.pid||!!m.widgetName,value:m.custom.tag.name,"onUpdate:value":t[3]||(t[3]=e=>m.custom.tag.name=e),onChange:v.renderCallback},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(v.filterBaseComponents,((e,t)=>((0,i.wg)(),(0,i.j4)(D,{key:t,value:e},{default:(0,i.w5)((()=>[(0,i._)("span",null,[((0,i.wg)(),(0,i.iD)("svg",r,[(0,i._)("use",{"xlink:href":"#"+m.baseComponents[e].icon},null,8,c)])),(0,i.Uk)(" "+(0,s.zw)(e),1)])])),_:2},1032,["value"])))),128))])),_:1},8,["placeholder","disabled","value","onChange"])])),_:1},8,["label"]),(0,i.Wm)(b,{label:e.$t("Cols"),"content-style":{padding:0},span:3},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{col:m.custom.col,"onUpdate:col":t[4]||(t[4]=e=>m.custom.col=e)},null,8,["col"])])),_:1},8,["label"]),m.widgetName?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(b,{key:1,label:e.$t("Data Source"),span:3},{default:(0,i.w5)((()=>[(0,i.Wm)(M,{class:"mb-10",value:m.custom.service.type,"onUpdate:value":t[5]||(t[5]=e=>m.custom.service.type=e),"option-type":"button",options:[{label:"Rest API",value:"rest"},{label:"Clickhouse",value:"clickhouse"},{label:"Prometheus",value:"prometheus"}]},null,8,["value"])])),_:1},8,["label"])),m.widgetName?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(b,{key:2,label:e.$t("Query"),"content-style":{padding:0},span:3},{default:(0,i.w5)((()=>[m.custom.service.type&&"rest"!=m.custom.service.type?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(U,{key:0,compact:""},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{class:"width-0_2","default-value":"http://",disabled:""}),(0,i.Wm)(k,{class:"width-0_6",value:m.custom.service.path,"onUpdate:value":t[6]||(t[6]=e=>m.custom.service.path=e),placeholder:e.$t("Path")},null,8,["value","placeholder"]),(0,i.Wm)(P,{placeholder:e.$t("Please select"),class:"width-0_2",value:m.custom.service.method,"onUpdate:value":t[7]||(t[7]=e=>m.custom.service.method=e)},{default:(0,i.w5)((()=>[(0,i.Wm)(D,{value:"GET"},{default:(0,i.w5)((()=>[(0,i.Uk)(" GET ")])),_:1}),(0,i.Wm)(D,{value:"POST"},{default:(0,i.w5)((()=>[(0,i.Uk)(" POST ")])),_:1})])),_:1},8,["placeholder","value"])])),_:1})),"clickhouse"==m.custom.service.type?((0,i.wg)(),(0,i.j4)(L,{key:1,id:"clickhouseEditor",value:m.custom.service.clickhouseSQL,"onUpdate:value":t[8]||(t[8]=e=>m.custom.service.clickhouseSQL=e),height:"150px"},null,8,["value"])):(0,i.kq)("",!0),"prometheus"==m.custom.service.type?((0,i.wg)(),(0,i.j4)(L,{key:2,id:"prometheusEditor",value:m.custom.service.prometheusSQL,"onUpdate:value":t[9]||(t[9]=e=>m.custom.service.prometheusSQL=e),height:"150px"},null,8,["value"])):(0,i.kq)("",!0)])),_:1},8,["label"])),(0,i.kq)("",!0),(0,i.Wm)(b,{label:e.$t("Callback"),"content-style":{padding:0},span:3},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{id:"editJsEditor","is-readonly":!!m.widgetName,value:m.custom.data,"onUpdate:value":t[11]||(t[11]=e=>m.custom.data=e),height:"300px"},null,8,["is-readonly","value"])])),_:1},8,["label"])])),_:1})])),_:1},8,["model"])])),_:1},8,["tab"]),m.widgetName||m.pid?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(T,{key:"2",class:"pl-10 pr-10",tab:e.$t("Samples")},{default:(0,i.w5)((()=>[(0,i.Wm)(S,{"item-layout":"horizontal","data-source":m.samples},{renderItem:(0,i.w5)((({item:t})=>[(0,i.Wm)(A,null,{actions:(0,i.w5)((()=>[(0,i._)("a",{onClick:e=>v.getSamples(t.config)},(0,s.zw)(e.$t("Use")),9,u)])),default:(0,i.w5)((()=>[(0,i.Wm)(I,{description:""},{title:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.$t(t.title)),1)])),avatar:(0,i.w5)((()=>[((0,i.wg)(),(0,i.iD)("svg",d,[(0,i._)("use",{"xlink:href":"#"+t.icon},null,8,p)]))])),_:2},1024)])),_:2},1024)])),_:1},8,["data-source"])])),_:1},8,["tab"]))])),_:1},8,["activeKey"])])),_:1})])),_:1}),(0,i.Wm)(x,{span:12},{default:(0,i.w5)((()=>[(0,i.Wm)(B,{class:"bg-gray preview-card"},{default:(0,i.w5)((()=>[(0,i.Wm)($,{activeKey:m.rightKey,"onUpdate:activeKey":t[14]||(t[14]=e=>m.rightKey=e),"destroy-inactive-tab-pane":!0,centered:""},{default:(0,i.w5)((()=>[(0,i.Wm)(T,{class:"overflow-auto pt-20",key:"1",tab:e.$t("Preview")},{default:(0,i.w5)((()=>[m.previewSubscribe?((0,i.wg)(),(0,i.j4)(j,{key:0,n:m.previewSubscribe,config:m.config,where:v.where,filters:{timelineQL:v.timelineQL},ver:m.ver,class:"auto-card nopd",style:(0,s.j5)("width:"+m.previewSubscribeWidth+"px"),onResp:v.getResp},null,8,["n","config","where","filters","ver","style","onResp"])):((0,i.wg)(),(0,i.j4)(q,{key:1,title:e.$t("No Widget"),"sub-title":e.$t("Try change the config and click run button")},{icon:(0,i.w5)((()=>[h])),_:1},8,["title","sub-title"]))])),_:1},8,["tab"]),(0,i.Wm)(T,{key:"2",tab:e.$t("Response")},{default:(0,i.w5)((()=>[(0,i.Wm)(Z,{"is-readonly":!0,"is-json":!0,height:"800px",value:m.response,"onUpdate:value":t[13]||(t[13]=e=>m.response=e)},null,8,["value"])])),_:1},8,["tab"])])),_:1},8,["activeKey"])])),_:1})])),_:1})])),_:1})],64)}],["__scopeId","data-v-e7aef960"]])}}]);