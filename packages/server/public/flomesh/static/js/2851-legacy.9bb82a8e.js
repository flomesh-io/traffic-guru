"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[2851],{34531:function(e,t,n){n.d(t,{Z:function(){return h}});n(74916),n(64765),n(68309);var a=n(66252),i=n(3577),l={key:0,class:"flex pd-10"},r={key:0,class:"flex-item"},o={class:"flex-item"},u={class:"pl-10"},s=["xlink:href"],c={class:"card-selector-title"};n(41539),n(54747),n(21249),n(57327),n(69826);var d=n(85263),p=n(75255),f=n(60459),m={name:"CardSelector",components:{CheckOutlined:p.Z,EnvSelector:f.Z},props:["loading","envFilter","search","options","icon","placement","disabled","value","getTag","svg","col","width","multiple"],emits:["envChange","select"],data:function(){return{simpleImage:d.Z.PRESENTED_IMAGE_SIMPLE,visible:!1,key:""}},i18n:n(89234),computed:{multipleSelectNum:function(){var e=0;return this.options.forEach((function(t){t.checked&&e++})),e},filterOptions:function(){var e=this;if(this.key){var t=this.options.filter((function(t){return(t.name||t.username||"").indexOf(e.key)>=0}));return t.map((function(e){null==e.checked&&(e.checked=!1)})),t}var n=this.options;return n.map((function(e){null==e.checked&&(e.checked=!1)})),n}},watch:{value:{handler:function(){var e=this;this.multiple&&this.options.forEach((function(t){t.checked=!!e.value.find((function(e){return t.id==e.id}))}))},deep:!0}},methods:{envChange:function(e){this.$emit("envChange",e)},multipleSelect:function(){this.visible=!1;var e=this.options.filter((function(e){return e.checked}));this.$emit("select",e),this.$emit("update:value",e)},select:function(e){this.multiple?this.options.forEach((function(t){t.id==e.id&&(t.checked=!t.checked)})):(this.visible=!1,this.$emit("update:value",e.id),this.$emit("select",e))}}};var h=(0,n(83744).Z)(m,[["render",function(e,t,n,d,p,f){var m=(0,a.up)("EnvSelector"),h=(0,a.up)("a-input-search"),g=(0,a.up)("a-button"),v=(0,a.up)("a-empty"),y=(0,a.up)("a-skeleton"),w=(0,a.up)("a-card-grid"),b=(0,a.up)("a-card"),_=(0,a.up)("CheckOutlined"),k=(0,a.up)("a-tag"),$=(0,a.up)("a-popover");return(0,a.wg)(),(0,a.j4)($,{placement:n.placement||"bottom","overlay-class-name":"selector-popover",visible:p.visible,"onUpdate:visible":t[1]||(t[1]=function(e){return p.visible=e}),trigger:"click"},{content:(0,a.w5)((function(){return[n.search?((0,a.wg)(),(0,a.iD)("div",l,[n.envFilter?((0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(m,{"no-all":!0,"is-filter":!0,onEnvChange:f.envChange},null,8,["onEnvChange"])])):(0,a.kq)("",!0),(0,a._)("div",o,[(0,a.Wm)(h,{value:p.key,"onUpdate:value":t[0]||(t[0]=function(e){return p.key=e}),class:"full",placeholder:e.$t("search")},null,8,["value","placeholder"])]),(0,a._)("div",u,[n.multiple?((0,a.wg)(),(0,a.j4)(g,{key:0,type:"primary",onClick:f.multipleSelect,disabled:0==f.multipleSelectNum},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(e.$t("Ok")),1)]})),_:1},8,["onClick","disabled"])):(0,a.kq)("",!0)])])):(0,a.kq)("",!0),n.loading||0!=f.filterOptions.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(v,{key:1,image:p.simpleImage},null,8,["image"])),(0,a._)("div",{class:"overflow-auto scrollbar",style:(0,i.j5)("max-height:"+90*(e.rows||5)+"px")},[n.loading?((0,a.wg)(),(0,a.j4)(b,{key:0,class:"grid-menu",style:(0,i.j5)("width: "+(n.width?n.width:300)+"px")},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{class:"selector-item",style:{width:"100%",padding:"15px"}},{default:(0,a.w5)((function(){return[(0,a.Wm)(y,{avatar:"",paragraph:{rows:2}})]})),_:1})]})),_:1},8,["style"])):((0,a.wg)(),(0,a.j4)(b,{key:1,class:"grid-menu",style:(0,i.j5)("width: "+(n.width?n.width:300)+"px")},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.filterOptions,(function(e,t){return(0,a.wg)(),(0,a.j4)(w,{class:(0,i.C_)(["selector-item",(n.value==e.id?"selected":"")+(n.disabled&&n.disabled(e)?" disabled":"")]),key:t,value:e.id,style:(0,i.j5)(n.col?"width:"+100/n.col+"%":n.options.length>=3?"width: 33%;":2==n.options.length?"width:50%;":"width:100%;"),onClick:function(t){return f.select(e)}},{default:(0,a.w5)((function(){return[e.checked?((0,a.wg)(),(0,a.j4)(_,{key:0,class:"CheckOutlined"})):(0,a.kq)("",!0),(0,a._)("div",{class:(0,i.C_)(n.getTag?"mt-15":"")},[n.icon?((0,a.wg)(),(0,a.j4)((0,a.LL)(n.icon),{key:0,"two-tone-color":"#00adef"})):n.svg?((0,a.wg)(),(0,a.iD)("svg",{key:1,class:(0,i.C_)([n.getTag?"mt-20":"","card-avatar icon"]),"aria-hidden":"true"},[(0,a._)("use",{"xlink:href":n.svg},null,8,s)],2)):(0,a.kq)("",!0),(0,a._)("div",c,(0,i.zw)(e.name||e.username),1)],2),n.getTag&&n.getTag(e)?((0,a.wg)(),(0,a.j4)(k,{key:1,class:"ribbon",color:"#f5f5f5"},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(n.getTag(e)),1)]})),_:2},1024)):(0,a.kq)("",!0)]})),_:2},1032,["class","value","style","onClick"])})),128))]})),_:1},8,["style"]))],4)]})),default:(0,a.w5)((function(){return[(0,a.WI)(e.$slots,"default",{},void 0,!0)]})),_:3},8,["placement","visible"])}],["__scopeId","data-v-30bb0bbf"]])},9294:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(66252);n(74916),n(15306);var i=n(29764);(0,n(25552).H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return n.e(6015).then(n.bind(n,6015))}});var l={name:"JsEditor",components:{monacoeditor:i.Z},props:["value","height","isReadonly","id","theme"],data:function(){return{code:"",cmOptions:{lineNumbers:!0,mode:"javascript",readOnly:!1,lint:!0}}},watch:{value:function(e,t){e!==t&&this.setValue()}},mounted:function(){this.setValue()},methods:{change:function(e){"string"==typeof e&&(this.$emit("update:value",e),this.$emit("change",e))},setValue:function(){null!=this.value.replace&&(this.code=this.value)}}};var r=(0,n(83744).Z)(l,[["render",function(e,t,n,i,l,r){var o=(0,a.up)("monacoeditor");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o,{id:n.id||"JsEditor",content:l.code,"onUpdate:content":t[0]||(t[0]=function(e){return l.code=e}),option:l.cmOptions,onChange:r.change,height:n.height,theme:n.theme,"is-readonly":n.isReadonly},null,8,["id","content","option","onChange","height","theme","is-readonly"])])}]])},1299:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(66252),i=n(3577),l={key:0,class:"title"};n(9653);var r={name:"DetailList",props:{title:{type:String,required:!1,default:""},col:{type:Number,required:!1,default:3},size:{type:String,required:!1,default:"large"},layout:{type:String,required:!1,default:"horizontal"}}};var o=(0,n(83744).Z)(r,[["render",function(e,t,n,r,o,u){var s=(0,a.up)("a-row");return(0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["detail-list","small"===n.size?"small":"large","vertical"===n.layout?"vertical":"horizontal"]),style:(0,i.j5)("flex-"+n.col)},[n.title?((0,a.wg)(),(0,a.iD)("div",l,(0,i.zw)(n.title),1)):(0,a.kq)("",!0),(0,a.Wm)(s,null,{default:(0,a.w5)((function(){return[(0,a.WI)(e.$slots,"default")]})),_:3})],6)}]])},13589:function(e,t,n){n.d(t,{Z:function(){return u}});n(68309);var a=n(66252),i=n(3577),l={class:"detail-content"};n(21249);var r={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{xs:24,sm:12,md:6}},o={name:"DetailListItem",i18n:n(39945),props:{name:{type:String,required:!1,default:""},rules:{type:Array,required:!1,default:function(){return[]}},term:{type:String,required:!1,default:""},termTop:{type:Boolean}},data:function(){return{col:2,responsive:r}},computed:{getRules:function(){var e=this;return this.rules.map((function(t){return t.message=e.$t(t.message),t})),this.rules}},created:function(){this.$parent&&this.$parent.$parent&&this.$parent.$parent.col>0&&(this.col=this.$parent.$parent.col)},methods:{}};var u=(0,n(83744).Z)(o,[["render",function(e,t,n,r,o,u){var s=(0,a.up)("a-form-item"),c=(0,a.up)("a-col");return(0,a.wg)(),(0,a.j4)(c,(0,a.dG)({class:"detail-list-content flex"},o.responsive[o.col]),{default:(0,a.w5)((function(){return[(0,a._)("div",{class:(0,i.C_)(n.termTop?"term top":"term")},(0,i.zw)(n.term),3),(0,a._)("div",l,[n.rules?((0,a.wg)(),(0,a.j4)(s,{key:0,name:n.name,rules:u.getRules},{default:(0,a.w5)((function(){return[(0,a.WI)(e.$slots,"default")]})),_:3},8,["name","rules"])):(0,a.WI)(e.$slots,"default",{key:1})])]})),_:3},16)}]])},51079:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});n(68309);var a=n(66252),i=n(3577);var l=n(95082),r=(n(41539),n(54747),n(74916),n(15306),n(40561),n(57658),n(61103)),o=n(1299),u=n(33907),s=n(50976),c=n(34531),d=n(13589),p=n(9294),f={name:"TestcaseCreate",i18n:n(89234),components:{DetailListItem:d.Z,DetailList:o.Z,PageLayout:r.Z,AutoForm:s.Z,CardSelector:c.Z,JsEditor:p.Z},data:function(){return{pid:"",urlList:[],initMapping:[{label:"Basic",fields:[[{name:"jitter",type:"boolean",unit:"",label:"Jitter",value:!1},{name:"uniform",type:"boolean",unit:"",label:"Uniform",value:!1},{name:"p",type:"text",unit:"",label:"Percentiles",value:"50, 75, 90, 99, 99.9"},{name:"r",type:"number",unit:"",label:"Histogram Resolution",value:"0.0001"},{name:"c",type:"number",unit:"",label:"Threads/Simultaneous connections",value:"8"},{name:"qps",type:"number",unit:"",label:"QPS",value:"1000"},{name:"t",type:"number",unit:"s",label:"Duration",value:"3"},{name:"n",type:"number",unit:"calls",label:"or run for exactly",value:""},{name:"tMax",type:"boolean",unit:"",label:"or run until interrupted",value:!1}]]},{label:"Load using",fields:[[{name:"runner",type:"select",unit:"",label:"Runner",value:"tcp/udp/http",options:[{label:"tcp/udp/http",value:"tcp/udp/http"},{label:"grpc",value:"grpc"}]},{name:"https-insecure",type:"boolean",unit:"",label:"https insecure",value:!0,showBy:{runner:"tcp/udp/http"}},{name:"stdclient",type:"boolean",unit:"",label:"standard go client instead of fastclient",value:!1,showBy:{runner:"tcp/udp/http"}},{name:"sequential-warmup",type:"boolean",unit:"",label:"sequential warmup",value:!1,showBy:{runner:"tcp/udp/http"}},{name:"resolve",type:"text",unit:"",label:"resolve",value:"",showBy:{runner:"tcp/udp/http"}},{name:"grpc-secure",type:"boolean",unit:"",label:"grpc secure transport (tls)",value:!0,showBy:{runner:"grpc"}},{name:"ping",type:"boolean",unit:"",label:"using ping backend",value:!1,showBy:{runner:"grpc"}},{name:"grpc-ping-delay",type:"number",unit:"s",label:"ping delay",value:"0",showBy:{runner:"grpc"}},{name:"json",type:"boolean",unit:"",label:"JSON output",value:!1,showBy:{runner:"grpc"}},{name:"save",type:"boolean",unit:"",label:"Save output",value:!1,showBy:{runner:"grpc"}}]]}],visible:!1,detail:{content:{targets:[],pipyJS:"",url:null,H:"User-Agent: fortio.org/fortio-dev",payload:"",name:"New Fortio",timeout:"750"}},loading:!0,fortios:[]}},computed:(0,l.Z)({},(0,u.rn)({rules:function(e){return e.rules.rules},isMobile:function(e){return e.setting.isMobile}})),created:function(){var e=this;this.pid=this.$route.params.id||"",this.$gql.query('fleets(filters:{type:{eq:"fortio"}}){data{id,attributes{name,content}}}').then((function(t){e.fortios=t.data})),this.getUrlList(),""!=this.pid?(this.loading=!0,this.$gql.query("testcase(id: ".concat(this.pid,"){data{id,attributes{name,content,createdAt}}}")).then((function(t){var n=t.data;e.detail=n,e.detail.content.targets=e.detail.content.targets?e.detail.content.targets:[],e.initMapping.forEach((function(e){e.fields.forEach((function(e){e.forEach((function(e){n.content[e.name]&&("t"==e.name?e.value=n.content[e.name].replace(e.unit,""):e.value=n.content[e.name])}))}))})),e.loading=!1}))):(this.detail={content:{os:"generic_linux",arch:"loongarch64",pipy_version:"nightly-202205110231",pipyJS:"pipy({\n  _upstream_router: new algo.URLRouter({\n    '/1': new Data(new Array(1024).fill(65)),\n    '/10': new Data(new Array(10*1024).fill(65)),\n    '/100': new Data(new Array(100*1024).fill(65)),\n    '/1000': new Data(new Array(1000*1024).fill(65)),\n    '/*': new Data(new Array(128).fill(65))\n  }),\n\n  // proxies\n  _upstream_services: (\n    Object.fromEntries(\n      Object.entries({\n        \"default\": [\n          \"127.0.0.1:8080\",\n        ]\n      }).map(\n        ([k, v]) => [\n          k, new algo.RoundRobinLoadBalancer(v)\n        ]\n      )\n    )\n  ),\n\n  _proxy_router: new algo.URLRouter({\n      '/*': \"default\"\n    }),\n\n  __turnDown: false,\n  __serviceID: '',\n\n  _balancer: null,\n  _balancerCache: null,\n  _target: '',\n  _targetCache: null,\n\n  _g: {\n    connectionID: 0,\n  },\n\n  _connectionPool: new algo.ResourcePool(\n    () => ++_g.connectionID\n  )\n})\n\n.listen(8080)\n  .serveHTTP(\n    req => new Message(\n      _upstream_router.find(req.head.path)\n    )\n  )\n\n.listen(8000)\n  .handleStreamStart(\n    () => (\n      _balancerCache = new algo.Cache(\n        // k is a balancer, v is a target\n        (k  ) => k.select(),\n        (k,v) => k.deselect(v),\n      ),\n      _targetCache = new algo.Cache(\n        // k is a target, v is a connection ID\n        (k  ) => _connectionPool.allocate(k),\n        (k,v) => _connectionPool.free(v),\n      )\n    )\n  )\n  .handleStreamEnd(\n    () => (\n      _targetCache.clear(),\n      _balancerCache.clear()\n    )\n  )\n  .demuxHTTP('router-request')\n\n.pipeline('router-request')\n  .handleMessageStart(\n    msg => (\n      __serviceID = _proxy_router.find(\n        msg.head.headers.host,\n        msg.head.path,\n      )\n    )\n  )\n  .link(\n    'balancer-request'\n  )\n\n.pipeline('balancer-request')\n  .handleMessageStart(\n    () => (\n      _balancer = _upstream_services[__serviceID],\n      _balancer && (_target = _balancerCache.get(_balancer)),\n      _target && (__turnDown = true)\n    )\n  )\n  .link(\n    'balancer-forward', () => Boolean(_target),\n    ''\n  )\n\n.pipeline('balancer-forward')\n  .muxHTTP(\n    'balancer-connection',\n    () => _targetCache.get(_target)\n  )\n\n.pipeline('balancer-connection')\n  .connect(\n    () => _target\n  )\n\n.pipeline('404-request')\n  .replaceMessage(\n    new Message({ status: 404 }, 'No handler')\n  )\n",url:null,H:"User-Agent: fortio.org/fortio-dev",payload:"",timeout:"750",name:"New Fortio",targets:[]}},this.loading=!1)},methods:{pjsChange:function(){},onTabChange:function(e){},valid:function(){return""==this.detail.name?(this.$message.error(this.$t("The name cannot be empty"),3),!1):""!=this.detail.name||(this.$message.error(this.$t("The name cannot be empty"),3),!1)},clearTarget:function(e){this.detail.content.targets.splice(e,1)},setTargets:function(e){this.detail.content.targets=e},validate:function(){var e=this;this.$refs.layout.$refs.form.validateFields().then((function(){e.save()})).catch((function(){}))},save:function(){var e=this;if(this.valid()){var t={};t.name=this.detail.content.name;var n={};n.pipyJS=this.detail.content.pipyJS,n.name=this.detail.content.name,n.url=this.detail.content.url,n.timeout=this.detail.content.timeout,n.payload=this.detail.content.payload,n.H=this.detail.content.H,n.targets=this.detail.content.targets,n.os=this.detail.content.os,n.arch=this.detail.content.arch,n.pipy_version=this.detail.content.pipy_version,this.initMapping.forEach((function(e){e.fields.forEach((function(e){e.forEach((function(e){"t"==e.name?n[e.name]=e.value+e.unit:n[e.name]=e.value}))}))})),t.content=n,""!=this.pid?this.$gql.mutation("updateTestcase(id:".concat(this.pid,", data: $data){data{id}}"),{data:t},{data:"TestcaseInput!"}).then((function(){e.$message.success(e.$t("Save successfully"),3),e.$closePage(e.$route)})):this.$gql.mutation("createTestcase(data: $data){data{id,attributes{name}}}",{data:t},{data:"TestcaseInput!"}).then((function(t){e.insertUrl(),e.$message.success(e.$t("Created successfully"),3),e.goDetail(t.testcase.id)}))}},getUrlList:function(){var e=this;this.urlList=[],this.$gql.query('systemSettings(filters:{type:{eq:"TestcaseURL"}}){data{id,attributes{mode,content}}}').then((function(t){t.data.forEach((function(t){if(t.content.status){var n={label:"",value:""};n.disabled="activated"!=t.content.status,n.label=t.content.displayName+"("+t.content.host+(t.content.port?":"+t.content.port:"")+t.content.path+")",n.value=t.content.host+(t.content.port?":"+t.content.port:"")+t.content.path,"activated"!=t.content.status&&(n.label+="(".concat(t.content.status,")")),e.urlList.push(n)}}))}))},insertUrl:function(){},goDetail:function(e){this.$router.push({path:"/inspector/testcase/detail/"+e})},handleChange:function(){},hide:function(){this.visible=!1}}};var m=(0,n(83744).Z)(f,[["render",function(e,t,n,l,r,o){var u=(0,a.up)("a-input"),s=(0,a.up)("DetailListItem"),c=(0,a.up)("a-textarea"),d=(0,a.up)("a-tag"),p=(0,a.up)("CardSelector"),f=(0,a.up)("a-select-option"),m=(0,a.up)("a-select"),h=(0,a.up)("DetailList"),g=(0,a.up)("a-button"),v=(0,a.up)("AutoForm"),y=(0,a.up)("a-card"),w=(0,a.up)("a-tab-pane"),b=(0,a.up)("JsEditor"),_=(0,a.up)("a-tabs"),k=(0,a.up)("a-col"),$=(0,a.up)("a-row"),C=(0,a.up)("PageLayout");return(0,a.wg)(),(0,a.j4)(C,{"hide-breadcrumb":!0,"form-state":r.detail.content,title:e.$t("New Testcase"),ref:"layout"},(0,a.Nv)({headerContent:(0,a.w5)((function(){return[(0,a.Wm)(h,{size:"small",col:2},{default:(0,a.w5)((function(){return[(0,a.Wm)(s,{term:e.$t("as"),name:"name",rules:e.rules.required},{default:(0,a.w5)((function(){return[(0,a.Wm)(u,{placeholder:e.$t("unset"),value:r.detail.content.name,"onUpdate:value":t[0]||(t[0]=function(e){return r.detail.content.name=e}),class:"width-200"},null,8,["placeholder","value"])]})),_:1},8,["term","rules"]),(0,a.Wm)(s,{term:e.$t("Timeout")+" (ms)",name:"timeout",rules:e.rules.required},{default:(0,a.w5)((function(){return[(0,a.Wm)(u,{value:r.detail.content.timeout,"onUpdate:value":t[1]||(t[1]=function(e){return r.detail.content.timeout=e}),type:"number",placeholder:e.$t("unset"),class:"width-100"},null,8,["value","placeholder"])]})),_:1},8,["term","rules"]),(0,a.Wm)(s,{term:e.$t("Headers"),"term-top":!0},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{value:r.detail.content.H,"onUpdate:value":t[2]||(t[2]=function(e){return r.detail.content.H=e}),placeholder:e.$t("unset"),rows:4},null,8,["value","placeholder"])]})),_:1},8,["term"]),(0,a.Wm)(s,{term:e.$t("Payload"),"term-top":!0},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{value:r.detail.content.payload,"onUpdate:value":t[3]||(t[3]=function(e){return r.detail.content.payload=e}),placeholder:e.$t("unset"),rows:4},null,8,["value","placeholder"])]})),_:1},8,["term"]),r.pid?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(s,{key:0,term:e.$t("Test Machine")},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.detail.content.targets||[],(function(e,t){return(0,a.wg)(),(0,a.j4)(d,{key:t,closable:"",onClose:function(e){return o.clearTarget(t)}},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(e.name),1)]})),_:2},1032,["onClose"])})),128)),(0,a.Wm)(p,{search:!0,width:400,col:2,svg:"#icon-fortio",value:r.detail.content.targets,"onUpdate:value":t[4]||(t[4]=function(e){return r.detail.content.targets=e}),multiple:!0,"get-tag":function(e){return e.content.host},options:r.fortios},{default:(0,a.w5)((function(){return[(0,a._)("a",null,[(0,a.Wm)(d,{color:"#00adef",key:"submit",type:"primary"},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(e.$t("select"))+" Fortio ",1)]})),_:1})])]})),_:1},8,["value","get-tag","options"])]})),_:1},8,["term"])),(0,a.Wm)(s,{term:e.$t("Test Target"),name:"url",rules:e.rules.required},{default:(0,a.w5)((function(){return[(0,a.Wm)(m,{ref:"select",value:r.detail.content.url,"onUpdate:value":t[5]||(t[5]=function(e){return r.detail.content.url=e}),class:"full"},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.urlList,(function(e,t){return(0,a.wg)(),(0,a.j4)(f,{key:t,value:e.value,disabled:e.disabled},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(e.label),1)]})),_:2},1032,["value","disabled"])})),128))]})),_:1},8,["value"])]})),_:1},8,["term","rules"])]})),_:1})]})),action:(0,a.w5)((function(){return[(0,a.Wm)(g,{type:"primary",onClick:o.validate},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,i.zw)(""!=r.pid?e.$t("save"):r.detail.content.targets.length>0?e.$t("Run"):e.$t("create")),1)]})),_:1},8,["onClick"])]})),default:(0,a.w5)((function(){return[(0,a.Wm)($,{class:"mg-0"},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,{class:"col-pd",xl:24,lg:24,md:24,sm:24,xs:24},{default:(0,a.w5)((function(){return[(0,a.Wm)(_,{type:"card"},{default:(0,a.w5)((function(){return[(0,a.Wm)(w,{key:"1",tab:e.$t("config")},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.initMapping,(function(e,t){return(0,a.wg)(),(0,a.j4)(y,{key:t,class:"card mb-24",title:e.label,bordered:!1,loading:r.loading},{default:(0,a.w5)((function(){return[(0,a.Wm)(v,{col:3,fields:e.fields},null,8,["fields"])]})),_:2},1032,["title","loading"])})),128))]})),_:1},8,["tab"]),(0,a.Wm)(w,{key:"2",tab:e.$t("PipyJS")},{default:(0,a.w5)((function(){return[(0,a.Wm)(b,{"is-readonly":!1,value:r.detail.content.pipyJS,"onUpdate:value":t[6]||(t[6]=function(e){return r.detail.content.pipyJS=e})},null,8,["value"])]})),_:1},8,["tab"])]})),_:1})]})),_:1})]})),_:1})]})),_:2},[""!=r.pid?{name:"extra",fn:(0,a.w5)((function(){return[]})),key:"0"}:void 0]),1032,["form-state","title"])}]])}}]);