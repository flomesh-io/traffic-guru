"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[5638],{71900:function(t,e,n){n.d(e,{Z:function(){return i}});var a=n(66252),u=n(3577),l={class:"head-info"};var r={name:"HeadInfo",props:["title","content"]};var i=(0,n(83744).Z)(r,[["render",function(t,e,n,r,i,o){return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("span",null,(0,u.zw)(n.title),1),(0,a._)("p",null,[(0,a.Uk)((0,u.zw)(n.content),1),(0,a.WI)(t.$slots,"body",{},void 0,!0)])])}],["__scopeId","data-v-00006846"]])},65638:function(t,e,n){n.r(e),n.d(e,{default:function(){return F}});n(74916),n(64765),n(92222),n(68309);var a=n(66252),u=n(3577),l=n(49963),r=function(t){return(0,a.dD)("data-v-6569b4d9"),t=t(),(0,a.Cn)(),t},i={class:"search-input"},o={class:"form-row"},s={class:"content flex"},c={class:"flex-item"},d={class:"label"},f=r((function(){return(0,a._)("em",null," ~ ",-1)})),p={class:"label"},w=["onClick"],m={class:"flex-item font-right"},_={class:"inline-block width-120"},h={class:"font-right"},v=["onClick"],g=["onClick"],k=["onClick"],y={key:0},z={class:"content"},$={class:"flex"},C={class:"flex-item"},W={key:0},b={key:0},D={key:1},T={key:1},U=r((function(){return(0,a._)("span",null," - ",-1)})),S=r((function(){return(0,a._)("b",null,"Header",-1)})),x=r((function(){return(0,a._)("b",null,"Payload",-1)})),Z={class:"flex-item"},B=r((function(){return(0,a._)("b",null,"Test Report",-1)})),H=r((function(){return(0,a._)("b",null,"QPS",-1)})),Y=r((function(){return(0,a._)("b",null,"Timeout",-1)}));var j=n(95082),A=(n(57658),n(71900)),O=n(50320),L=n(87849),M=n(13471),P=n(2692),q=n(99684),I=n(33907),N=n(61103),R={name:"TestcaseList",i18n:n(89234),components:{LoadingOutlined:O.Z,DownOutlined:L.Z,PageLayout:N.Z,FieldTimeOutlined:M.Z,MoreOutlined:P.Z,PlusCircleTwoTone:q.Z,HeadInfo:A.Z},data:function(){return{date:"",log:"{}",arrow:"desc",visible:!1,endDate:"",sortBy:{label:"Creation Timestamp",value:"createdAt"},prefix:" ",key:"",loading:!0,pageNo:1,pageSize:10,total:0,select_keys:[{label:"Creation Timestamp",value:"createdAt"},{label:"as",value:"name"}],testcases:[]}},computed:(0,j.Z)((0,j.Z)({},(0,I.rn)("setting",["layout","pageWidth"])),{},{start:function(){return(this.pageNo-1)*this.pageSize}}),created:function(){this.search()},methods:{remove:function(t){var e=this;this.$gql.mutation("deleteTestcase(id:".concat(t,"){data{id}}")).then((function(){e.$message.success(e.$t("Deleted successfully"),3),e.search()}))},orderBy:function(t,e){this.sortBy=t,this.arrow=e,this.search()},search:function(t){var e=this;this.pageNo=t||1,this.loading=!0;var n={name:{contains:this.key}};this.endDate&&(n.updatedAt={lte:this.endDate}),this.date&&(n.createdAt={gte:this.date}),this.$gql.query('testcases(sort: "'.concat(this.sortBy.value,":").concat(this.arrow,'", filters: $filters, pagination:{ start: ').concat(this.start,", limit: ").concat(this.pageSize,"}){\n\t\t\t\t\t\tdata{id,attributes{name,testresults{data{id,attributes{status,updatedAt}}},content,createdAt,updatedAt}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}"),{filters:n},{filters:"TestcaseFiltersInput"}).then((function(t){e.testcases=t.data,e.total=t.pagination.total,e.loading=!1}))},add:function(){this.$router.push({path:"/inspector/testcase/create"})},detail:function(t){this.$router.push({path:"/inspector/testcase/detail/"+t})},edit:function(t){this.$router.push({path:"/inspector/testcase/edit/"+t})},onClose:function(){this.visible=!1}}};var F=(0,n(83744).Z)(R,[["render",function(t,e,n,r,j,A){var O=(0,a.up)("a-input-search"),L=(0,a.up)("a-date-picker"),M=(0,a.up)("a-form-item"),P=(0,a.up)("DownOutlined"),q=(0,a.up)("a-menu-item"),I=(0,a.up)("a-menu"),N=(0,a.up)("a-dropdown"),R=(0,a.up)("PlusCircleTwoTone"),F=(0,a.up)("HeadInfo"),K=(0,a.up)("a-form"),Q=(0,a.up)("a-card"),E=(0,a.up)("a-popconfirm"),J=(0,a.up)("MoreOutlined"),V=(0,a.up)("a-tag"),G=(0,a.up)("a-list-item-meta"),X=(0,a.up)("LoadingOutlined"),tt=(0,a.up)("a-badge"),et=(0,a.up)("FieldTimeOutlined"),nt=(0,a.up)("a-list-item"),at=(0,a.up)("a-list"),ut=(0,a.up)("PageLayout");return(0,a.wg)(),(0,a.j4)(ut,{title:t.$t("Test Cases"),"hide-breadcrumb":!0},{headerContent:(0,a.w5)((function(){return[(0,a._)("div",{class:(0,u.C_)(["search-head",t.layout,t.pageWidth])},[(0,a._)("div",i,[(0,a.Wm)(O,{value:j.key,"onUpdate:value":e[0]||(e[0]=function(t){return j.key=t}),class:"search-ipt",onSearch:e[1]||(e[1]=function(t){return A.search()}),placeholder:t.$t("Please input")+"...",size:"large"},null,8,["value","placeholder"])]),(0,a.Wm)(Q,{bordered:!1,class:"search-form"},{default:(0,a.w5)((function(){return[(0,a.Wm)(K,null,{default:(0,a.w5)((function(){return[(0,a._)("div",o,[(0,a._)("div",s,[(0,a._)("div",c,[(0,a.Wm)(M,null,{default:(0,a.w5)((function(){return[(0,a._)("span",d,[(0,a._)("span",null,(0,u.zw)(t.$t("Time screening")),1)]),(0,a.Wm)(L,{value:j.date,"onUpdate:value":e[2]||(e[2]=function(t){return j.date=t}),"show-time":"",format:"YYYY-MM-DD HH:mm:ss",placeholder:t.$t("Start Date"),onChange:e[3]||(e[3]=function(t){return A.search()})},null,8,["value","placeholder"]),f,(0,a.Wm)(L,{value:j.endDate,"onUpdate:value":e[4]||(e[4]=function(t){return j.endDate=t}),"show-time":"",format:"YYYY-MM-DD HH:mm:ss",placeholder:t.$t("End Date"),onChange:e[5]||(e[5]=function(t){return A.search()})},null,8,["value","placeholder"])]})),_:1}),(0,a.Wm)(M,null,{default:(0,a.w5)((function(){return[(0,a._)("span",p,[(0,a._)("span",null,(0,u.zw)(t.$t("Sort By")),1)]),(0,a.Wm)(N,null,{overlay:(0,a.w5)((function(){return[(0,a.Wm)(I,null,{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(j.select_keys,(function(e,n){return(0,a.wg)(),(0,a.j4)(q,{key:n},{default:(0,a.w5)((function(){return[(0,a._)("a",{href:"javascript:void(0);",onClick:function(t){return A.orderBy(e,j.arrow)},class:"uppercase"},(0,u.zw)(t.$t(e.label)),9,w)]})),_:2},1024)})),128))]})),_:1})]})),default:(0,a.w5)((function(){return[(0,a._)("b",{class:"ant-dropdown-link font-primary ml-10 uppercase",onClick:e[6]||(e[6]=(0,l.iM)((function(){}),["prevent"]))},[(0,a.Uk)((0,u.zw)(t.$t(j.sortBy.label))+" ",1),(0,a.Wm)(P)])]})),_:1}),(0,a.Wm)(N,null,{overlay:(0,a.w5)((function(){return[(0,a.Wm)(I,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(q,null,{default:(0,a.w5)((function(){return[(0,a._)("a",{href:"javascript:void(0);",onClick:e[8]||(e[8]=function(t){return A.orderBy(j.sortBy,"desc")}),class:"uppercase"},(0,u.zw)(t.$t("desc")),1)]})),_:1}),(0,a.Wm)(q,null,{default:(0,a.w5)((function(){return[(0,a._)("a",{href:"javascript:void(0);",onClick:e[9]||(e[9]=function(t){return A.orderBy(j.sortBy,"asc")}),class:"uppercase"},(0,u.zw)(t.$t("asc")),1)]})),_:1})]})),_:1})]})),default:(0,a.w5)((function(){return[(0,a._)("b",{class:"ant-dropdown-link font-primary ml-10 uppercase",onClick:e[7]||(e[7]=(0,l.iM)((function(){}),["prevent"]))},[(0,a.Uk)((0,u.zw)(t.$t(j.arrow))+" ",1),(0,a.Wm)(P)])]})),_:1})]})),_:1})]),(0,a._)("div",m,[(0,a._)("div",_,[(0,a.Wm)(F,{class:"pd-0 split-right",title:t.$t("Create Test Case")},{body:(0,a.w5)((function(){return[(0,a._)("div",null,[(0,a.Wm)(R,{onClick:A.add,class:"font-primary rotate-icon"},null,8,["onClick"])])]})),_:1},8,["title"])])])])])]})),_:1})]})),_:1})],2)]})),default:(0,a.w5)((function(){return[(0,a.Wm)(Q,{class:"search-content",loading:j.loading},{default:(0,a.w5)((function(){return[(0,a.Wm)(at,{"item-layout":"vertical",pagination:{showSizeChanger:!1,showQuickJumper:!1,onShowSizeChange:A.search,onChange:A.search,current:j.pageNo,pageSize:j.pageSize,showTotal:function(e,n){return"".concat(t.$t("Total")," ").concat(e)},total:j.total}},{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(j.testcases,(function(e,n){return(0,a.wg)(),(0,a.j4)(nt,{key:n},{actions:(0,a.w5)((function(){return[(0,a._)("span",null,[(0,a.Wm)(et),(0,a.Uk)(" "+(0,u.zw)(new Date(e.createdAt).toLocaleString()),1)]),(0,a._)("span",null,"URL : "+(0,u.zw)(e.content.url),1)]})),default:(0,a.w5)((function(){return[(0,a.Wm)(G,null,{avatar:(0,a.w5)((function(){return[(0,a._)("div",h,[(0,a._)("div",null,[(0,a.Wm)(N,null,{overlay:(0,a.w5)((function(){return[(0,a.Wm)(I,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(q,null,{default:(0,a.w5)((function(){return[(0,a._)("a",{onClick:function(t){return A.detail(e.id)}},(0,u.zw)(t.$t("detail")),9,v)]})),_:2},1024),(0,a.Wm)(q,null,{default:(0,a.w5)((function(){return[(0,a._)("a",{onClick:function(t){return A.edit(e.id)}},(0,u.zw)(t.$t("edit")),9,g)]})),_:2},1024),(0,a.Wm)(q,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(E,{placement:"topLeft","ok-text":t.$t("Yes"),"cancel-text":t.$t("No"),onConfirm:function(t){return A.remove(e.id)}},{title:(0,a.w5)((function(){return[(0,a._)("p",null,(0,u.zw)(t.$t("Tip")),1),(0,a._)("p",null,(0,u.zw)(t.$t("Are you sure to delete this?")),1)]})),default:(0,a.w5)((function(){return[(0,a._)("a",null,(0,u.zw)(t.$t("delete")),1)]})),_:2},1032,["ok-text","cancel-text","onConfirm"])]})),_:2},1024)]})),_:2},1024)]})),default:(0,a.w5)((function(){return[(0,a._)("a",null,[(0,a.Wm)(J)])]})),_:2},1024)])])]})),title:(0,a.w5)((function(){return[(0,a._)("a",{href:"javascript:void(0)",onClick:function(t){return A.detail(e.id)}},(0,u.zw)(e.name),9,k)]})),description:(0,a.w5)((function(){return[(0,a.Wm)(V,null,{default:(0,a.w5)((function(){return[(0,a.Uk)("Runner:"+(0,u.zw)(e.content.runner||"-"),1)]})),_:2},1024),e.content.os?((0,a.wg)(),(0,a.j4)(V,{key:0},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,u.zw)(t.$t("OS"))+":"+(0,u.zw)(e.content.os)+" ",1),e.content.arch?((0,a.wg)(),(0,a.iD)("span",y," ("+(0,u.zw)(e.content.arch)+")",1)):(0,a.kq)("",!0)]})),_:2},1024)):(0,a.kq)("",!0),e.content.pipy_version?((0,a.wg)(),(0,a.j4)(V,{key:1},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,u.zw)(t.$t("Pipy Version"))+":"+(0,u.zw)(e.content.pipy_version),1)]})),_:2},1024)):(0,a.kq)("",!0)]})),_:2},1024),(0,a._)("div",z,[(0,a._)("div",$,[(0,a._)("div",C,[e.testresults.length>0?((0,a.wg)(),(0,a.iD)("div",W,[(0,a._)("b",null,(0,u.zw)(t.$t("Status")),1),(0,a.Uk)(" : "),0==e.testresults[0].status?((0,a.wg)(),(0,a.iD)("span",b,[(0,a.Wm)(X,{class:"font-primary"}),(0,a.Uk)(" "+(0,u.zw)(t.$t("Running")),1)])):((0,a.wg)(),(0,a.iD)("span",D,[(0,a.Wm)(tt,{color:["red","processing","green"][e.testresults[0].status+1],text:t.$t(["Failed","Running","Done"][e.testresults[0].status+1])},null,8,["color","text"])]))])):((0,a.wg)(),(0,a.iD)("div",T,[(0,a._)("b",null,(0,u.zw)(t.$t("Status")),1),(0,a.Uk)(" : "),U])),(0,a._)("div",null,[S,(0,a.Uk)(" : "),(0,a._)("span",null,(0,u.zw)(e.content.H||"-"),1)]),(0,a._)("div",null,[x,(0,a.Uk)(" : "),(0,a._)("span",null,(0,u.zw)(e.content.payload||"-"),1)])]),(0,a._)("div",Z,[(0,a._)("div",null,[B,(0,a.Uk)(" : "),(0,a._)("span",null,(0,u.zw)(e.testresults.length),1)]),(0,a._)("div",null,[H,(0,a.Uk)(" : "),(0,a._)("span",null,(0,u.zw)(e.content.qps),1)]),(0,a._)("div",null,[Y,(0,a.Uk)(" : "),(0,a._)("span",null,(0,u.zw)(e.content.timeout)+"ms",1)])])])])]})),_:2},1024)})),128))]})),_:1},8,["pagination"])]})),_:1},8,["loading"])]})),_:1},8,["title"])}],["__scopeId","data-v-6569b4d9"]])}}]);