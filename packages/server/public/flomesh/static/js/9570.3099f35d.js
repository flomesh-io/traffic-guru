"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[9570],{62967:function(e,t,a){a.d(t,{Z:function(){return c}});var s=a(66252),l={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M911.9 283.9v.5L835.5 865c-1 8-7.9 14-15.9 14H204.5c-8.1 0-14.9-6.1-16-14l-76.4-580.6v-.6 1.6L188.5 866c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.1-.5.1-1 0-1.5z",fill:t}},{tag:"path",attrs:{d:"M773.6 810.6l53.9-409.4-139.8 86.1L512 252.9 336.3 487.3l-139.8-86.1 53.8 409.4h523.3zm-374.2-189c0-62.1 50.5-112.6 112.6-112.6s112.6 50.5 112.6 112.6v1c0 62.1-50.5 112.6-112.6 112.6s-112.6-50.5-112.6-112.6v-1z",fill:t}},{tag:"path",attrs:{d:"M512 734.2c61.9 0 112.3-50.2 112.6-112.1v-.5c0-62.1-50.5-112.6-112.6-112.6s-112.6 50.5-112.6 112.6v.5c.3 61.9 50.7 112.1 112.6 112.1zm0-160.9c26.6 0 48.2 21.6 48.2 48.3 0 26.6-21.6 48.3-48.2 48.3s-48.2-21.6-48.2-48.3c0-26.6 21.6-48.3 48.2-48.3z",fill:e}},{tag:"path",attrs:{d:"M188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6v-.5c.3-6.4-6.7-10.8-12.3-7.4L705 396.4 518.4 147.5a8.06 8.06 0 00-12.9 0L319 396.4 124.3 276.5c-5.5-3.4-12.6.9-12.2 7.3v.6L188.5 865zm147.8-377.7L512 252.9l175.7 234.4 139.8-86.1-53.9 409.4H250.3l-53.8-409.4 139.8 86.1z",fill:e}}]}},name:"crown",theme:"twotone"},r=a(33058);function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},s=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),s.forEach((function(t){i(e,t,a[t])}))}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o=function(e,t){var a=n({},e,t.attrs);return(0,s.Wm)(r.Z,n({},a,{icon:l}),null)};o.displayName="CrownTwoTone",o.inheritAttrs=!1;var c=o},77682:function(e,t,a){a.d(t,{Z:function(){return c}});var s=a(66252),l={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 632h128v192H696zm-496 0h128v192H200z",fill:t}},{tag:"path",attrs:{d:"M512 128c-212.1 0-384 171.9-384 384v360c0 13.3 10.7 24 24 24h184c35.3 0 64-28.7 64-64V624c0-35.3-28.7-64-64-64H200v-48c0-172.3 139.7-312 312-312s312 139.7 312 312v48H688c-35.3 0-64 28.7-64 64v208c0 35.3 28.7 64 64 64h184c13.3 0 24-10.7 24-24V512c0-212.1-171.9-384-384-384zM328 632v192H200V632h128zm496 192H696V632h128v192z",fill:e}}]}},name:"customer-service",theme:"twotone"},r=a(33058);function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},s=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),s.forEach((function(t){i(e,t,a[t])}))}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o=function(e,t){var a=n({},e,t.attrs);return(0,s.Wm)(r.Z,n({},a,{icon:l}),null)};o.displayName="CustomerServiceTwoTone",o.inheritAttrs=!1;var c=o},38046:function(e,t,a){a.d(t,{Z:function(){return c}});var s=a(66252),l={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136V232h752v560z",fill:e}},{tag:"path",attrs:{d:"M136 792h752V232H136v560zm472-372c0-4.4 1-8 2.3-8h123.4c1.3 0 2.3 3.6 2.3 8v48c0 4.4-1 8-2.3 8H610.3c-1.3 0-2.3-3.6-2.3-8v-48zm0 144c0-4.4 3.2-8 7.1-8h185.7c3.9 0 7.1 3.6 7.1 8v48c0 4.4-3.2 8-7.1 8H615.1c-3.9 0-7.1-3.6-7.1-8v-48zM216.2 664.6c2.8-53.3 31.9-99.6 74.6-126.1-18.1-20-29.1-46.4-29.1-75.5 0-61.9 49.9-112 111.4-112s111.4 50.1 111.4 112c0 29.1-11 55.6-29.1 75.5 42.6 26.4 71.8 72.8 74.6 126.1a8 8 0 01-8 8.4h-43.9c-4.2 0-7.6-3.3-7.9-7.5-3.8-50.5-46-90.5-97.2-90.5s-93.4 40-97.2 90.5c-.3 4.2-3.7 7.5-7.9 7.5H224c-4.6 0-8.2-3.8-7.8-8.4z",fill:t}},{tag:"path",attrs:{d:"M321.3 463a51.7 52 0 10103.4 0 51.7 52 0 10-103.4 0z",fill:t}},{tag:"path",attrs:{d:"M610.3 476h123.4c1.3 0 2.3-3.6 2.3-8v-48c0-4.4-1-8-2.3-8H610.3c-1.3 0-2.3 3.6-2.3 8v48c0 4.4 1 8 2.3 8zm4.8 144h185.7c3.9 0 7.1-3.6 7.1-8v-48c0-4.4-3.2-8-7.1-8H615.1c-3.9 0-7.1 3.6-7.1 8v48c0 4.4 3.2 8 7.1 8zM224 673h43.9c4.2 0 7.6-3.3 7.9-7.5 3.8-50.5 46-90.5 97.2-90.5s93.4 40 97.2 90.5c.3 4.2 3.7 7.5 7.9 7.5H522a8 8 0 008-8.4c-2.8-53.3-32-99.7-74.6-126.1a111.8 111.8 0 0029.1-75.5c0-61.9-49.9-112-111.4-112s-111.4 50.1-111.4 112c0 29.1 11 55.5 29.1 75.5a158.09 158.09 0 00-74.6 126.1c-.4 4.6 3.2 8.4 7.8 8.4zm149-262c28.5 0 51.7 23.3 51.7 52s-23.2 52-51.7 52-51.7-23.3-51.7-52 23.2-52 51.7-52z",fill:e}}]}},name:"idcard",theme:"twotone"},r=a(33058);function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},s=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),s.forEach((function(t){i(e,t,a[t])}))}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o=function(e,t){var a=n({},e,t.attrs);return(0,s.Wm)(r.Z,n({},a,{icon:l}),null)};o.displayName="IdcardTwoTone",o.inheritAttrs=!1;var c=o},10711:function(e,t,a){a.d(t,{Z:function(){return v}});var s=a(66252),l=a(3577);const r={key:0,class:"permission-card-body"},n={key:1,class:"permission-card-body"},i={key:0},o={class:"inline-block"},c={class:"inline-block relative",style:{left:"10px",top:"-7px"}},u={key:1},d={class:"inline-block"},p=(e=>((0,s.dD)("data-v-21a71ec4"),e=e(),(0,s.Cn)(),e))((()=>(0,s._)("div",{class:"inline-block relative",style:{left:"10px",top:"-7px"}},null,-1)));var m=a(75255),h=a(54367),f={name:"PermissionCard",components:{CheckOutlined:m.Z,CloseOutlined:h.Z},props:["resources"],i18n:a(89234),data(){return{}},computed:{maxResources(){let e=0;return this.resources.forEach((t=>{e=e>t.actions.length?e:t.actions.length})),e}},created(){},mounted(){},methods:{}};var v=(0,a(83744).Z)(f,[["render",function(e,t,a,m,h,f){const v=(0,s.up)("a-card-grid"),g=(0,s.up)("CheckOutlined"),w=(0,s.up)("CloseOutlined"),y=(0,s.up)("a-card");return(0,s.wg)(),(0,s.j4)(y,{class:"grid-menu nopd small-grid-menu",bordered:!1},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.resources,((t,m)=>((0,s.wg)(),(0,s.iD)("div",{key:m},["project"!=t.type||0!=m&&a.resources[m-1].project?.id==t.project.id?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",r,(0,l.zw)(e.$t("Project"))+":"+(0,l.zw)(t.project.name),1)),"organization"!=t.type||0!=m&&a.resources[m-1].organization?.id==t.organization.id?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",n,(0,l.zw)(e.$t("Organization"))+":"+(0,l.zw)(t.organization.name),1)),(0,s.Wm)(v,{class:"flex-item permission-card-resource",style:(0,l.j5)("width:"+Math.floor(1e3/(f.maxResources+1))/10+"%")},{default:(0,s.w5)((()=>[(0,s._)("b",null,(0,l.zw)(e.$t(t.name)),1)])),_:2},1032,["style"]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(f.maxResources,((a,r)=>((0,s.wg)(),(0,s.j4)(v,{key:r,class:"flex-item permission-card-action",style:(0,l.j5)("width:"+Math.floor(1e3/(f.maxResources+1))/10+"%")},{default:(0,s.w5)((()=>[t.actions.length>r?((0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",o,[t.actions[r].enabled?((0,s.wg)(),(0,s.j4)(g,{key:0,class:"success"})):((0,s.wg)(),(0,s.j4)(w,{key:1,class:"danger"}))]),(0,s._)("div",c,(0,l.zw)(e.$t(t.actions[r].name)),1)])):((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",d,[(0,s.Wm)(w,{class:"danger",style:{opacity:"0"}})]),p]))])),_:2},1032,["style"])))),128))])))),128))])),_:1})}],["__scopeId","data-v-21a71ec4"]])},71900:function(e,t,a){a.d(t,{Z:function(){return i}});var s=a(66252),l=a(3577);const r={class:"head-info"};var n={name:"HeadInfo",props:["title","content"]};var i=(0,a(83744).Z)(n,[["render",function(e,t,a,n,i,o){return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("span",null,(0,l.zw)(a.title),1),(0,s._)("p",null,[(0,s.Uk)((0,l.zw)(a.content),1),(0,s.WI)(e.$slots,"body",{},void 0,!0)])])}],["__scopeId","data-v-00006846"]])},49570:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var s=a(66252),l=a(3577),r=a(49963);const n={class:"search-input"},i={class:"content flex"},o={class:"flex-item"},c={class:"form-row"},u={class:"label"},d={class:"content"},p={key:1};var m=a(99684),h=a(44924),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"},v=a(33058);function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},s=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),s.forEach((function(t){w(e,t,a[t])}))}return e}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y=function(e,t){var a=g({},e,t.attrs);return(0,s.Wm)(v.Z,g({},a,{icon:f}),null)};y.displayName="MobileOutlined",y.inheritAttrs=!1;var b=y,O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"};function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},s=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),s.forEach((function(t){z(e,t,a[t])}))}return e}function z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _=function(e,t){var a=k({},e,t.attrs);return(0,s.Wm)(v.Z,k({},a,{icon:O}),null)};_.displayName="MailOutlined",_.inheritAttrs=!1;var j=_,$=a(82393),P=a(61103),C=a(71900),U=a(38189),M=a(10711),W=a(79332),Z=a(33907),D=a(93099),S=a(96486),H=a.n(S),T={name:"Users",components:{HeadInfo:C.Z,PageLayout:P.Z,UsersResults:U.Z,PlusCircleTwoTone:m.Z,UserOutlined:h.Z,MobileOutlined:b,MailOutlined:j,TeamOutlined:$.Z,PermissionCard:M.Z,FormItem:W.Z},i18n:a(89234),data(){return{TeamOutlined:$.Z,isEdit:!1,users:[],visible:!1,viewtypevalue:0,viewtype:[{value:0,label:"Default"}],payload:{id:"",username:"",phone:"",role_id:"",password:"",type:"",email:""},resources:{},defaultResources:{},roles:[],roleMap:{},defaultRoleId:"",bindTarget:{},editorIsCreate:!0,workload:[],projects:[],pageSize:10,pageNo:1,total:0,key:"",loading:!0,activities:[],config:{},teams:[]}},computed:{...(0,Z.rn)("rules",["rules"]),start(){return(this.pageNo-1)*this.pageSize}},created(){this.initroles(),this.loaddata()},methods:{setDefaultResources(){const e=this.payload.role.id;(0,D.Yj)({id:e}).then((e=>{this.resources=e.permissions}))},add(){this.isEdit=!1;const e=this.defaultRoleId;this.roleMap[`role-${e}`]?(this.payload={id:"",username:"",phone:"",role:{id:e,type:"system"},password:"123456",widget:D.M2,type:"",email:""},this.setDefaultResources(),this.showModal()):this.$message.error("Please create a system role first",3)},getSample(){this.custom=this.customSample},showModal(){this.visible=!0},valid(){this.$refs.form.validateFields().then((()=>{this.handleOk()})).catch((()=>{}))},handleOk(){this.save()},initroles(){let e=!1;this.$gql.query('usersPermissionsRoles(filters:{type:{eq:"system"}}){data{id,attributes{\n\t\t\t\t\t\tname,\n\t\t\t\t\t\ttype\n\t\t\t\t\t}}}').then((t=>{this.roles=t.data,t.data.forEach((t=>{"system"!=t.type||e||(this.defaultRoleId=t.id,e=!0),this.roleMap[`role-${t.id}`]=t}))})),(0,D.Yj)().then((e=>{this.defaultResources=e.permissions}))},save(){let e=H().cloneDeep(this.payload);if(e.role&&e.role.id?e.role=e.role.id:e.role&&!e.role.id&&delete e.role,this.isEdit){const t=e.id;delete e.id,this.$gql.mutation(`updateUsersPermissionsUser(id:${t}, data: $data){data{id}}`,{data:e},{data:"UsersPermissionsUserInput!"}).then((()=>{this.visible=!1,this.$message.success(this.$t("Modified successfully"),3),this.loaddata()}))}else delete e.id,this.$gql.mutation("createUsersPermissionsUser(data: $data){data{id}}",{data:e},{data:"UsersPermissionsUserInput!"}).then((()=>{this.visible=!1,this.$message.success(this.$t("Created successfully"),3),this.loaddata()}))},remove(e,t,a){this.$gql.mutation(`deleteUsersPermissionsUser(id:${a.id}){data{id}}`).then((()=>{this.$message.success(this.$t("Deleted successfully"),3),this.loaddata()}))},showModal2(){this.visible2=!0},getTimeLabel(e){return new Date(e[0]).toLocaleDateString()+"~"+new Date(e[1]).toLocaleDateString()},setting(e,t,a){this.payload=a,this.setDefaultResources(),this.isEdit=!0,this.showModal()},search(e,t){e&&(this.pageNo=e,this.pageSize=t),this.loaddata()},loaddata(){this.loading=!0;let e={username:{contains:this.key}};this.$gql.query(`usersPermissionsUsers(filters: $filters, pagination: {start: ${this.start}, limit: ${this.pageSize}}){\n\t\t\t\t\t\tdata{id,attributes{\n\t\t\t\t\t\t\tusername,\n\t\t\t\t\t\t\tphone,\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\trole{data{id,attributes{\n\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\ttype\n\t\t\t\t\t\t\t}}}\n\t\t\t\t\t\t}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}`,{filters:e},{filters:"UsersPermissionsUserFiltersInput"}).then((e=>{this.users=e.data,this.total=e.pagination.total,this.loading=!1}))}}};var x=(0,a(83744).Z)(T,[["render",function(e,t,a,m,h,f){const v=(0,s.up)("a-input-search"),g=(0,s.up)("a-radio-button"),w=(0,s.up)("a-radio-group"),y=(0,s.up)("a-form-item"),b=(0,s.up)("a-form"),O=(0,s.up)("PlusCircleTwoTone"),k=(0,s.up)("HeadInfo"),z=(0,s.up)("a-card"),_=(0,s.up)("UsersResults"),j=(0,s.up)("a-button"),$=(0,s.up)("UserOutlined"),P=(0,s.up)("a-input"),C=(0,s.up)("FormItem"),U=(0,s.up)("a-descriptions-item"),M=(0,s.up)("MobileOutlined"),W=(0,s.up)("a-input-password"),Z=(0,s.up)("MailOutlined"),D=(0,s.up)("PermissionCard"),S=(0,s.up)("a-descriptions"),H=(0,s.up)("a-modal"),T=((0,s.up)("TeamOutlined"),(0,s.up)("PageLayout")),x=(0,s.Q2)("permission");return(0,s.wg)(),(0,s.j4)(T,{avatar:h.TeamOutlined},{headerContent:(0,s.w5)((()=>[(0,s._)("div",{class:(0,l.C_)(["search-head",e.layout,e.pageWidth])},[(0,s._)("div",n,[(0,s.Wm)(v,{value:h.key,"onUpdate:value":t[0]||(t[0]=e=>h.key=e),class:"search-ipt",onSearch:t[1]||(t[1]=e=>f.search()),placeholder:e.$t("Please input")+"...",size:"large"},null,8,["value","placeholder"])]),(0,s.Wm)(z,{bordered:!1,class:"search-form"},{default:(0,s.w5)((()=>[(0,s._)("div",i,[(0,s._)("div",o,[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s._)("div",c,[(0,s._)("div",u,[(0,s._)("span",null,(0,l.zw)(e.$t("Card View")),1)]),(0,s._)("div",d,[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{size:"small",value:h.viewtypevalue,"onUpdate:value":t[2]||(t[2]=e=>h.viewtypevalue=e),"button-style":"solid"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(h.viewtype,((t,a)=>((0,s.wg)(),(0,s.j4)(g,{value:t.value,key:a},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t(t.label)),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1})])])])),_:1})]),(0,s._)("div",null,[(0,s.wy)(((0,s.wg)(),(0,s.j4)(k,{class:"split-right",title:e.$t("Create user")},{body:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(O,{onClick:f.add,class:"font-primary icon-menu rotate-icon"},null,8,["onClick"])])])),_:1},8,["title"])),[[x,["user:create"]]])])])])),_:1})],2)])),default:(0,s.w5)((()=>[(0,s.Wm)(_,{loading:h.loading,users:h.users,"page-no":h.pageNo,total:h.total,onSearch:f.search,"page-size":h.pageSize,onRemove:f.remove,onSetting:f.setting},null,8,["loading","users","page-no","total","onSearch","page-size","onRemove","onSetting"]),(0,s.Wm)(H,{visible:h.visible,"onUpdate:visible":t[8]||(t[8]=e=>h.visible=e),"destroy-on-close":!0,title:e.$t("user"),width:"50%"},{footer:(0,s.w5)((()=>[h.isEdit?(0,s.wy)(((0,s.wg)(),(0,s.j4)(j,{key:0,type:"primary",onClick:f.valid},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("save")),1)])),_:1},8,["onClick"])),[[x,["user:update"]]]):(0,s.wy)(((0,s.wg)(),(0,s.j4)(j,{key:1,type:"primary",onClick:f.valid},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("create")),1)])),_:1},8,["onClick"])),[[x,["user:create"]]])])),default:(0,s.w5)((()=>[(0,s.Wm)(b,{model:h.payload,"wrapper-col":{span:24},ref:"form"},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(U,{label:e.$t("as"),span:3},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"username",rules:e.rules.uniqueUserName("usersPermissionsUsers",{id:h.payload.id})},{default:(0,s.w5)((()=>[(0,s.Wm)(P,{placeholder:e.$t("unset"),value:h.payload.username,"onUpdate:value":t[3]||(t[3]=e=>h.payload.username=e)},{prefix:(0,s.w5)((()=>[(0,s.Wm)($,{type:"user"})])),_:1},8,["placeholder","value"])])),_:1},8,["rules"])])),_:1},8,["label"]),e.$isPro?((0,s.wg)(),(0,s.j4)(U,{key:0,label:e.$t("Mobile"),span:3},{default:(0,s.w5)((()=>[(0,s.Wm)(P,{placeholder:e.$t("unset"),value:h.payload.phone,"onUpdate:value":t[4]||(t[4]=e=>h.payload.phone=e)},{prefix:(0,s.w5)((()=>[(0,s.Wm)(M,{type:"user"})])),_:1},8,["placeholder","value"])])),_:1},8,["label"])):(0,s.kq)("",!0),h.isEdit?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(U,{key:1,label:e.$t("Password"),span:3},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"password",rules:e.rules.password},{default:(0,s.w5)((()=>[(0,s.Wm)(W,{value:h.payload.password,"onUpdate:value":t[5]||(t[5]=e=>h.payload.password=e),placeholder:e.$t("unset")},null,8,["value","placeholder"])])),_:1},8,["rules"])])),_:1},8,["label"])),(0,s.Wm)(U,{label:e.$t("Email"),span:3},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{name:"email",rules:e.rules.email},{default:(0,s.w5)((()=>[(0,s.Wm)(P,{placeholder:e.$t("unset"),value:h.payload.email,"onUpdate:value":t[6]||(t[6]=e=>h.payload.email=e)},{prefix:(0,s.w5)((()=>[(0,s.Wm)(Z,{type:"user"})])),_:1},8,["placeholder","value"])])),_:1},8,["rules"])])),_:1},8,["label"]),(0,s.Wm)(U,{label:e.$t("Roles"),span:3},{default:(0,s.w5)((()=>["system"==h.payload.role.type?((0,s.wg)(),(0,s.j4)(w,{key:0,value:h.payload.role.id,"onUpdate:value":t[7]||(t[7]=e=>h.payload.role.id=e),"button-style":"solid",onChange:f.setDefaultResources},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(h.roles,((t,a)=>(0,s.wy)(((0,s.wg)(),(0,s.j4)(g,{value:t.id,key:a},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t(t.name)),1)])),_:2},1032,["value"])),[[r.F8,"system"==t.type]]))),128))])),_:1},8,["value","onChange"])):((0,s.wg)(),(0,s.iD)("span",p,(0,l.zw)(e.$t(h.payload.role.name)),1))])),_:1},8,["label"]),(0,s.Wm)(U,{label:e.$t("Authority"),span:3},{default:(0,s.w5)((()=>[h.resources.length>0?((0,s.wg)(),(0,s.j4)(D,{key:0,resources:h.resources},null,8,["resources"])):(0,s.kq)("",!0)])),_:1},8,["label"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible","title"]),(0,s.kq)("",!0)])),_:1},8,["avatar"])}],["__scopeId","data-v-01819dce"]])},38189:function(e,t,a){a.d(t,{Z:function(){return d}});var s=a(66252),l=a(3577);const r={class:"mb-3"},n={class:"meta-content"};var i=a(38046),o=a(62967),c=a(77682),u={name:"UsersResults",components:{CardList:a(69596).Z,IdcardTwoTone:i.Z,CrownTwoTone:o.Z,CustomerServiceTwoTone:c.Z},i18n:a(89234),props:["users","total","pageNo","pageSize","loading","actions","noAction"],data(){return{pageNoVal:0}},computed:{},watch:{pageNoVal:{deep:!0,handler(){this.$emit("update:pageNo",this.pageNoVal)}}},mounted(){this.pageNoVal=this.pageNo},methods:{search(e,t,a){this.$emit("search",e,t,a)},remove(e,t,a){this.$emit("remove",e,t,a)},setting(e,t,a){this.$emit("setting",e,t,a)}}};var d=(0,a(83744).Z)(u,[["render",function(e,t,a,i,o,c){const u=(0,s.up)("a-tag"),d=(0,s.up)("CrownTwoTone"),p=(0,s.up)("CustomerServiceTwoTone"),m=(0,s.up)("IdcardTwoTone"),h=(0,s.up)("a-card-meta"),f=(0,s.up)("CardList"),v=(0,s.up)("a-pagination");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(f,{"hide-action-title":!0,loading:a.loading,"data-source":a.users,type:"component",actions:a.noAction?null:a.actions?a.actions:[{icon:"EditOutlined",text:e.$t("edit"),call:c.setting,permission:["user:update"]},{icon:"CloseOutlined",hide:!0,text:e.$t("delete"),call:c.remove,permission:["user:delete"]}]},{default:(0,s.w5)((({item:t})=>[(0,s.Wm)(h,null,{title:(0,s.w5)((()=>[(0,s._)("div",r,[(0,s.Uk)((0,l.zw)(t.username)+" ",1),t.role?((0,s.wg)(),(0,s.j4)(u,{key:0,color:"blue",class:"ml-10"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(t.role.name),1)])),_:2},1024)):(0,s.kq)("",!0)])])),avatar:(0,s.w5)((()=>[t.role&&"Authenticated"==t.role.name?((0,s.wg)(),(0,s.j4)(d,{key:0,"two-tone-color":"#00adef",class:"font-50"})):t.role&&"Public"==t.role.name?((0,s.wg)(),(0,s.j4)(p,{key:1,"two-tone-color":"#00adef",class:"font-50"})):((0,s.wg)(),(0,s.j4)(m,{key:2,"two-tone-color":"#00adef",class:"font-50"}))])),description:(0,s.w5)((()=>[(0,s._)("div",n,(0,l.zw)(e.$t("Email"))+"："+(0,l.zw)(t.email||e.$t("unset")),1)])),_:2},1024)])),_:1},8,["loading","data-source","actions"]),o.pageNoVal>=0?((0,s.wg)(),(0,s.j4)(v,{key:0,onChange:c.search,current:o.pageNoVal,"onUpdate:current":t[0]||(t[0]=e=>o.pageNoVal=e),total:a.total,"page-size":a.pageSize,"show-less-items":""},null,8,["onChange","current","total","page-size"])):(0,s.kq)("",!0)])}],["__scopeId","data-v-2057c1d0"]])}}]);