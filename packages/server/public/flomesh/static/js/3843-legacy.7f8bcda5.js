"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[3843],{33601:function(t,e,n){n.d(e,{Z:function(){return l}});var a=n(66252),o={icon:function(t,e){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z",fill:t}},{tag:"path",attrs:{d:"M372.5 256H184v512h656V370.4H492.1z",fill:e}}]}},name:"folder",theme:"twotone"},i=n(33058);function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){c(t,e,n[e])}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(t,e){var n=r({},t,e.attrs);return(0,a.Wm)(i.Z,r({},n,{icon:o}),null)};u.displayName="FolderTwoTone",u.inheritAttrs=!1;var l=u},71900:function(t,e,n){n.d(e,{Z:function(){return c}});var a=n(66252),o=n(3577),i={class:"head-info"};var r={name:"HeadInfo",props:["title","content"]};var c=(0,n(83744).Z)(r,[["render",function(t,e,n,r,c,u){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("span",null,(0,o.zw)(n.title),1),(0,a._)("p",null,[(0,a.Uk)((0,o.zw)(n.content),1),(0,a.WI)(t.$slots,"body",{},void 0,!0)])])}],["__scopeId","data-v-00006846"]])},13843:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});n(68309),n(74916),n(64765);var a=n(66252),o=n(3577),i=function(t){return(0,a.dD)("data-v-003b9a2a"),t=t(),(0,a.Cn)(),t},r=i((function(){return(0,a._)("div",null,null,-1)})),c={class:"capitalize"},u=i((function(){return(0,a._)("br",null,null,-1)}));n(57658),n(92222);var l=n(99684),s=n(33601),d=n(64569),p=n(44924),f=n(61103),g=n(71900),h=n(69596),m=n(85263),w={name:"Projects",components:{HeadInfo:g.Z,PageLayout:f.Z,CardList:h.Z,PlusCircleTwoTone:l.Z,FolderTwoTone:s.Z,ProjectOutlined:d.Z,UserOutlined:p.Z},i18n:n(89234),data:function(){return{ProjectOutlined:d.Z,isEdit:!1,payload:{id:"",name:"",organization:{id:null}},bindTarget:{},editorIsCreate:!0,workload:[],projects:[],pageSize:12,pageNo:1,total:0,loading:!0,activities:[],config:{},teams:[],simpleImage:m.Z.PRESENTED_IMAGE_SIMPLE}},computed:{start:function(){return(this.pageNo-1)*this.pageSize}},created:function(){this.loaddata()},activated:function(){},methods:{add:function(){this.$router.push({path:"/system/projects/create"})},getSample:function(){this.custom=this.customSample},remove:function(t,e,n){var a=this;this.$gql.mutation("deleteProject(id:".concat(n.id,"){data{id}}")).then((function(){a.$message.success(a.$t("Deleted successfully"),3),a.loaddata()}))},getTimeLabel:function(t){return new Date(t[0]).toLocaleDateString()+"~"+new Date(t[1]).toLocaleDateString()},setting:function(t,e,n){this.$router.push({path:"/system/projects/detail/"+n.id})},edit:function(){},search:function(t,e){t&&(this.pageNo=t,this.pageSize=e),this.loaddata()},loaddata:function(){var t=this;this.loading=!0,this.$gql.query("projects(pagination:{start: ".concat(this.start,", limit: ").concat(this.pageSize,"}){\n\t\t\t\t\t\tdata{id,attributes{\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\torganization{data{id,attributes{name}}},\n\t\t\t\t\t\t\tusers{data{id,attributes{username}}},\n\t\t\t\t\t\t\tcontent\n\t\t\t\t\t\t}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}")).then((function(e){t.projects=e.data,t.total=e.pagination.total,t.loading=!1})),this.$gql.query("organizations{data{id,attributes{name}}}").then((function(e){t.orgs=e.data}))}}};var v=(0,n(83744).Z)(w,[["render",function(t,e,n,i,l,s){var d=(0,a.up)("PlusCircleTwoTone"),p=(0,a.up)("HeadInfo"),f=(0,a.up)("FolderTwoTone"),g=(0,a.up)("UserOutlined"),h=(0,a.up)("a-card-meta"),m=(0,a.up)("CardList"),w=(0,a.up)("a-pagination"),v=((0,a.up)("ProjectOutlined"),(0,a.up)("PageLayout")),b=(0,a.Q2)("permission");return(0,a.wg)(),(0,a.j4)(v,{avatar:l.ProjectOutlined},{headerContent:(0,a.w5)((function(){return[r]})),extra:(0,a.w5)((function(){return[(0,a.wy)(((0,a.wg)(),(0,a.j4)(p,{class:"split-right",title:t.$t("Create project")},{body:(0,a.w5)((function(){return[(0,a._)("div",null,[(0,a.Wm)(d,{onClick:s.add,class:"font-primary icon-menu rotate-icon"},null,8,["onClick"])])]})),_:1},8,["title"])),[[b,["project:create"]]])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(m,{"hide-action-title":!0,loading:l.loading,"data-source":l.projects,type:"component",actions:[{icon:"EditOutlined",text:t.$t("edit"),call:s.setting,permissionWhere:["project:update:organization:","organization","project:update"]},{icon:"CloseOutlined",hide:!0,text:t.$t("delete"),call:s.remove,permissionWhere:["project:delete:organization:","organization","project:delete"]}]},{default:(0,a.w5)((function(e){var n=e.item;return[(0,a.Wm)(h,null,{title:(0,a.w5)((function(){return[(0,a._)("div",c,(0,o.zw)(n.name),1)]})),avatar:(0,a.w5)((function(){return[(0,a.Wm)(f,{"two-tone-color":"#00adef",class:"font-50"})]})),description:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("Organization"))+" : "+(0,o.zw)(n.organization?n.organization.name:"-")+" ",1),u,(0,a.Uk)(" "+(0,o.zw)(t.$t("User"))+" : "+(0,o.zw)(n.users?n.users.length:"0")+" ",1),(0,a.Wm)(g,{class:"font-14 font-primary"})]})),_:2},1024)]})),_:1},8,["loading","data-source","actions"]),(0,a.Wm)(w,{onChange:s.search,current:l.pageNo,"onUpdate:current":e[0]||(e[0]=function(t){return l.pageNo=t}),total:l.total,"page-size":l.pageSize,"show-less-items":""},null,8,["onChange","current","total","page-size"]),(0,a.kq)("",!0)]})),_:1},8,["avatar"])}],["__scopeId","data-v-003b9a2a"]])}}]);