"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[8675],{50128:function(t,e,n){n.d(e,{Z:function(){return c}});var i=n(66252),a=n(3577),l={class:"mini-chart"},r=["id"];var o=n(95082),u=(n(41539),n(54747),n(47941),n(2707),n(57658),n(85263)),d=n(33907),s={name:"MiniBar",props:["dv","id","axis","height","colors","stack","ver","unit"],data:function(){return{id2:Math.ceil(1e3*Math.random()),isMounted:!1,simpleImage:u.Z.PRESENTED_IMAGE_SIMPLE}},computed:(0,o.Z)({},(0,d.rn)("setting",["lang"])),watch:{lang:function(t){this.$i18n.locale=t},dv:function(){var t=this;this.isMounted&&setTimeout((function(){t.renderChart()}),100)},ver:function(){var t=this;this.isMounted&&setTimeout((function(){t.renderChart()}),100)}},mounted:function(){this.isMounted=!0,this.$i18n.locale=this.lang,this.renderChart()},methods:{getLegend:function(){var t={};return this.dv.forEach((function(e){t[e.type]=e.type})),Object.keys(t)},getXAxis:function(){var t={};return this.dv.forEach((function(e){t[e.date]=e.date})),Object.keys(t).sort()},getSeriesValue:function(){var t={};return this.dv.forEach((function(e){t[e.date]||(t[e.date]={}),e.itemStyle?t[e.date][e.type]={value:e.value,itemStyle:e.itemStyle}:t[e.date][e.type]=e.value})),t},getSeries:function(t,e){var n=this,i=this.getSeriesValue(),a=[];return t.forEach((function(t){var l=[];e.forEach((function(e){l.push(i[e][t]||0)}));var r={name:t,type:"bar",smooth:!0,areaStyle:{},emphasis:{focus:"series"},data:l};n.stack&&(r.stack=n.stack),a.push(r)})),a},renderChart:function(){var t=this,e=this.getLegend(),n=this.getXAxis(),i=this.getSeries(e,n),a=document.getElementById(this.id+this.id2);a&&this.$echarts.dispose(a);var l=this.$echarts.init(a);l.showLoading();var r={color:this.colors?this.colors:["rgba(0, 137, 237,0.7)","rgba(255, 157, 77,0.7)","rgba(90, 216, 166,0.7)","rgba(227, 137, 163,0.7)","rgba(146, 112, 202,0.7)"],tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:e,show:!1},toolbox:{},grid:{top:"0px",right:"10px",left:"30px",bottom:"0px"},xAxis:[{axisLabel:{backgroundColor:"rgba(240,240,240,0.7)",padding:[2,3,2,3],textStyle:{color:"#6a7985"},inside:!0,borderRadius:2,minInterval:20},data:n,axisTick:{show:!1},axisLine:{show:!1},z:10}],yAxis:[{show:!!this.axis,type:"value",axisLabel:this.axis?{formatter:function(e){return""+e+(t.unit?t.unit:"")}}:{showMinLabel:!1,showMaxLabel:!1,inside:!0,margin:-30,backgroundColor:"rgba(240,240,240,0.7)",padding:[2,3,2,3],textStyle:{color:"#6a7985"},formatter:function(e){return""+e+(t.unit?t.unit:"")}}}],series:i};l.setOption(r,{lazyUpdate:!0}),l.hideLoading()}}};var c=(0,n(83744).Z)(s,[["render",function(t,e,n,o,u,d){var s=(0,i.up)("a-empty");return(0,i.wg)(),(0,i.iD)("div",l,[n.dv&&0!=n.dv.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(s,{key:0,image:u.simpleImage,description:""},null,8,["image"])),(0,i._)("div",{ref:n.id,class:"chart-content full",id:n.id+u.id2,style:(0,a.j5)({height:n.height?n.height+"px":"100px"})},null,12,r)])}],["__scopeId","data-v-64c489b5"]])},49568:function(t,e,n){n.d(e,{Z:function(){return p}});var i=n(66252),a=n(3577),l={class:"mini-chart"},r={class:"absolute full mt-10"},o=["id"];var u=n(95082),d=(n(57658),n(85263)),s=n(33907),c={name:"MiniSector",props:["dv","noEmpty","id","height","padding","colors","ver"],data:function(){return{id2:Math.ceil(1e3*Math.random()),isMounted:!1,simpleImage:d.Z.PRESENTED_IMAGE_SIMPLE}},computed:(0,u.Z)({},(0,s.rn)("setting",["lang"])),watch:{lang:function(t){this.$i18n.locale=t},dv:function(){var t=this;this.isMounted&&setTimeout((function(){t.renderChart()}),100)},ver:function(){var t=this;this.isMounted&&setTimeout((function(){t.renderChart()}),100)}},mounted:function(){var t=this;this.isMounted=!0,this.$i18n.locale=this.lang,setTimeout((function(){t.renderChart()}),100)},methods:{getSeries:function(){var t=[];return t.push({type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:this.dv}),t},renderChart:function(){var t=this.getSeries(),e=document.getElementById(this.id+this.id2);e&&this.$echarts.dispose(e);var n=this.$echarts.init(e);n.showLoading();var i={color:this.colors?this.colors:["rgba(0, 137, 237,0.7)","rgba(255, 157, 77,0.7)","rgba(90, 216, 166,0.7)","rgba(227, 137, 163,0.7)","rgba(146, 112, 202,0.7)"],tooltip:{trigger:"item"},legend:{show:!0,orient:"vertical",right:"right",formatter:function(t){return t.length>10?t.substr(0,10)+"...":t}},toolbox:{},grid:{left:this.padding?this.padding[3]:0,right:this.padding?this.padding[1]:0,bottom:this.padding?this.padding[2]:0,top:this.padding?this.padding[0]:0,containLabel:!0},series:t};n.setOption(i,{lazyUpdate:!0}),n.hideLoading()}}};var p=(0,n(83744).Z)(c,[["render",function(t,e,n,u,d,s){var c=(0,i.up)("a-empty");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",r,[n.dv&&0!=n.dv.length||n.noEmpty?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:0,image:d.simpleImage,description:""},null,8,["image"]))]),(0,i._)("div",{ref:n.id,class:"chart-content full",id:n.id+d.id2,style:(0,a.j5)({height:n.height?n.height+"px":"200px"})},null,12,o)])}],["__scopeId","data-v-51a6e4be"]])},76550:function(t,e,n){n.d(e,{Z:function(){return S}});var i=n(66252),a=n(3577),l=function(t){return(0,i.dD)("data-v-4d73146c"),t=t(),(0,i.Cn)(),t},r={key:0},o={key:1},u=l((function(){return(0,i._)("span",null,".",-1)})),d={key:3},s=l((function(){return(0,i._)("span",null,".",-1)})),c={key:5},p=l((function(){return(0,i._)("span",null,".",-1)})),f={key:1},h={key:1},g={key:2},m={key:3},b={key:1},v={key:3},w={key:4},y={key:1},k={key:3},C={key:5},x={key:1},$={key:6},_=l((function(){return(0,i._)("span",null," : ",-1)})),q={key:1},D={key:3},L={key:7},z=l((function(){return(0,i._)("span",null," / ",-1)})),I={key:1};var P={name:"IPRange",i18n:n(89234),props:["type","editable","ip"],data:function(){return{}},created:function(){},methods:{handleChange:function(t,e){var n=this.ip;n&&(5==this.type?(n.a||(n.a="::ffff:0"),n.suffix||(n.suffix="ffff")):6==n.type&&(n.a||(n.a="::ffff:0:0"),n.suffix||(n.suffix="120")),n[e]=t,this.$emit("update:ip",n),this.$emit("handleChange",n))}}};var S=(0,n(83744).Z)(P,[["render",function(t,e,n,l,P,S){var T=(0,i.up)("a-input-number"),W=(0,i.up)("a-input");return(0,i.wg)(),(0,i.iD)(i.HY,null,[n.type<=4?((0,i.wg)(),(0,i.iD)("span",r,[n.editable?((0,i.wg)(),(0,i.j4)(T,{key:"a",min:0,max:999,class:"ipunit",value:n.ip.a,"onUpdate:value":e[0]||(e[0]=function(t){return n.ip.a=t}),placeholder:n.ip.a,onChange:e[1]||(e[1]=function(t){return S.handleChange(n.ip.a,"a")})},null,8,["value","placeholder"])):((0,i.wg)(),(0,i.iD)("span",o,(0,a.zw)(n.ip.a),1)),u,n.editable?((0,i.wg)(),(0,i.j4)(T,{key:"b",type:"number",min:0,max:999,class:"ipunit",value:n.ip.b,"onUpdate:value":e[2]||(e[2]=function(t){return n.ip.b=t}),placeholder:n.ip.b,onChange:e[3]||(e[3]=function(t){return S.handleChange(n.ip.b,"b")})},null,8,["value","placeholder"])):((0,i.wg)(),(0,i.iD)("span",d,(0,a.zw)(n.ip.b),1)),s,n.editable?((0,i.wg)(),(0,i.j4)(T,{key:"c",min:0,max:999,class:"ipunit",value:n.ip.c,"onUpdate:value":e[4]||(e[4]=function(t){return n.ip.c=t}),placeholder:n.ip.c,onChange:e[5]||(e[5]=function(t){return S.handleChange(n.ip.c,"c")})},null,8,["value","placeholder"])):((0,i.wg)(),(0,i.iD)("span",c,(0,a.zw)(n.ip.c),1)),p])):((0,i.wg)(),(0,i.iD)("span",f,[n.editable?((0,i.wg)(),(0,i.j4)(W,{key:"a",class:"ipunit width-200",value:n.ip.a,"onUpdate:value":e[6]||(e[6]=function(t){return n.ip.a=t}),placeholder:n.ip.a,onChange:e[7]||(e[7]=function(t){return S.handleChange(n.ip.a,"a")})},null,8,["value","placeholder"])):((0,i.wg)(),(0,i.iD)("span",h,(0,a.zw)(n.ip.a),1))])),1==n.type?((0,i.wg)(),(0,i.iD)("span",g,"x")):(0,i.kq)("",!0),2==n.type?((0,i.wg)(),(0,i.iD)("span",m,[n.editable?((0,i.wg)(),(0,i.j4)(T,{key:"d",min:0,max:n.ip.suffix?n.ip.suffix-1:999,class:"ipunit",value:n.ip.d,"onUpdate:value":e[8]||(e[8]=function(t){return n.ip.d=t}),placeholder:n.ip.d,onChange:e[9]||(e[9]=function(t){return S.handleChange(n.ip.d,"d")})},null,8,["max","value","placeholder"])):(0,i.kq)("",!0),n.editable?((0,i.wg)(),(0,i.iD)("span",b,"- "+(0,a.zw)(n.ip.a)+" . "+(0,a.zw)(n.ip.b)+" . "+(0,a.zw)(n.ip.c)+" .",1)):(0,i.kq)("",!0),n.editable?((0,i.wg)(),(0,i.j4)(T,{key:"suffix",min:1*n.ip.d+1,max:999,class:"ipunit",value:n.ip.suffix,"onUpdate:value":e[10]||(e[10]=function(t){return n.ip.suffix=t}),placeholder:n.ip.suffix,onChange:e[11]||(e[11]=function(t){return S.handleChange(n.ip.suffix,"suffix")})},null,8,["min","value","placeholder"])):(0,i.kq)("",!0),n.editable?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",v,(0,a.zw)(n.ip.d)+" - "+(0,a.zw)(n.ip.a)+" . "+(0,a.zw)(n.ip.b)+" . "+(0,a.zw)(n.ip.c)+" . "+(0,a.zw)(n.ip.suffix),1))])):(0,i.kq)("",!0),3==n.type?((0,i.wg)(),(0,i.iD)("span",w,[n.editable?((0,i.wg)(),(0,i.j4)(T,{key:"d",min:0,max:999,class:"ipunit",value:n.ip.d,"onUpdate:value":e[12]||(e[12]=function(t){return n.ip.d=t}),placeholder:n.ip.d,onChange:e[13]||(e[13]=function(t){return S.handleChange(n.ip.d,"d")})},null,8,["value","placeholder"])):(0,i.kq)("",!0),n.editable?((0,i.wg)(),(0,i.iD)("span",y,"/")):(0,i.kq)("",!0),n.editable?((0,i.wg)(),(0,i.j4)(T,{key:"suffix",type:"number",min:0,max:999,class:"ipunit",value:n.ip.suffix,"onUpdate:value":e[14]||(e[14]=function(t){return n.ip.suffix=t}),placeholder:n.ip.suffix,onChange:e[15]||(e[15]=function(t){return S.handleChange(n.ip.suffix,"suffix")})},null,8,["value","placeholder"])):(0,i.kq)("",!0),n.editable?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",k,(0,a.zw)(n.ip.d)+" / "+(0,a.zw)(n.ip.suffix),1))])):(0,i.kq)("",!0),4==n.type?((0,i.wg)(),(0,i.iD)("span",C,[n.editable?((0,i.wg)(),(0,i.j4)(T,{key:"d",type:"number",min:0,max:999,class:"ipunit",value:n.ip.d,"onUpdate:value":e[16]||(e[16]=function(t){return n.ip.d=t}),placeholder:n.ip.d,onChange:e[17]||(e[17]=function(t){return S.handleChange(n.ip.d,"d")})},null,8,["value","placeholder"])):(0,i.kq)("",!0),n.editable?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",x,(0,a.zw)(n.ip.d),1))])):(0,i.kq)("",!0),5==n.type?((0,i.wg)(),(0,i.iD)("span",$,[_,n.editable?((0,i.wg)(),(0,i.j4)(W,{key:"d",class:"ipunit",value:n.ip.d,"onUpdate:value":e[18]||(e[18]=function(t){return n.ip.d=t}),placeholder:n.ip.d,onChange:e[19]||(e[19]=function(t){return S.handleChange(n.ip.d,"d")})},null,8,["value","placeholder"])):(0,i.kq)("",!0),n.editable?((0,i.wg)(),(0,i.iD)("span",q,"- "+(0,a.zw)(n.ip.a)+" :",1)):(0,i.kq)("",!0),n.editable?((0,i.wg)(),(0,i.j4)(W,{key:"suffix",class:"ipunit",value:n.ip.suffix,"onUpdate:value":e[20]||(e[20]=function(t){return n.ip.suffix=t}),placeholder:n.ip.suffix,onChange:e[21]||(e[21]=function(t){return S.handleChange(n.ip.suffix,"suffix")})},null,8,["value","placeholder"])):(0,i.kq)("",!0),n.editable?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",D,(0,a.zw)(n.ip.d)+" - "+(0,a.zw)(n.ip.a)+" : "+(0,a.zw)(n.ip.suffix),1))])):(0,i.kq)("",!0),6==n.type?((0,i.wg)(),(0,i.iD)("span",L,[z,n.editable?((0,i.wg)(),(0,i.j4)(T,{key:"suffix",min:0,max:999,class:"ipunit",value:n.ip.suffix,"onUpdate:value":e[22]||(e[22]=function(t){return n.ip.suffix=t}),placeholder:n.ip.suffix,onChange:e[23]||(e[23]=function(t){return S.handleChange(n.ip.suffix,"suffix")})},null,8,["value","placeholder"])):(0,i.kq)("",!0),n.editable?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",I,(0,a.zw)(n.ip.suffix),1))])):(0,i.kq)("",!0)],64)}],["__scopeId","data-v-4d73146c"]])},71900:function(t,e,n){n.d(e,{Z:function(){return o}});var i=n(66252),a=n(3577),l={class:"head-info"};var r={name:"HeadInfo",props:["title","content"]};var o=(0,n(83744).Z)(r,[["render",function(t,e,n,r,o,u){return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("span",null,(0,a.zw)(n.title),1),(0,i._)("p",null,[(0,i.Uk)((0,a.zw)(n.content),1),(0,i.WI)(t.$slots,"body",{},void 0,!0)])])}],["__scopeId","data-v-00006846"]])},48025:function(t,e,n){n.d(e,{Z:function(){return q}});n(68309);var i=n(66252),a=n(3577),l={key:0},r={key:0},o={key:0};var u=n(95082),d=(n(41539),n(54747),n(57658),n(9653),n(69826),n(57327),n(96486)),s=n.n(d),c=n(38718),p=n(79954),f=n(84471),h=n(76550),g=n(26917),m=n(61103),b=n(1299),v=n(13589),w=n(62184),y=n(33907),k=n(50976),C=n(49702),x=n(72167),$=n(84722),_={name:"Lb4Detail",i18n:n(89234),components:{DetailListItem:v.Z,DetailList:b.Z,PageLayout:m.Z,AutoForm:k.Z,LogViewer:C.Z,PluginConfig:c.Z,IPRange:h.Z,PluginList:p.Z,HealthcheckResult:w.default},props:["embed","name","rid"],data:function(){return{type:"4 Load Balancer",initMapping:[{label:"Targets",fields:[[{label:"Target Hosts",value:""}]]},{label:"Load Balancing",fields:[[{label:"Algorithm",value:"rr"}]]},{label:"Config",fields:[[{name:"sticky",type:"boolean",unit:"",label:"Sticky",value:!1},{name:"maxFails",type:"number",unit:"",label:"Max Fails",value:""},{name:"maxConnections",type:"number",unit:"",label:"Max Connections",value:""},{name:"readTimeout",type:"text",unit:"",label:"Read timeout",value:"60s"},{name:"writeTimeout",type:"text",unit:"",label:"Write Timeout",value:"60s"},{name:"idleTimeout",type:"text",unit:"",label:"IDLE Timeout",value:"60s"}]]}],visible:!1,pipys:[],detail:{content:{mapping:[],bps_limit:null,tps_limit:null,port:"80",tlsport:"443",plugins:[],sourceIpPool:{a:0,b:0,c:0,d:0,suffix:0},enableTLS:!1,uniqueIp:!1,rfc8998:!1,minTLSVersion:"",dhparam:"",ciphers:"",clientCert:""},certificate:null,organization:{id:null},pipy4lb:{id:null},addressPool:{id:null},name:""},loading:!0,logloading:!0,logs:[],log:"{}",pid:"",filter:"",params:{pageNo:1,pageSize:10,total:0},profiles:[],pools:[],tps:[],tpsCnt:0,activeTabKey:"2",visibleAP:!1,protocols:[{id:"tcp",name:"TCP"},{id:"udp",name:"UDP"}],certificates:[],clientCertificates:[],orgs:[]}},computed:(0,u.Z)({},(0,y.rn)({rules:function(t){return t.rules.rules},isMobile:function(t){return t.setting.isMobile}})),created:function(){var t=this;this.pid=this.rid||"",this.$gql.query("myOrganizations{data{id,attributes{name}}}").then((function(e){t.orgs=e.data})),""!=this.pid?(this.loading=!0,this.$gql.query("l4Lb(id: ".concat(this.pid,"){data{id,attributes{\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tglobalId,\n\t\t\t\t\t\torganization{data{id,attributes{name}}},\n\t\t\t\t\t\tpipy4lb{data{id,attributes{name}}},\n\t\t\t\t\t\taddressPool{data{id,attributes{name, organization{data{id, attributes{name}}}}}},\n\t\t\t\t\t\tprofile{data{id,attributes{name}}},\n\t\t\t\t\t\tcertificate{data{id,attributes{name}}},\n\t\t\t\t\t\tclientCertificate{data{id,attributes{name}}},\n\t\t\t\t\t\tcontent, \n\t\t\t\t\t\taddress{data{id,attributes{ip}}}\n\t\t\t\t\t}}}")).then((function(e){var n,i,a,l=e.data;l.content.mapping=(0,$.kL)(t.initMapping,l.content.mapping),t.loading=!1,t.detail=l,t.detail.organization=t.detail.organization?t.detail.organization:{id:null},null!==(n=t.detail.certificate)&&void 0!==n&&n.id&&(t.detail.certificate=t.detail.certificate.id),null!==(i=t.detail.clientCertificate)&&void 0!==i&&i.id&&(t.detail.clientCertificate=t.detail.clientCertificate.id),null!==(a=t.detail.content.sourceIpPool)&&void 0!==a&&a.ip?t.detail.content.sourceIpPool=(0,$.wp)(t.detail.content.sourceIpPool,3):t.detail.content.sourceIpPool={a:0,b:0,c:0,d:0,suffix:0},t.getData(),t.getAddressPools()}))):(this.detail={addressPool:{id:null},pipy4lb:{id:null},organization:{id:null},address:{ip:null},certificate:null,clientCertificate:null,content:{mapping:this.initMapping,bps_limit:null,tps_limit:null,port:"80",tlsport:"443",plugins:[],enableTLS:!1,sourceIpPool:{a:0,b:0,c:0,d:0,suffix:0},uniqueIp:!1},name:""},this.loading=!1),this.$gql.query('myFleets(filters: {type: {eq:"pipy4lb"}}){data{id,attributes{name}}}').then((function(e){t.pipys=e.data})),this.$gql.query("profiles{data{id,attributes{name}}}").then((function(e){t.profiles=e.data})),this.getCertificates(),""!=this.pid&&(0,g.ap)(this.pid).then((0,f.hw)((function(e,n){var i=(0,g.tl)(e);t.tpsCnt=n.data,t.tps=[],i.forEach((function(e){var n={type:"4lb"};n.value=e[0],n.date=(0,x.Z)(new Date(e[1]),"yyyy-MM-dd HH:mm"),t.tps.push(n)}))}))).catch((function(t){}))},methods:{onTabChange:function(t){},getAddressPools:function(){var t,e,n,i,a=this;null!==(t=this.detail)&&void 0!==t&&null!==(e=t.organization)&&void 0!==e&&e.id?this.$gql.query("addressPools(filters: {organization:{id:{eq:".concat(null===(n=this.detail)||void 0===n||null===(i=n.organization)||void 0===i?void 0:i.id,"}}}){data{id,attributes{name, organization{data{id, attributes{name}}}}}}")).then((function(t){a.pools=t.data})):this.pools=[]},getCertificates:function(){var t=this;this.$gql.query("certificates(filters: $filters, pagination: { start: 0, limit: ".concat(this.$DFT_LIMIT,"}){data{id,attributes{\n\t\t\t\t\t\tname,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tnamespace{data{id,attributes{\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tregistry{data{id,attributes{name}}}\n\t\t\t\t\t\t}}},\n\t\t\t\t\t\tcontent\n\t\t\t\t\t}}}"),{filters:{type:{in:["api","rfc8998"]}}},{filters:"CertificateFiltersInput",pagination:"PaginationArg"}).then((function(e){t.certificates=e.data})),this.$gql.query("certificates(filters: $filters, pagination: { start: 0, limit: ".concat(this.$DFT_LIMIT,"}){data{id,attributes{\n\t\t\t\t\t\tname,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tnamespace{data{id,attributes{\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tregistry{data{id,attributes{name}}}\n\t\t\t\t\t\t}}},\n\t\t\t\t\t\tcontent\n\t\t\t\t\t}}}"),{filters:{type:{eq:"client"}}},{filters:"CertificateFiltersInput",pagination:"PaginationArg"}).then((function(e){t.clientCertificates=e.data}))},validate:function(t){var e=this;this.$refs.layout.$refs.form.validateFields().then((function(){e.save(t)})).catch((function(){}))},valid:function(){return""!=this.detail.name||""!=this.name||(this.$message.error(this.$t("The name cannot be empty"),3),!1)},save:function(t){var e,n=this;if(this.valid()){var i,a=s().cloneDeep(this.detail);if(a.content.mapping=s().cloneDeep(this.detail.content.mapping),a.content.is_gateway=!!this.embed,a.pipy4lb=a.pipy4lb.id,a.addressPool=a.addressPool.id,a.content.sourceIpPool&&(a.content.sourceIpPool=(0,$.bR)(a.content.sourceIpPool,3)),t&&(a.registry=t,a.name=this.name+" 4LB"),a.content.targets||(a.content.targets="[]"),a.content.aggregation_length||(a.content.aggregation_length=0),a.content.checker||(a.content.checker=""),delete a.id,delete a.address,a.content.plugins&&a.content.plugins.forEach((function(t){t.content.fields.forEach((function(t){"number"==t.type&&(t.value=Number(t.value))}))})),null!==(e=a.organization)&&void 0!==e&&e.id)a.organization=null===(i=a.organization)||void 0===i?void 0:i.id;""!=this.pid?(delete a.profile,this.$gql.mutation("updateL4Lb(id:".concat(this.pid,", data: $data){data{id}}"),{data:a},{data:"L4LbInput!"}).then((function(){n.embed?n.$emit("saved",t):(n.$message.success(n.$t("Save successfully"),3),n.$closePage(n.$route))}))):this.$gql.mutation("createL4Lb(data: $data){data{id,attributes{name}}}",{data:a},{data:"L4LbInput!"}).then((function(e){n.embed?n.$emit("saved",t):(n.pid=e.data.id,n.$message.success(n.$t("Created successfully"),3),n.$closePage(n.$route))}))}},handleChange:function(){},changeAddressPool:function(t){this.detail.organization=this.pools.find((function(e){return e.id==t})).organization},hide:function(){this.visible=!1},getData:function(t,e){var n=this;t&&(this.params.pageNo=t,this.params.pageSize=e),this.logloading=!0,this.data=[],this.filter="iid = '".concat(this.pid,"'"),(0,g.hT)(this.params.pageNo,this.params.pageSize,this.filter,"timestamp","desc").then((0,f.hw)((function(t,e){n.logloading=!1,n.params.total=1*t.data,n.logs=(0,g.OI)(e)}))).catch((function(t){}))},selectPlugin:function(t){this.detail.content.plugins.push((0,u.Z)((0,u.Z)({},t),{},{enable:!0})),this.visibleAP=!1,this.$message.success(this.$t("Added successfully"),3)},showPluginBox:function(){this.visibleAP=!0}}};var q=(0,n(83744).Z)(_,[["render",function(t,e,n,u,d,s){var c=(0,i.up)("a-input"),p=(0,i.up)("DetailListItem"),f=(0,i.up)("a-select-option"),h=(0,i.up)("a-select"),g=(0,i.up)("a-switch"),m=(0,i.up)("IPRange"),b=(0,i.up)("DetailList"),v=(0,i.up)("a-button"),w=(0,i.up)("AutoForm"),y=(0,i.up)("a-card"),k=(0,i.up)("a-tab-pane"),C=(0,i.up)("PluginConfig"),x=(0,i.up)("a-col"),$=(0,i.up)("a-row"),_=(0,i.up)("HealthcheckResult"),q=(0,i.up)("LogViewer"),D=(0,i.up)("a-tabs"),L=(0,i.up)("PluginList"),z=(0,i.up)("a-modal"),I=(0,i.up)("PageLayout"),P=(0,i.Q2)("permission");return(0,i.wg)(),(0,i.j4)(I,{"hide-breadcrumb":n.embed,title:n.embed?" ":d.detail.name?d.detail.name:t.$t("new")+" 4LB","form-state":d.detail,ref:"layout"},(0,i.Nv)({headerContent:(0,i.w5)((function(){return[(0,i.Wm)(b,{size:"small",col:2},{default:(0,i.w5)((function(){return[n.embed?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(p,{key:0,term:t.$t("as"),name:"name",rules:t.rules.uniqueName("l4Lbs",{id:d.pid})},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{placeholder:t.$t("unset"),value:d.detail.name,"onUpdate:value":e[0]||(e[0]=function(t){return d.detail.name=t}),class:"width-200"},null,8,["placeholder","value"])]})),_:1},8,["term","rules"])),n.embed?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(p,{key:1,term:t.$t("port"),name:["content","port"],rules:t.rules.required},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{type:"number",placeholder:t.$t("unset"),value:d.detail.content.port,"onUpdate:value":e[1]||(e[1]=function(t){return d.detail.content.port=t}),class:"width-100",disabled:""!=d.pid},null,8,["placeholder","value","disabled"])]})),_:1},8,["term","rules"])),(0,i.Wm)(p,{term:t.$t("Organization"),name:["organization","id"],rules:t.rules.required},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{placeholder:t.$t("unset"),value:d.detail.organization.id,"onUpdate:value":e[2]||(e[2]=function(t){return d.detail.organization.id=t}),class:"width-180",ref:"select",disabled:""!=d.pid,onChange:e[3]||(e[3]=function(t){s.getAddressPools(),d.detail.addressPool.id=null})},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.orgs,(function(t,e){return(0,i.wg)(),(0,i.j4)(f,{value:t.id,key:e},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,a.zw)(t.name),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["placeholder","value","disabled"])]})),_:1},8,["term","rules"]),(0,i.Wm)(p,{term:t.$t("Unique IP")},{default:(0,i.w5)((function(){return[(0,i.Wm)(g,{class:"ml-10",checked:d.detail.content.uniqueIp,"onUpdate:checked":e[4]||(e[4]=function(t){return d.detail.content.uniqueIp=t}),disabled:""!=d.pid},null,8,["checked","disabled"])]})),_:1},8,["term"]),(0,i.Wm)(p,{term:t.$t("addressPool"),name:["addressPool","id"],rules:t.rules.required},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{placeholder:t.$t("unallocated"),class:"width-200",value:d.detail.addressPool.id,"onUpdate:value":e[5]||(e[5]=function(t){return d.detail.addressPool.id=t}),onChange:e[6]||(e[6]=function(t){return s.changeAddressPool(t)}),disabled:""!=d.pid},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.pools,(function(t,e){return(0,i.wg)(),(0,i.j4)(f,{key:e,value:t.id},{default:(0,i.w5)((function(){return[t.id?((0,i.wg)(),(0,i.iD)("span",l,(0,a.zw)(t.name),1)):(0,i.kq)("",!0)]})),_:2},1032,["value"])})),128))]})),_:1},8,["placeholder","value","disabled"])]})),_:1},8,["term","rules"]),(0,i.Wm)(p,{term:t.$t("Protocol"),name:["content","protocol"],rules:t.rules.required},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{placeholder:t.$t("unallocated"),class:"width-200",value:d.detail.content.protocol,"onUpdate:value":e[7]||(e[7]=function(t){return d.detail.content.protocol=t})},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.protocols,(function(t,e){return(0,i.wg)(),(0,i.j4)(f,{key:e,value:t.id},{default:(0,i.w5)((function(){return[t.id?((0,i.wg)(),(0,i.iD)("span",r,(0,a.zw)(t.name),1)):(0,i.kq)("",!0)]})),_:2},1032,["value"])})),128))]})),_:1},8,["placeholder","value"])]})),_:1},8,["term","rules"]),(0,i.Wm)(p,{term:t.$t("cluster"),name:["pipy4lb","id"],rules:t.rules.required},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{disabled:""!=d.pid,placeholder:t.$t("unallocated"),class:"width-200",value:d.detail.pipy4lb.id,"onUpdate:value":e[8]||(e[8]=function(t){return d.detail.pipy4lb.id=t}),onChange:e[9]||(e[9]=function(t){return s.handleChange()})},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.pipys,(function(t,e){return(0,i.wg)(),(0,i.j4)(f,{key:e,value:t.id},{default:(0,i.w5)((function(){return[t.id?((0,i.wg)(),(0,i.iD)("span",o,(0,a.zw)(t.name),1)):(0,i.kq)("",!0)]})),_:2},1032,["value"])})),128))]})),_:1},8,["disabled","placeholder","value"])]})),_:1},8,["term","rules"]),(0,i.Wm)(p,{term:t.$t("Source Ip Pool")},{default:(0,i.w5)((function(){return[(0,i.Wm)(m,{ip:d.detail.content.sourceIpPool,editable:!0,type:3},null,8,["ip"])]})),_:1},8,["term"]),(0,i.Wm)(p,{term:t.$t("Enabled TLS")},{default:(0,i.w5)((function(){return[(0,i.Wm)(g,{class:"ml-10",checked:d.detail.content.enableTLS,"onUpdate:checked":e[10]||(e[10]=function(t){return d.detail.content.enableTLS=t})},null,8,["checked"])]})),_:1},8,["term"]),!n.embed&&d.detail.content.enableTLS?((0,i.wg)(),(0,i.j4)(p,{key:2,term:t.$t("TLS Port"),name:["content","tlsport"],rules:t.rules.required},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{type:"number",placeholder:t.$t("unset"),value:d.detail.content.tlsport,"onUpdate:value":e[11]||(e[11]=function(t){return d.detail.content.tlsport=t}),class:"width-100"},null,8,["placeholder","value"])]})),_:1},8,["term","rules"])):(0,i.kq)("",!0),!n.embed&&d.detail.content.enableTLS?((0,i.wg)(),(0,i.j4)(p,{key:3,term:t.$t("TLS Certificate"),name:t.certificate,rules:t.rules.required},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{placeholder:t.$t("unset"),class:"width-200",value:d.detail.certificate,"onUpdate:value":e[12]||(e[12]=function(t){return d.detail.certificate=t}),"allow-clear":""},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.certificates,(function(t,e){return(0,i.wg)(),(0,i.j4)(f,{value:t.id,key:e},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,a.zw)(t.name+"("+t.type+")"),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["placeholder","value"])]})),_:1},8,["term","name","rules"])):(0,i.kq)("",!0),!n.embed&&d.detail.content.enableTLS?((0,i.wg)(),(0,i.j4)(p,{key:4,term:t.$t("RFC8998")},{default:(0,i.w5)((function(){return[(0,i.Wm)(g,{class:"ml-10",checked:d.detail.content.rfc8998,"onUpdate:checked":e[13]||(e[13]=function(t){return d.detail.content.rfc8998=t}),onChange:e[14]||(e[14]=function(t){return d.detail.content.minTLSVersion=""})},null,8,["checked"])]})),_:1},8,["term"])):(0,i.kq)("",!0),!n.embed&&d.detail.content.enableTLS?((0,i.wg)(),(0,i.j4)(p,{key:5,term:t.$t("Min Version")},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{placeholder:t.$t("unset"),value:d.detail.content.minTLSVersion,"onUpdate:value":e[15]||(e[15]=function(t){return d.detail.content.minTLSVersion=t}),class:"width-120",disabled:d.detail.content.rfc8998},null,8,["placeholder","value","disabled"])]})),_:1},8,["term"])):(0,i.kq)("",!0),!n.embed&&d.detail.content.enableTLS?((0,i.wg)(),(0,i.j4)(p,{key:6,term:t.$t("DH Param")},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{placeholder:t.$t("unset"),value:d.detail.content.dhparam,"onUpdate:value":e[16]||(e[16]=function(t){return d.detail.content.dhparam=t}),class:"width-120"},null,8,["placeholder","value"])]})),_:1},8,["term"])):(0,i.kq)("",!0),!n.embed&&d.detail.content.enableTLS?((0,i.wg)(),(0,i.j4)(p,{key:7,term:t.$t("Ciphers")},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{placeholder:t.$t("unset"),value:d.detail.content.ciphers,"onUpdate:value":e[17]||(e[17]=function(t){return d.detail.content.ciphers=t}),class:"width-300"},null,8,["placeholder","value"])]})),_:1},8,["term"])):(0,i.kq)("",!0),!n.embed&&d.detail.content.enableTLS?((0,i.wg)(),(0,i.j4)(p,{key:8,term:t.$t("Client Cert"),name:t.certificate,rules:t.rules.required},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{placeholder:t.$t("unset"),class:"width-200",value:d.detail.clientCertificate,"onUpdate:value":e[18]||(e[18]=function(t){return d.detail.clientCertificate=t}),"allow-clear":""},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.clientCertificates,(function(t,e){return(0,i.wg)(),(0,i.j4)(f,{value:t.id,key:e},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,a.zw)(t.name+"("+t.type+")"),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["placeholder","value"])]})),_:1},8,["term","name","rules"])):(0,i.kq)("",!0),(0,i.kq)("",!0),d.detail.address&&d.detail.address.ip?((0,i.wg)(),(0,i.j4)(p,{key:10,term:t.$t("IP")},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,a.zw)(d.detail.address.ip),1)]})),_:1},8,["term"])):(0,i.kq)("",!0),d.pid?((0,i.wg)(),(0,i.j4)(p,{key:11,term:t.$t("Global Id")},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,a.zw)(d.detail.globalId),1)]})),_:1},8,["term"])):(0,i.kq)("",!0)]})),_:1})]})),default:(0,i.w5)((function(){return[(0,i.Wm)($,{class:"row-mg"},{default:(0,i.w5)((function(){return[(0,i.Wm)(x,{class:"col-pd",xl:24,lg:24,md:24,sm:24,xs:24},{default:(0,i.w5)((function(){return[(0,i.Wm)(D,{type:"card"},{default:(0,i.w5)((function(){return[(0,i.Wm)(k,{key:"1",tab:t.$t("config")},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.detail.content.mapping,(function(e,n){return(0,i.wg)(),(0,i.j4)(y,{key:n,class:"card mb-24",title:t.$t(e.label),bordered:!1,loading:d.loading},{default:(0,i.w5)((function(){return[(0,i.Wm)(w,{fields:e.fields},null,8,["fields"])]})),_:2},1032,["title","loading"])})),128))]})),_:1},8,["tab"]),(0,i.Wm)(k,{key:"2",tab:t.$t("Policy")},{default:(0,i.w5)((function(){return[(0,i.Wm)($,{class:"row-mg"},{default:(0,i.w5)((function(){return[(0,i.Wm)(x,{class:"col-pd",xl:24,lg:24,md:24,sm:24,xs:24},{default:(0,i.w5)((function(){return[(0,i.Wm)(C,{plugins:d.detail.content.plugins,"onUpdate:plugins":e[23]||(e[23]=function(t){return d.detail.content.plugins=t}),onAdd:s.showPluginBox,"add-text":t.$t("Add Plugin")},null,8,["plugins","onAdd","add-text"])]})),_:1})]})),_:1})]})),_:1},8,["tab"]),(0,i.Wm)(k,{key:"3",tab:t.$t("healthcheck")},{default:(0,i.w5)((function(){return[(0,i.Wm)($,{class:"row-mg"},{default:(0,i.w5)((function(){return[(0,i.Wm)(x,{class:"col-pd",xl:24,lg:24,md:24,sm:24,xs:24},{default:(0,i.w5)((function(){return[(0,i.Wm)(_,{pid:d.pid,mode:"l4Lb"},null,8,["pid"])]})),_:1})]})),_:1})]})),_:1},8,["tab"]),""!=d.pid?((0,i.wg)(),(0,i.j4)(k,{key:"11",tab:t.$t("log")},{default:(0,i.w5)((function(){return[(0,i.Wm)(q,{uid:d.pid,type:"4lb","hide-chart":!0},null,8,["uid"])]})),_:1},8,["tab"])):(0,i.kq)("",!0)]})),_:1})]})),_:1})]})),_:1}),(0,i.Wm)(z,{footer:null,width:800,visible:d.visibleAP,"onUpdate:visible":e[24]||(e[24]=function(t){return d.visibleAP=t}),title:t.$t("Add Plugin"),onOk:t.handleOk},{default:(0,i.w5)((function(){return[(0,i.Wm)(L,{apply:"4lb",onSelectPlugin:s.selectPlugin,"hide-head":!0},null,8,["onSelectPlugin"])]})),_:1},8,["visible","title","onOk"])]})),_:2},[""==d.pid||n.embed?void 0:{name:"extra",fn:(0,i.w5)((function(){return[]})),key:"0"},n.embed?void 0:{name:"action",fn:(0,i.w5)((function(){return[""!=d.pid?(0,i.wy)(((0,i.wg)(),(0,i.j4)(v,{key:0,type:"primary",onClick:e[21]||(e[21]=function(t){return s.validate()})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,a.zw)(t.$t("save")),1)]})),_:1})),[[P,["l4-lb:update"]]]):(0,i.wy)(((0,i.wg)(),(0,i.j4)(v,{key:1,type:"primary",onClick:e[22]||(e[22]=function(t){return s.validate()})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,a.zw)(t.$t("create")),1)]})),_:1})),[[P,["l4-lb:create"]]])]})),key:"1"}]),1032,["hide-breadcrumb","title","form-state"])}]])},62184:function(t,e,n){n.r(e),n.d(e,{default:function(){return g}});n(74916),n(64765),n(92222),n(2707),n(68309);var i=n(66252),a=n(3577),l=function(t){return(0,i.dD)("data-v-0bd6d015"),t=t(),(0,i.Cn)(),t}((function(){return(0,i._)("em",null," ~ ",-1)})),r={key:1},o={key:2},u=["onClick"],d={key:3};n(21249),n(57658),n(38862),n(15306),n(41539),n(54747);var s=n(21936),c=n(16822),p=[{key:" ",dataIndex:"t",width:30},{key:"Type",dataIndex:"type"},{key:"as",dataIndex:"as"},{key:"time",sorter:!0,dataIndex:"updatedAt"},{key:"content",dataIndex:"content"}],f=[{key:" ",dataIndex:"t",width:30},{key:"time",sorter:!0,dataIndex:"updatedAt"},{key:"content",dataIndex:"content"}],h={name:"EventList",components:{JsonEditor:s.Z,Status:c.Z},props:["pid","mode"],i18n:n(89234),data:function(){return{date:"",endDate:"",visible:!1,pageSize:10,pageNo:1,total:0,loading:!0,advanced:!0,sorter:"updatedAt",sortOrder:"end$desc",type:"l4Lb",typeOptions:[{tab:"4LB",key:"l4Lb"},{tab:"Upstream",key:"upstream"}],columns:p,embedColumns:f,list:[]}},computed:{dataColumns:function(){var t=this;return(this.mode?this.embedColumns:this.columns).map((function(e){return e.title=t.$t(e.key),e.sorter&&t.sorter==e.dataIndex&&(e.sortOrder=t.sortOrder),e}))},start:function(){return(this.pageNo-1)*this.pageSize}},created:function(){this.mode&&(this.type=this.mode),this.search()},methods:{onTabChange:function(t){this.type=t,this.search()},sort:function(t,e,n){this.sorter=n.field,this.sortOrder=n.order,this.search()},onClose:function(){this.visible=!1},goTarget:function(t,e){"l4Lb"==e&&this.$router.push({path:"/flb/4lb/detail/"+t})},detail:function(t){this.visible=!0,this.log=JSON.stringify(t||{})},detailInterface:function(t){this.visible=!0,this.log=t},search:function(t,e){var n=this;t&&(this.pageNo=t,this.pageSize=e);var i={start:this.start,limit:this.pageSize};this.loading=!0;var a={type:{eq:this.type},isCluster:{eq:!1}};this.endDate&&(a.updatedAt={lte:this.endDate}),this.date&&(a.createdAt={gte:this.date}),this.pid&&("l4Lb"==this.type?a.l4Lb={id:{eq:this.pid}}:"upstream"==this.type&&(a.checkpoint={id:{eq:this.pid}}));var l="updatedAt:desc";this.sorter&&this.sortOrder&&(l=(l=this.sortOrder.replace(/\$/g,"")).replace(/end/g,""),l="".concat(this.sorter,":").concat(l)),this.$gql.query('healthcheckResults(filters: $filters, pagination: $pagination, sort: "'.concat(l,'"){\n\t\t\t\t\t\tdata{id,attributes{\n\t\t\t\t\t\t\tupdatedAt,\n              content,\n\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\tl4Lb{data{id,attributes{name}}},\n\t\t\t\t\t\t\tcheckpoint{data{id,attributes{name}}},\n\t\t\t\t\t\t}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}'),{filters:a,pagination:i},{filters:"HealthcheckResultFiltersInput",pagination:"PaginationArg"}).then((function(t){n.list=t.data,t.data.forEach((function(t){t.t=t.content.unhealthy.length>0?"failed":"success"})),n.total=t.pagination.total,n.loading=!1}))}}};var g=(0,n(83744).Z)(h,[["render",function(t,e,n,s,c,p){var f=(0,i.up)("a-date-picker"),h=(0,i.up)("Status"),g=(0,i.up)("a-tag"),m=(0,i.up)("a-table"),b=(0,i.up)("a-card"),v=(0,i.up)("JsonEditor"),w=(0,i.up)("a-drawer");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(b,{class:"nopd",title:n.mode?t.$t("healthcheck"):null,"tab-list":n.mode?null:c.typeOptions,"active-tab-key":c.type,loading:c.loading,onTabChange:e[8]||(e[8]=function(t){return p.onTabChange(t)})},(0,i.Nv)({customTab:(0,i.w5)((function(e){return[(0,i._)("span",null,(0,a.zw)(t.$t(e.tab))+" "+(0,a.zw)(t.$t("healthcheck")),1)]})),default:(0,i.w5)((function(){return[(0,i._)("div",null,[(0,i.Wm)(m,{columns:p.dataColumns,"data-source":c.list,pagination:{showSizeChanger:!0,showQuickJumper:!1,onShowSizeChange:p.search,onChange:p.search,current:c.pageNo,pageSize:c.pageSize,showTotal:function(e,n){return"".concat(t.$t("Total")," ").concat(e)},total:c.total},onChange:p.sort},{bodyCell:(0,i.w5)((function(e){var n=e.column,l=e.record;return["t"===n.dataIndex?((0,i.wg)(),(0,i.j4)(h,{key:0,d:{status:l.t}},null,8,["d"])):"as"===n.dataIndex?((0,i.wg)(),(0,i.iD)("div",r,["l4Lb"==l.type?((0,i.wg)(),(0,i.j4)(g,{key:0,onClick:function(t){return p.goTarget(l.l4Lb.id,l.type)}},{default:(0,i.w5)((function(){var t;return[(0,i.Uk)((0,a.zw)(null===(t=l.l4Lb)||void 0===t?void 0:t.name),1)]})),_:2},1032,["onClick"])):"upstream"==l.type?((0,i.wg)(),(0,i.j4)(g,{key:1,onClick:function(t){return p.goTarget(l.l4Lb.id,l.type)}},{default:(0,i.w5)((function(){var t,e;return[(0,i.Uk)((0,a.zw)(null!==(t=l.checkpoint)&&void 0!==t&&t.name?null===(e=l.checkpoint)||void 0===e?void 0:e.name:"checkpoint"),1)]})),_:2},1032,["onClick"])):(0,i.kq)("",!0)])):"content"===n.dataIndex?((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("a",{onClick:function(t){return p.detail(l.content)}},(0,a.zw)(t.$t("detail")),9,u)])):"createdAt"===n.dataIndex?((0,i.wg)(),(0,i.iD)("div",d,(0,a.zw)(new Date(l.createdAt).toLocaleString()),1)):(0,i.kq)("",!0)]})),_:1},8,["columns","data-source","pagination","onChange"])])]})),_:2},[n.mode?{name:"extra",fn:(0,i.w5)((function(){return[(0,i._)("div",null,[(0,i.Wm)(f,{value:c.date,"onUpdate:value":e[0]||(e[0]=function(t){return c.date=t}),"show-time":"",format:"YYYY-MM-DD HH:mm:ss",placeholder:t.$t("Start Date"),onChange:e[1]||(e[1]=function(t){return p.search()})},null,8,["value","placeholder"]),l,(0,i.Wm)(f,{value:c.endDate,"onUpdate:value":e[2]||(e[2]=function(t){return c.endDate=t}),"show-time":"",format:"YYYY-MM-DD HH:mm:ss",placeholder:t.$t("End Date"),onChange:e[3]||(e[3]=function(t){return p.search()})},null,8,["value","placeholder"])])]})),key:"0"}:{name:"tabBarExtraContent",fn:(0,i.w5)((function(){return[(0,i._)("div",null,[(0,i.Wm)(f,{value:c.date,"onUpdate:value":e[4]||(e[4]=function(t){return c.date=t}),"show-time":"",format:"YYYY-MM-DD HH:mm:ss",placeholder:t.$t("Start Date"),onChange:e[5]||(e[5]=function(t){return p.search()})},null,8,["value","placeholder"]),(0,i._)("em",null," ~ "),(0,i.Wm)(f,{value:c.endDate,"onUpdate:value":e[6]||(e[6]=function(t){return c.endDate=t}),"show-time":"",format:"YYYY-MM-DD HH:mm:ss",placeholder:t.$t("End Date"),onChange:e[7]||(e[7]=function(t){return p.search()})},null,8,["value","placeholder"])])]})),key:"1"}]),1032,["title","tab-list","active-tab-key","loading"]),c.visible?((0,i.wg)(),(0,i.j4)(w,{key:0,"get-container":!1,title:t.$t("content"),placement:"bottom",height:"600",closable:!1,visible:c.visible,onClose:p.onClose},{default:(0,i.w5)((function(){return[(0,i.Wm)(v,{"is-readonly":!0,value:t.log},null,8,["value"])]})),_:1},8,["title","visible","onClose"])):(0,i.kq)("",!0)])}],["__scopeId","data-v-0bd6d015"]])}}]);