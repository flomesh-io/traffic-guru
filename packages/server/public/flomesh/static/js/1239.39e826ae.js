"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[1239],{11239:function(e,a,t){t.r(a),t.d(a,{default:function(){return p}});var n=t(66252),i=t(3577);const s={key:0},l=["onClick"],d={key:1},r={key:2},o=["onClick"];t(57658);var m=t(2692);const c=[{key:" ",dataIndex:"t"},{key:"as",dataIndex:"name"},{key:"Namespace",width:130,dataIndex:"namespace"},{key:"Labels",dataIndex:"labels"},{key:"Creation Timestamp",dataIndex:"creationTimestamp",sorter:!0},{key:"Action",width:130,dataIndex:"action"}];var u={name:"Secrets",components:{MoreOutlined:m.Z},i18n:t(89234),data(){return{params:{key:"",pageNo:1,pageSize:10,total:0},columns:c,loading:!1,list:[]}},computed:{dataColumns(){return this.columns.map((e=>(e.title=this.$t(e.key),e)))},filterEvent(){return""!=this.params.key?this.list.filter((e=>e.name.indexOf(this.params.key)>-1||e.title.indexOf(this.params.key)>-1||e.ip.indexOf(this.params.key)>-1||e.content.indexOf(this.params.key)>-1||e.user.indexOf(this.params.key)>-1)):this.list}},created(){this.search()},methods:{detail(e,a){this.$router.push({path:`/workload/secret/detail/${a}/${e}`})},URL(){let e=this.$REST.K8S.append(this.params.pageSize,this.params.pageNo,"d,creationTimestamp");return this.$REST.K8S.encode(this.$REST.K8S.SECRET,e)},search(){this.loading=!0,this.$request(this.URL(),this.$METHOD.GET).then((e=>{let a=e.data;this.list=this.reset(a.items),this.params.total=a.count,this.loading=!1}))},reset(e){for(let a=0;a<e.length;a++)e[a].uid=e[a].metadata.uid,e[a].name=e[a].metadata.name,e[a].namespace=e[a].metadata.namespace,e[a].labels=e[a].metadata.labels?e[a].metadata.labels:[],e[a].creationTimestamp=new Date(e[a].metadata.creationTimestamp).toLocaleString(),e[a].type=e[a].type;return e}}};var p=(0,t(83744).Z)(u,[["render",function(e,a,t,m,c,u){const p=(0,n.up)("a-tag"),h=(0,n.up)("a-menu-item"),k=(0,n.up)("a-menu"),w=(0,n.up)("MoreOutlined"),f=(0,n.up)("a-dropdown"),y=(0,n.up)("a-table"),g=(0,n.up)("a-card");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(g,{class:"card nopd",title:e.$t("Secrets"),loading:c.loading},{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(y,{pagination:!1,columns:u.dataColumns,"data-source":u.filterEvent},{bodyCell:(0,n.w5)((({column:a,record:t})=>["name"===a.dataIndex?((0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("a",{href:"javascript:void(0)",onClick:e=>u.detail(t.name,t.namespace)},(0,i.zw)(t.name),9,l)])):"labels"===a.dataIndex?((0,n.wg)(),(0,n.iD)("div",d,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(Object.keys(t.labels),((e,a)=>((0,n.wg)(),(0,n.j4)(p,{key:a,closable:!1},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e)+":"+(0,i.zw)(t.labels[e]),1)])),_:2},1024)))),128))])):"action"===a.dataIndex?((0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(f,null,{overlay:(0,n.w5)((()=>[(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n._)("a",{onClick:e=>u.detail(t.name,t.namespace)},(0,i.zw)(e.$t("view")),9,o)])),_:2},1024)])),_:2},1024)])),default:(0,n.w5)((()=>[(0,n._)("a",null,[(0,n.Wm)(w)])])),_:2},1024)])):(0,n.kq)("",!0)])),_:1},8,["columns","data-source"])])])),_:1},8,["title","loading"])])}],["__scopeId","data-v-27d8766b"]])}}]);