(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[8271],{74353:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var a=n(66252),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},r=n(33058);function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){l(t,e,n[e])}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(t,e){var n=i({},t,e.attrs);return(0,a.Wm)(r.Z,i({},n,{icon:o}),null)};s.displayName="StopOutlined",s.inheritAttrs=!1;var u=s},79797:function(t,e,n){!function(){"use strict";var e=n(17536).typeOf;t.exports.stringify=function(t){var n,a="";return"---"+(n={undefined:function(){return"null"},null:function(){return"null"},number:function(t){return t},boolean:function(t){return t?"true":"false"},string:function(t){return JSON.stringify(t)},array:function(t){var o="";return 0===t.length?o+="[]":(a=a.replace(/$/,"  "),t.forEach((function(t){var r=n[e(t)];if(!r)throw new Error("what the crap: "+e(t));o+="\n"+a+"- "+r(t)})),a=a.replace(/  /,""),o)},object:function(t){var o="";return 0===Object.keys(t).length?o+="{}":(a=a.replace(/$/,"  "),Object.keys(t).forEach((function(r){var i=t[r],l=n[e(i)];if(void 0!==i){if(!l)throw new Error("what the crap: "+e(i));o+="\n"+a+r+": "+l(i)}})),a=a.replace(/  /,""),o)},function:function(){return"[object Function]"}})[e(t)](t)+"\n"}}()},17536:function(t){!function(){"use strict";var e,n,a=Function("return this")(),o="Boolean Number String Function Array Date RegExp Object".split(" "),r={};for(e in o)o.hasOwnProperty(e)&&(n=o[e],r["[object "+n+"]"]=n.toLowerCase());function i(t){return null==t?String(t):r[Object.prototype.toString.call(t)]||"object"}function l(t){var e,n;if("object"===i(t))for(e in t)if(void 0!==(n=t[e])&&"function"!==i(n))return!1;return!0}String.prototype.entityify||(String.prototype.entityify=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}),String.prototype.quote||(String.prototype.quote=function(){var t,e,n=this.length,a='"';for(e=0;e<n;e+=1)if((t=this.charAt(e))>=" ")"\\"!==t&&'"'!==t||(a+="\\"),a+=t;else switch(t){case"\b":a+="\\b";break;case"\f":a+="\\f";break;case"\n":a+="\\n";break;case"\r":a+="\\r";break;case"\t":a+="\\t";break;default:t=t.charCodeAt(),a+="\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16)}return a+'"'}),String.prototype.supplant||(String.prototype.supplant=function(t){return this.replace(/{([^{}]*)}/g,(function(e,n){var a=t[n];return"string"==typeof a||"number"==typeof a?a:e}))}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s*(\S*(?:\s+\S+)*)\s*$/,"$1")}),t.exports={typeOf:i,isEmpty:l},a.typeOf=a.typeOf||i,a.isEmpty=a.isEmpty||l}()},44107:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var a=n(66252),o=n(3577);var r=n(3336),i=(n(38862),n(41539),n(21936)),l=n(8333),s=n(79797),u=n(93320),c={name:"Json2YamlCard",components:{JsonEditor:i.Z,YamlEditor:l.Z},props:["jsonVal","isCreate","height","isReadonly","url","isPop"],i18n:n(89234),data:function(){return{configTab:[{key:"YAML",tab:"YAML"},{key:"JSON",tab:"JSON"}],configKey:"YAML",json:"{}",yaml:""}},watch:{json:function(t,e){t!=e&&this.jsonInput(t)},yaml:function(t,e){t!=e&&this.yamlInput(t)},jsonVal:{handler:function(t,e){if("{}"!=t&&""!=t||(t='{"key":"value"}'),t!=e){var n=JSON.parse(t);"object"==(0,r.Z)(n)&&(this.json=t)}},immediate:!0}},created:function(){},mounted:function(){this.init()},methods:{onTabChange:function(t,e){this[e]=t},jsonInput:function(t){try{var e=JSON.parse(t);"object"==(0,r.Z)(e)&&(this.yaml=this.convertToYaml(t),this.$emit("update:jsonVal",this.json),this.$emit("change",this.json))}catch(t){}},yamlInput:function(t){var e=u.load(t),n=JSON.stringify(e,null,"  "),a=JSON.parse(n);"object"==(0,r.Z)(a)&&(this.$emit("update:jsonVal",n),this.$emit("change",n))},getDefaultYamlConfig:function(){var t=this;if(!this.url)return this.yaml=this.convertToYaml(this.jsonVal),void this.yamlInput(this.yaml);fetch(this.url).then((function(t){return t.text()})).then((function(e){t.url.indexOf(".yaml");var n=u.load(e),a=JSON.stringify(n,null,"  "),o=JSON.parse(a);o.spec&&o.spec.namespace&&(o.spec.namespace="_all"==localStorage.getItem("NAMESPACE")?"default":localStorage.getItem("NAMESPACE"));var r=JSON.stringify(o);t.yaml=t.convertToYaml(r),setTimeout((function(){t.yamlInput(t.yaml)}),2e3)})).catch((function(){}))},convertToYaml:function(t){if(""==t)return"";var e=JSON.parse(t);return s.stringify(e)},init:function(){this.isCreate?this.getDefaultYamlConfig():(this.yaml=this.convertToYaml(this.jsonVal),this.yamlInput(this.yaml))}}};var d=(0,n(83744).Z)(c,[["render",function(t,e,n,r,i,l){var s=(0,a.up)("YamlEditor"),u=(0,a.up)("JsonEditor"),c=(0,a.up)("a-button"),d=(0,a.up)("a-card");return(0,a.wg)(),(0,a.j4)(d,{class:(0,o.C_)(["card nopd",n.isPop?"isPop":""]),"tab-list":i.configTab,"active-tab-key":i.configKey,onTabChange:e[2]||(e[2]=function(t){return l.onTabChange(t,"configKey")}),bordered:!1},{tabBarExtraContent:(0,a.w5)((function(){return[n.url?((0,a.wg)(),(0,a.j4)(c,{key:0,type:"dashed",onClick:l.getDefaultYamlConfig},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("reset")),1)]})),_:1},8,["onClick"])):(0,a.kq)("",!0)]})),default:(0,a.w5)((function(){return["YAML"==i.configKey?((0,a.wg)(),(0,a.j4)(s,{key:0,height:n.height,"is-readonly":n.isReadonly,value:i.yaml,"onUpdate:value":e[0]||(e[0]=function(t){return i.yaml=t})},null,8,["height","is-readonly","value"])):(0,a.kq)("",!0),"JSON"==i.configKey?((0,a.wg)(),(0,a.j4)(u,{key:1,height:n.height,"is-readonly":n.isReadonly,"is-json":!0,noreset:!n.isReadonly,value:i.json,"onUpdate:value":e[1]||(e[1]=function(t){return i.json=t})},null,8,["height","is-readonly","noreset","value"])):(0,a.kq)("",!0)]})),_:1},8,["class","tab-list","active-tab-key"])}]])},16822:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var a=n(66252),o={class:"statusIcon"},r={href:"javascript:void(0)"},i={key:5,class:"icon svg","aria-hidden":"true"},l=["xlink:href"];var s=n(74353),u=n(50320),c=n(70001),d=n(58721),p=n(13868),m={name:"Status",components:{StopOutlined:s.Z,LoadingOutlined:u.Z,CheckCircleFilled:c.Z,CloseCircleFilled:d.Z,WarningFilled:p.Z},props:["d"],i18n:n(89234),data:function(){return{iconStatus:{running:"success",pending:"pending",success:"success",stop:"stop",failed:"error",Normal:"success",Pending:"pending",Succeeded:"success",Success:"success",Completed:"success",Complete:"success",Running:"success",Warning:"warning",ImagePullBackOff:"error",ErrImagePull:"error","Init: CrashLoopBackOff":"error","Init:Error":"error","Error: ErrImagePull":"error","Back-off restarting failed container":"error"}}},computed:{status:function(){return this.iconStatus[this.d?this.d.status||(this.d[0]?this.d[0].status:null):"Success"]}}};var f=(0,n(83744).Z)(m,[["render",function(t,e,n,s,u,c){var d=(0,a.up)("LoadingOutlined"),p=(0,a.up)("StopOutlined"),m=(0,a.up)("CloseCircleFilled"),f=(0,a.up)("CheckCircleFilled"),h=(0,a.up)("WarningFilled"),g=(0,a.up)("a-tooltip");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(g,{placement:"topLeft",title:n.d?n.d.message||n.d[0]&&n.d[0].message:""},{default:(0,a.w5)((function(){return[(0,a._)("a",r,["pending"==c.status?((0,a.wg)(),(0,a.j4)(d,{key:0,class:"font-18 font-primary svg"})):"stop"==c.status?((0,a.wg)(),(0,a.j4)(p,{key:1,class:"danger font-18 svg"})):"error"==c.status?((0,a.wg)(),(0,a.j4)(m,{key:2,class:"danger font-18 svg"})):"success"==c.status?((0,a.wg)(),(0,a.j4)(f,{key:3,class:"font-18 success svg"})):"warning"==c.status?((0,a.wg)(),(0,a.j4)(h,{key:4,class:"font-18 svg warning"})):((0,a.wg)(),(0,a.iD)("svg",i,[(0,a._)("use",{"xlink:href":c.status},null,8,l)]))])]})),_:1},8,["title"])])}],["__scopeId","data-v-5c100524"]])},48271:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return U}});n(74916),n(64765),n(92222),n(68309);var a=n(66252),o=n(3577),r={key:0},i=["onClick"],l={key:1},s={key:1},u=["onClick"],c={key:1},d={key:0},p={key:7},m=["onClick"],f={class:"flex"},h={class:"flex-item"},g={class:"width-200"},y={class:"flex-item"};var w=n(95082),v=(n(21249),n(38862),n(57658),n(96486)),k=n.n(v),b=n(88302),C=n(2692),S=n(99684),W=n(44107),_=n(76754),j=n(60459),$=n(16822),O=n(33907),I=[{key:"as",dataIndex:"name"},{key:"Mesh Config",dataIndex:"configName"},{key:"Namespace",dataIndex:"namespaceName"},{key:"Bootstrap",dataIndex:"status.bootstrap"},{key:"Controller",dataIndex:"status.controller"},{key:"Injector",dataIndex:"status.injector"},{key:"MCS",dataIndex:"status.mcs"},{key:"updTime",dataIndex:"creationTimestamp"},{key:"Action",width:130,dataIndex:"action"}],E={name:"Mesh",components:{ExclamationCircleOutlined:b.Z,Json2YamlCard:W.Z,EnvSelector:j.Z,FormItem:_.Z,MoreOutlined:C.Z,PlusCircleTwoTone:S.Z,Status:$.Z},i18n:n(89234),data:function(){return{isEdit:!1,pageNo:1,pageSize:10,total:0,key:"",editorIsCreate:!0,columns:I,env:null,activeKey2:"Primary",json:"{}",loading:!0,namespace:null,list:[],metricsEnable:!0,visible:!1,payload:{name:"flomesh",timeout:300,mcsEnable:!0,namespace:null,atomic:!0,enforceSingleMesh:!0,options:null}}},computed:(0,w.Z)((0,w.Z)({},(0,O.rn)("rules",["rules"])),{},{dataColumns:function(){var t=this;return this.columns.map((function(e){return e.title=t.$t(e.key),e}))},start:function(){return(this.pageNo-1)*this.pageSize}}),watch:{},created:function(){this.search()},methods:{mcsEnableChange:function(){this.payload.mcsEnable&&(this.payload.enforceSingleMesh=!0)},envChange:function(t){this.env=t,this.payload.namespace=t.namespaceId},tabsChange:function(){"Options"==this.activeKey2&&this.setOptions()},setOptions:function(){this.payload.options.osm.deployGrafana=this.payload.options.osm.deployPrometheus;var t=k().cloneDeep(this.payload.options);this.json=JSON.stringify(t)},yamlchange:function(){var t=JSON.parse(this.json);this.payload.options=t},add:function(){this.payload={name:"flomesh",timeout:300,namespace:"",mcsEnable:!0,atomic:!0,enforceSingleMesh:!0,options:this.payload.options},this.showModal()},showModal:function(){this.visible=!0},valid:function(){var t=this;this.$refs.form.validateFields().then((function(){t.handleOk()})).catch((function(){}))},handleOk:function(){this.setOptions();var t=k().cloneDeep(this.payload);delete t.tracingBYO;var e=t.options;delete t.options,this.install(t,e)},install:function(t,e){var n=this;e.osm.meshName=t.name,this.$gql.mutation("createMesh(data: $data){data{id}}",{data:{name:t.name,namespace:t.namespace,atomic:t.atomic,mcsEnable:t.mcsEnable,enforceSingleMesh:t.enforceSingleMesh,options:e}},{data:"MeshInput!"}).then((function(){n.visible=!1,n.$message.success(n.$t("Created successfully"),3),n.search()}))},remove:function(t){var e=this;this.$gql.mutation("deleteMesh(id:".concat(t,"){data{id}}")).then((function(){e.$message.success(e.$t("Deleted successfully"),3),e.search()}))},detail:function(t){this.$router.push({path:"/fsm/mesh/detail/".concat(t)})},search:function(t,e){var n=this;t&&(this.pageNo=t,this.pageSize=e);var a={start:this.start,limit:this.pageSize};this.loading=!0;var o={name:{contains:this.key}};this.$gql.query("meshes(filters: $filters, pagination: $pagination){\n\t\t\t\t\t\tdata{id,attributes{\n\t\t\t\t\t\t\tconfig,\n\t\t\t\t\t\t\tosmMessage,\n\t\t\t\t\t\t\tfsmMessage,\n\t\t\t\t\t\t\tnamespace{data{id,attributes{\n\t\t\t\t\t\t\t\tregistry{data{id,attributes{name}}},\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t}}},\n\t\t\t\t\t\t\tstatus,\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tbindNamespaces{data{id,attributes{name}}},\n\t\t\t\t\t\t\tcreatedAt\n\t\t\t\t\t\t}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}",{filters:o,pagination:a},{filters:"MeshFiltersInput",pagination:"PaginationArg"}).then((function(t){n.list=n.reset(t.data),n.total=t.pagination.total,n.loading=!1}))},reset:function(t){if(!t)return[];for(var e=0;e<t.length;e++){var n,a,o,r;t[e].configName=null===(n=t[e].config)||void 0===n?void 0:n.metadata.name,t[e].namespaceName=t[e].namespace?(null===(a=t[e].namespace)||void 0===a||null===(o=a.registry)||void 0===o?void 0:o.name)+"/"+(null===(r=t[e].namespace)||void 0===r?void 0:r.name):"",t[e].creationTimestamp=new Date(t[e].createdAt).toLocaleString(),t[e].t=t[e].status}return t}}};var U=(0,n(83744).Z)(E,[["render",function(t,e,n,w,v,k){var b=(0,a.up)("a-input-search"),C=(0,a.up)("a-divider"),S=(0,a.up)("PlusCircleTwoTone"),W=(0,a.up)("a-button"),_=(0,a.up)("Status"),j=(0,a.up)("a-tag"),$=(0,a.up)("a-menu-item"),O=(0,a.up)("a-popconfirm"),I=(0,a.up)("a-menu"),E=(0,a.up)("MoreOutlined"),U=(0,a.up)("a-dropdown"),x=(0,a.up)("a-table"),M=(0,a.up)("a-card"),z=(0,a.up)("a-input"),N=(0,a.up)("a-typography-paragraph"),P=(0,a.up)("FormItem"),D=(0,a.up)("a-descriptions-item"),T=(0,a.up)("EnvSelector"),Z=(0,a.up)("a-checkbox"),J=(0,a.up)("ExclamationCircleOutlined"),Y=(0,a.up)("a-tooltip"),q=(0,a.up)("a-input-number"),A=(0,a.up)("a-switch"),F=(0,a.up)("a-descriptions"),K=(0,a.up)("a-form"),L=(0,a.up)("a-tab-pane"),B=(0,a.up)("a-tabs"),R=(0,a.up)("Json2YamlCard"),V=(0,a.up)("a-modal"),H=(0,a.Q2)("permission");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(M,{class:"card nopd",loading:v.loading},{title:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("Meshes")),1)]})),extra:(0,a.w5)((function(){return[(0,a._)("div",null,[(0,a.Wm)(b,{value:v.key,"onUpdate:value":e[0]||(e[0]=function(t){return v.key=t}),onSearch:e[1]||(e[1]=function(t){return k.search()}),class:"right-search-input",placeholder:t.$t("search")},null,8,["value","placeholder"]),(0,a.wy)((0,a.Wm)(C,{type:"vertical"},null,512),[[H,["mesh:create"]]]),(0,a.wy)(((0,a.wg)(),(0,a.j4)(W,{type:"link",shape:"circle",onClick:k.add},{icon:(0,a.w5)((function(){return[(0,a.Wm)(S,{class:"font-20 icon-menu-sm rotate-icon"})]})),_:1},8,["onClick"])),[[H,["mesh:create"]]])])]})),default:(0,a.w5)((function(){return[(0,a._)("div",null,[(0,a.Wm)(x,{pagination:{showSizeChanger:!1,showQuickJumper:!1,onShowSizeChange:k.search,onChange:k.search,current:v.pageNo,pageSize:v.pageSize,showTotal:function(e,n){return"".concat(t.$t("Total")," ").concat(e)},total:v.total},columns:k.dataColumns,"data-source":v.list,class:"bg-white"},{bodyCell:(0,a.w5)((function(e){var n=e.column,f=e.record;return["meshName"===n.dataIndex?((0,a.wg)(),(0,a.iD)("div",r,["running"==f.status.bootstrap&&"running"==f.status.controller&&"running"==f.status.injector?((0,a.wg)(),(0,a.iD)("a",{key:0,href:"javascript:void(0)",onClick:function(t){return k.detail(f.id)}},(0,o.zw)(f.meshName),9,i)):((0,a.wg)(),(0,a.iD)("span",l,(0,o.zw)(f.meshName),1))])):"name"===n.dataIndex?((0,a.wg)(),(0,a.iD)("div",s,["running"==f.status.bootstrap&&"running"==f.status.controller&&"running"==f.status.injector?((0,a.wg)(),(0,a.iD)("a",{key:0,href:"javascript:void(0)",onClick:function(t){return k.detail(f.id)}},(0,o.zw)(f.name),9,u)):((0,a.wg)(),(0,a.iD)("span",c,(0,o.zw)(f.name),1))])):"status.bootstrap"===n.dataIndex?((0,a.wg)(),(0,a.j4)(_,{key:2,d:{status:f.status.bootstrap,message:f.osmMessage}},null,8,["d"])):"status.controller"===n.dataIndex?((0,a.wg)(),(0,a.j4)(_,{key:3,d:{status:f.status.controller,message:f.osmMessage}},null,8,["d"])):"status.injector"===n.dataIndex?((0,a.wg)(),(0,a.j4)(_,{key:4,d:{status:f.status.injector,message:f.osmMessage}},null,8,["d"])):"status.mcs"===n.dataIndex?((0,a.wg)(),(0,a.j4)(_,{key:5,d:{status:f.status.mcs,message:f.fsmMessage}},null,8,["d"])):"virtualServices"===n.dataIndex?((0,a.wg)(),(0,a.iD)(a.HY,{key:6},[f.virtualServices?((0,a.wg)(),(0,a.iD)("div",d,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.virtualServices,(function(t,e){return(0,a.wg)(),(0,a.j4)(j,{color:t.isSrcService?"blue":"default",key:e,closable:!1},{default:(0,a.w5)((function(){var e;return[(0,a.Uk)((0,o.zw)(null===(e=t.registry)||void 0===e?void 0:e.name),1)]})),_:2},1032,["color"])})),128))])):(0,a.kq)("",!0)],64)):"action"===n.dataIndex?((0,a.wg)(),(0,a.iD)("div",p,[(0,a.Wm)(U,null,{overlay:(0,a.w5)((function(){return[(0,a.Wm)(I,null,{default:(0,a.w5)((function(){return["running"==f.status.bootstrap&&"running"==f.status.controller&&"running"==f.status.injector?((0,a.wg)(),(0,a.j4)($,{key:0},{default:(0,a.w5)((function(){return[(0,a.wy)(((0,a.wg)(),(0,a.iD)("a",{onClick:function(t){return k.detail(f.id)}},[(0,a.Uk)((0,o.zw)(t.$t("edit")),1)],8,m)),[[H,["mesh:update"]]])]})),_:2},1024)):(0,a.kq)("",!0),(0,a.Wm)($,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(O,{placement:"topLeft","ok-text":t.$t("Yes"),"cancel-text":t.$t("No"),onConfirm:function(t){return k.remove(f.id)}},{title:(0,a.w5)((function(){return[(0,a._)("p",null,(0,o.zw)(t.$t("Tip")),1),(0,a._)("p",null,(0,o.zw)(t.$t("Are you sure to delete this?")),1)]})),default:(0,a.w5)((function(){return[(0,a.wy)(((0,a.wg)(),(0,a.iD)("a",null,[(0,a.Uk)((0,o.zw)(t.$t("Uninstall")),1)])),[[H,["mesh:delete"]]])]})),_:2},1032,["ok-text","cancel-text","onConfirm"])]})),_:2},1024)]})),_:2},1024)]})),default:(0,a.w5)((function(){return[(0,a._)("a",null,[(0,a.Wm)(E)])]})),_:2},1024)])):(0,a.kq)("",!0)]})),_:1},8,["pagination","columns","data-source"])])]})),_:1},8,["loading"]),(0,a.Wm)(V,{visible:v.visible,"onUpdate:visible":e[20]||(e[20]=function(t){return v.visible=t}),title:t.$t("Flomesh Install"),onOk:k.valid,width:"80%","ok-text":t.$t("Install"),"cancel-text":t.$t("cancel")},{default:(0,a.w5)((function(){return[(0,a.Wm)(B,{type:"card",activeKey:v.activeKey2,"onUpdate:activeKey":e[18]||(e[18]=function(t){return v.activeKey2=t}),onChange:k.tabsChange},{default:(0,a.w5)((function(){return[(0,a.Wm)(L,{key:"Primary",tab:t.$t("Primary")},{default:(0,a.w5)((function(){return[v.payload.options&&v.payload.options.osm?((0,a.wg)(),(0,a.j4)(K,{key:0,model:v.payload,"wrapper-col":{span:24},ref:"form"},{default:(0,a.w5)((function(){return[(0,a.Wm)(F,{bordered:"","label-style":{width:"280px"}},{default:(0,a.w5)((function(){return[(0,a.Wm)(D,{span:3},{label:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("as")),1)]})),default:(0,a.w5)((function(){return[(0,a.Wm)(P,{name:"name",rules:t.rules.name},{default:(0,a.w5)((function(){return[(0,a.Wm)(z,{placeholder:t.$t("unset"),value:v.payload.name,"onUpdate:value":e[2]||(e[2]=function(t){return v.payload.name=t})},null,8,["placeholder","value"]),(0,a.Wm)(N,null,{default:(0,a.w5)((function(){return[(0,a._)("blockquote",null,(0,o.zw)(t.$t("Name for the mesh control plane instance (Default: flomesh)")),1)]})),_:1})]})),_:1},8,["rules"])]})),_:1}),(0,a.Wm)(D,{label:t.$t("Namespace"),span:2},{default:(0,a.w5)((function(){return[(0,a.Wm)(T,{type:"k8s","is-filter":!0,"no-all":!0,onEnvChange:k.envChange},null,8,["onEnvChange"]),(0,a.Wm)(Z,{onChange:k.mcsEnableChange,checked:v.payload.mcsEnable,"onUpdate:checked":e[3]||(e[3]=function(t){return v.payload.mcsEnable=t})},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("Enable Multi-cluster Support")),1)]})),_:1},8,["onChange","checked"])]})),_:1},8,["label"]),(0,a.Wm)(D,{span:1},{label:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("Timeout(s)"))+" ",1),(0,a.Wm)(Y,{title:t.$t("Time to wait for installation and resources in a ready state, zero means no timeout (Default: 5*time.Minute)")},{default:(0,a.w5)((function(){return[(0,a.Wm)(J,{class:"font-primary"})]})),_:1},8,["title"])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(P,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(q,{class:"width-150",min:0,placeholder:t.$t("unset"),value:v.payload.timeout,"onUpdate:value":e[4]||(e[4]=function(t){return v.payload.timeout=t})},null,8,["placeholder","value"])]})),_:1})]})),_:1}),(0,a.Wm)(D,{span:3},{label:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("Replica Count")),1)]})),default:(0,a.w5)((function(){return[(0,a.Wm)(P,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(q,{class:"width-150",min:0,placeholder:t.$t("unset"),value:v.payload.options.osm.osmController.replicaCount,"onUpdate:value":e[5]||(e[5]=function(t){return v.payload.options.osm.osmController.replicaCount=t})},null,8,["placeholder","value"])]})),_:1})]})),_:1}),(0,a.Wm)(D,{span:2},{label:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("CPU Requests")),1)]})),default:(0,a.w5)((function(){return[(0,a.Wm)(P,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(z,{class:"width-150",min:0,placeholder:t.$t("unset"),value:v.payload.options.osm.osmController.resource.requests.cpu,"onUpdate:value":e[6]||(e[6]=function(t){return v.payload.options.osm.osmController.resource.requests.cpu=t})},null,8,["placeholder","value"])]})),_:1})]})),_:1}),(0,a.Wm)(D,{span:1},{label:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("CPU Limits")),1)]})),default:(0,a.w5)((function(){return[(0,a.Wm)(P,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(z,{class:"width-150",min:0,placeholder:t.$t("unset"),value:v.payload.options.osm.osmController.resource.limits.cpu,"onUpdate:value":e[7]||(e[7]=function(t){return v.payload.options.osm.osmController.resource.limits.cpu=t})},null,8,["placeholder","value"])]})),_:1})]})),_:1}),(0,a.Wm)(D,{span:2},{label:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("Memory Requests")),1)]})),default:(0,a.w5)((function(){return[(0,a.Wm)(P,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(z,{class:"width-150",placeholder:t.$t("unset"),value:v.payload.options.osm.osmController.resource.requests.memory,"onUpdate:value":e[8]||(e[8]=function(t){return v.payload.options.osm.osmController.resource.requests.memory=t})},null,8,["placeholder","value"])]})),_:1})]})),_:1}),(0,a.Wm)(D,{span:1},{label:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("Memory Limits")),1)]})),default:(0,a.w5)((function(){return[(0,a.Wm)(P,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(z,{class:"width-150",placeholder:t.$t("unset"),value:v.payload.options.osm.osmController.resource.limits.memory,"onUpdate:value":e[9]||(e[9]=function(t){return v.payload.options.osm.osmController.resource.limits.memory=t})},null,8,["placeholder","value"])]})),_:1})]})),_:1}),(0,a.Wm)(D,{span:v.payload.options.osm.tracing.enable?2:3},{label:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("Enable Tracing"))+" ",1),(0,a.Wm)(Y,{title:t.$t("OSM allows optional deployment of Jaegar for tracing and configured via BYO scenario")},{default:(0,a.w5)((function(){return[(0,a.Wm)(J,{class:"font-primary"})]})),_:1},8,["title"])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(P,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(A,{checked:v.payload.options.osm.tracing.enable,"onUpdate:checked":e[10]||(e[10]=function(t){return v.payload.options.osm.tracing.enable=t})},null,8,["checked"])]})),_:1})]})),_:1},8,["span"]),v.payload.options.osm.tracing.enable?((0,a.wg)(),(0,a.j4)(D,{key:0,span:1},{label:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("Automatic Installation Tracing"))+" ",1),(0,a.Wm)(Y,{title:t.$t("Steps needed to allow an already running instance of Jaeger to integrate with your OSM control plane")},{default:(0,a.w5)((function(){return[(0,a.Wm)(J,{class:"font-primary"})]})),_:1},8,["title"])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(P,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(A,{checked:v.payload.options.osm.deployJaeger,"onUpdate:checked":e[11]||(e[11]=function(t){return v.payload.options.osm.deployJaeger=t})},null,8,["checked"])]})),_:1})]})),_:1})):(0,a.kq)("",!0),v.payload.options.osm.tracing.enable&&!v.payload.options.osm.deployJaeger?((0,a.wg)(),(0,a.j4)(D,{key:1,span:3},{label:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("Bring Your Own Tracing (BYO)")),1)]})),default:(0,a.w5)((function(){return[(0,a._)("div",f,[(0,a._)("div",h,[(0,a.Wm)(P,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(z,{placeholder:t.$t("Address"),value:v.payload.options.osm.tracing.address,"onUpdate:value":e[12]||(e[12]=function(t){return v.payload.options.osm.tracing.address=t})},null,8,["placeholder","value"])]})),_:1})]),(0,a._)("div",g,[(0,a.Wm)(P,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(z,{placeholder:t.$t("Port"),value:v.payload.options.osm.tracing.port,"onUpdate:value":e[13]||(e[13]=function(t){return v.payload.options.osm.tracing.port=t})},null,8,["placeholder","value"])]})),_:1})]),(0,a._)("div",y,[(0,a.Wm)(P,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(z,{placeholder:t.$t("Endpoint"),value:v.payload.options.osm.tracing.endpoint,"onUpdate:value":e[14]||(e[14]=function(t){return v.payload.options.osm.tracing.endpoint=t})},null,8,["placeholder","value"])]})),_:1})])])]})),_:1})):(0,a.kq)("",!0),(0,a.Wm)(D,{span:3},{label:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("Auto Install Metrics Server"))+" ",1),(0,a.Wm)(Y,{title:t.$t("Steps needed to allow an already running Prometheus instance to poll the endpoints of an OSM mesh")},{default:(0,a.w5)((function(){return[(0,a.Wm)(J,{class:"font-primary"})]})),_:1},8,["title"])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(P,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(A,{checked:v.payload.options.osm.deployPrometheus,"onUpdate:checked":e[15]||(e[15]=function(t){return v.payload.options.osm.deployPrometheus=t})},null,8,["checked"])]})),_:1})]})),_:1}),(0,a.Wm)(D,{span:1},{label:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("Auto Purge Failed Attempts"))+" ",1),(0,a.Wm)(Y,{title:t.$t("Check this option, if you need to have resources auto cleaned up after failed installation attempt")},{default:(0,a.w5)((function(){return[(0,a.Wm)(J,{class:"font-primary"})]})),_:1},8,["title"])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(P,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(A,{checked:v.payload.atomic,"onUpdate:checked":e[16]||(e[16]=function(t){return v.payload.atomic=t})},null,8,["checked"])]})),_:1})]})),_:1}),(0,a.Wm)(D,{span:1},{label:(0,a.w5)((function(){return[(0,a.Uk)((0,o.zw)(t.$t("Enforce Single Mesh"))+" ",1),(0,a.Wm)(Y,{title:t.$t("Check this option, if you need to enforce only one mesh in the cluster. Once enabled, attempt to install another mesh will trigger error")},{default:(0,a.w5)((function(){return[(0,a.Wm)(J,{class:"font-primary"})]})),_:1},8,["title"])]})),default:(0,a.w5)((function(){return[(0,a.Wm)(P,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(A,{disabled:v.payload.mcsEnable,checked:v.payload.enforceSingleMesh,"onUpdate:checked":e[17]||(e[17]=function(t){return v.payload.enforceSingleMesh=t})},null,8,["disabled","checked"])]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["model"])):(0,a.kq)("",!0)]})),_:1},8,["tab"]),(0,a.Wm)(L,{key:"Options",tab:t.$t("Options")},null,8,["tab"])]})),_:1},8,["activeKey","onChange"]),(0,a._)("div",{class:(0,o.C_)("Options"==v.activeKey2?"":"hide-editor")},[(0,a.Wm)(R,{class:"mb-20","is-create":v.editorIsCreate,jsonVal:v.json,"onUpdate:jsonVal":e[19]||(e[19]=function(t){return v.json=t}),onChange:k.yamlchange,url:"meshconfig.yaml"},null,8,["is-create","jsonVal","onChange"])],2)]})),_:1},8,["visible","title","onOk","ok-text","cancel-text"])],64)}],["__scopeId","data-v-3eece98b"]])}}]);