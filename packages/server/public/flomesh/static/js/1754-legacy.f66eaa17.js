"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[1754],{11754:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});n(74916),n(64765),n(92222),n(68309);var i=n(66252),a=n(3577),o=["onClick"],l=["onClick"],u={class:"list-content"},r={class:"list-content-item"};n(57658);var c=n(2692),s=n(99684),p={name:"List",i18n:n(89234),components:{MoreOutlined:c.Z,PlusCircleTwoTone:s.Z},data:function(){return{key:"",loading:!0,pageSize:10,pageNo:1,total:0,profiles:[]}},computed:{start:function(){return(this.pageNo-1)*this.pageSize}},created:function(){this.search()},methods:{remove:function(t){var e=this;this.$gql.mutation("deleteProfile(id:".concat(t,"){data{id}}")).then((function(){e.$message.success(e.$t("Deleted successfully"),3),e.search()}))},detail:function(t){this.$router.push({path:"/flb/profile/detail/"+t})},newProfile:function(){this.$router.push({path:"/flb/profile/create"})},search:function(t,e){var n=this;t&&(this.pageNo=t,this.pageSize=e),this.loading=!0;var i={name:{contains:this.key}};this.$gql.query("profiles(filters: $filters, pagination:{start: ".concat(this.start,", limit: ").concat(this.pageSize,"}){\n\t\t\t\t\t\tvalues{data{id,attributes{name,updatedAt}}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}"),{filters:i},{filters:"ProfileFiltersInput"}).then((function(t){n.profiles=t.data,n.total=t.pagination.total,n.loading=!1}))}}};var d=(0,n(83744).Z)(p,[["render",function(t,e,n,c,s,p){var d=(0,i.up)("a-input-search"),f=(0,i.up)("a-divider"),h=(0,i.up)("PlusCircleTwoTone"),m=(0,i.up)("a-button"),w=(0,i.up)("a-list-item-meta"),g=(0,i.up)("a-menu-item"),_=(0,i.up)("a-popconfirm"),v=(0,i.up)("a-menu"),k=(0,i.up)("MoreOutlined"),$=(0,i.up)("a-dropdown"),z=(0,i.up)("a-list-item"),C=(0,i.up)("a-list"),W=(0,i.up)("a-card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(W,{bordered:!1,title:t.$t("profile")+t.$t("list"),loading:s.loading},{extra:(0,i.w5)((function(){return[(0,i._)("div",null,[(0,i.Wm)(d,{value:s.key,"onUpdate:value":e[0]||(e[0]=function(t){return s.key=t}),onSearch:e[1]||(e[1]=function(t){return p.search()}),class:"right-search-input",placeholder:t.$t("search")},null,8,["value","placeholder"]),(0,i.Wm)(f,{type:"vertical"}),(0,i.Wm)(m,{type:"link",shape:"circle",onClick:p.newProfile},{icon:(0,i.w5)((function(){return[(0,i.Wm)(h,{class:"font-20 icon-menu-sm rotate-icon"})]})),_:1},8,["onClick"])])]})),default:(0,i.w5)((function(){return[(0,i.Wm)(C,{size:"large",pagination:{showSizeChanger:!0,showQuickJumper:!1,onShowSizeChange:p.search,onChange:p.search,current:s.pageNo,pageSize:s.pageSize,showTotal:function(e,n){return"".concat(t.$t("Total")," ").concat(e)},total:s.total}},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.profiles,(function(e,n){return(0,i.wg)(),(0,i.j4)(z,{key:n},{actions:(0,i.w5)((function(){return[(0,i._)("div",null,[(0,i.Wm)($,null,{overlay:(0,i.w5)((function(){return[(0,i.Wm)(v,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(g,null,{default:(0,i.w5)((function(){return[(0,i._)("a",{onClick:function(t){return p.detail(e.id)}},(0,a.zw)(t.$t("edit")),9,l)]})),_:2},1024),(0,i.Wm)(g,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(_,{placement:"topLeft","ok-text":t.$t("Yes"),"cancel-text":t.$t("No"),onConfirm:function(t){return p.remove(e.id)}},{title:(0,i.w5)((function(){return[(0,i._)("p",null,(0,a.zw)(t.$t("Tip")),1),(0,i._)("p",null,(0,a.zw)(t.$t("Are you sure to delete this?")),1)]})),default:(0,i.w5)((function(){return[(0,i._)("a",null,(0,a.zw)(t.$t("delete")),1)]})),_:2},1032,["ok-text","cancel-text","onConfirm"])]})),_:2},1024)]})),_:2},1024)]})),default:(0,i.w5)((function(){return[(0,i._)("a",null,[(0,i.Wm)(k)])]})),_:2},1024)])]})),default:(0,i.w5)((function(){return[(0,i.Wm)(w,{description:"ID:"+e.id},{title:(0,i.w5)((function(){return[(0,i._)("a",{onClick:function(t){return p.detail(e.id)}},(0,a.zw)(e.name),9,o)]})),_:2},1032,["description"]),(0,i._)("div",u,[(0,i._)("div",r,[(0,i._)("span",null,(0,a.zw)(t.$t("updTime")),1),(0,i._)("p",null,(0,a.zw)(e.updatedAt?new Date(e.updatedAt).toLocaleString():"-"),1)])])]})),_:2},1024)})),128))]})),_:1},8,["pagination"])]})),_:1},8,["title","loading"])])}],["__scopeId","data-v-07217ccb"]])}}]);