"use strict";(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[9378],{64137:function(e,t,a){a.d(t,{Z:function(){return d}});var l=a(66252),s={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm192 396c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z",fill:t}},{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z",fill:e}}]}},name:"minus-circle",theme:"twotone"},i=a(33058);function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){o(e,t,a[t])}))}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r=function(e,t){var a=n({},e,t.attrs);return(0,l.Wm)(i.Z,n({},a,{icon:s}),null)};r.displayName="MinusCircleTwoTone",r.inheritAttrs=!1;var d=r},71900:function(e,t,a){a.d(t,{Z:function(){return o}});var l=a(66252),s=a(3577);const i={class:"head-info"};var n={name:"HeadInfo",props:["title","content"]};var o=(0,a(83744).Z)(n,[["render",function(e,t,a,n,o,r){return(0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("span",null,(0,s.zw)(a.title),1),(0,l._)("p",null,[(0,l.Uk)((0,s.zw)(a.content),1),(0,l.WI)(e.$slots,"body",{},void 0,!0)])])}],["__scopeId","data-v-00006846"]])},19378:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var l=a(66252),s=a(3577),i=a(49963);const n={class:"search-input"},o={class:"content flex"},r={class:"flex-item"},d={class:"form-row"},c={class:"label"},u={class:"content"},p={key:1},h={key:2},m={key:0,class:"blockquote"},g={key:1,class:"blockquote"},v={key:0},y={key:1,class:"gray"},w={key:0},f={key:1,class:"gray"},k={key:1},b={key:2};a(57658);var $=a(99684),_=a(64137),W=a(61103),S=a(71900),C=a(69596),z=a(96486),U=a.n(z),q=a(85263),D=a(79332),T=a(86243),j=a(33907),I={name:"Upstreams",components:{HeadInfo:S.Z,PageLayout:W.Z,CardList:C.Z,PlusCircleTwoTone:$.Z,MinusCircleTwoTone:_.Z,FormItem:D.Z},i18n:a(89234),data(){return{ProviderSvg:T,isEdit:!1,viewtypevalue:0,viewtypeproject:null,viewtype:[{value:0,label:"All"}],visible:!1,payload:{id:"",name:"",services:[],content:{targets:[{host:"",port:""}],healthcheckPath:"",displayName:"",algo:null,sticky:"",headerKey:"",ttl:null,ttl:null},description:""},service:{loading:!0,key:"",pageSize:10,pageNo:1,total:0,list:[]},bindTarget:{},targetType:"Host",editorIsCreate:!0,workload:[],upstreams:[],clusters:[],pageSize:12,pageNo:1,total:0,key:"",loading:!0,activities:[],config:{},teams:[],simpleImage:q.Z.PRESENTED_IMAGE_SIMPLE,algos:[{name:"RoundRobinLoadBalancer",id:"RoundRobinLoadBalancer"},{name:"LeastWorkLoadBalancer",id:"LeastWorkLoadBalancer"},{name:"HashingLoadBalancer",id:"HashingLoadBalancer"}]}},computed:{...(0,j.rn)("rules",["rules"]),dataleftColumns(){return[{dataIndex:"name",title:this.$t("Name")},{dataIndex:"clusterName",title:this.$t("cluster")}]},datarightColumns(){return[{dataIndex:"name",title:this.$t("Name")},{dataIndex:"clusterName",title:this.$t("cluster")}]},start(){return(this.pageNo-1)*this.pageSize}},created(){this.loading=!0,this.loaddata(),this.getServices()},mounted(){this.timer=setInterval((()=>{this.loaddata()}),5e3)},unmounted(){clearInterval(this.timer)},activated(){},methods:{removeTarget(e){let t=this.payload.content.targets.indexOf(e);-1!==t&&this.payload.content.targets.splice(t,1)},addTarget(){this.payload.content.targets.push({host:"",port:""})},add(){this.isEdit=!1,this.payload={id:"",name:"",cluster:null,services:[],content:{targets:[{host:"",port:""}],algo:null,sticky:"",headerKey:"",ttl:null,displayName:""},description:""},this.showModal()},getSample(){this.custom=this.customSample},showModal(){this.visible=!0},removeViewtypeproject(){this.viewtypeproject=null},onServiceChange(e){this.payload.services=e},getRowSelection(e,t,a,l){return{getCheckboxProps:t=>({disabled:e||t.disabled}),onSelectAll(e,t){const l=t.filter((e=>!e.disabled)).map((({key:e})=>e));a(l,e)},onSelect(e,t){l(e.key,t)},selectedRowKeys:t}},serviceSearch(e,t){"left"==e&&(this.service.key=t,this.getServices())},servicePagging(e){this.service.pageNo=e},getServices(e,t){e&&(this.service.pageNo=e,this.service.pageSize=t),this.service.loading=!0;let a={name:{contains:this.key}};this.$gql.query(`getServices(pagination:{start: 0, limit: ${this.$DFT_LIMIT}}, filters: $filters){\n\t\t\t\t\t\tdata{id,attributes{\n\t\t\t\t\t\t\tuid,\n\t\t\t\t\t\t\tfleet{data{id,attributes{name}}},\n\t\t\t\t\t\t\tnamespace,\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tregistry{data{id,attributes{name}}},\n\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\tcreatedAt\n\t\t\t\t\t\t}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}`,{filters:a},{filters:"ServiceFiltersInput"}).then((e=>{this.service.list=e.data,this.service.list.forEach((e=>{e.name=e.name?e.name:e.metadata.name,e.registry?e.clusterName=e.registry.name:e.fleet?e.clusterName=e.fleet.name:e.clusterName="-",e.key=`${e.id}`})),this.service.total=e.pagination.total,this.service.loading=!1}))},valid(){("HashingLoadBalancer"!=this.payload.content.algo||this.payload.content.headerKey)&&(!this.payload.content.sticky||this.payload.content.headerKey)?this.$refs.form.validateFields().then((()=>{this.handleOk()})).catch((()=>{})):this.$message.error(this.$t("Please set Header key"),3)},handleOk(){let e=U().cloneDeep(this.payload);if(this.isEdit){const t=e.id;delete e.id,this.$gql.mutation(`updateUpstream(id:${t}, data: $data){data{id}}`,{data:e},{data:"UpstreamInput!"}).then((()=>{this.visible=!1,this.$message.success(this.$t("Modified successfully"),3),this.loading=!0,this.loaddata()}))}else delete e.id,this.$gql.mutation("createUpstream(data: $data){data{id}}",{data:e},{data:"UpstreamInput!"}).then((()=>{this.visible=!1,this.$message.success(this.$t("Created successfully"),3),this.loading=!0,this.loaddata()}))},remove(e,t,a){this.$gql.mutation(`deleteUpstream(id:${a.id}){data{id}}`).then((()=>{this.$message.success(this.$t("Deleted successfully"),3),this.loading=!0,this.loaddata()}))},showModal2(){this.visible2=!0},getTimeLabel(e){return new Date(e[0]).toLocaleDateString()+"~"+new Date(e[1]).toLocaleDateString()},setting(e,t,a){if(this.payload=U().cloneDeep(a),this.payload.services){let e=this.payload.services;this.payload.services=[],e.forEach((e=>{this.payload.services.push(e.id)}))}else this.payload.services=[];this.payload.cluster?this.payload.cluster=this.payload.cluster.id:this.payload.cluster=null,this.isEdit=!0,this.showModal()},edit(){},search(e,t){e&&(this.pageNo=e,this.pageSize=t),this.loading=!0,this.loaddata()},loaddata(){let e={name:{contains:this.key}};this.$gql.query(`upstreams(filters: $filters, pagination:{start: ${this.start}, limit: ${this.pageSize}}){\n\t\t\t\t\t\tdata{id,attributes{\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\tservices{data{id,attributes{name}}},\n\t\t\t\t\t\t\tcluster{data{id,attributes{name}}},\n\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}`,{filters:e},{filters:"UpstreamFiltersInput!"}).then((e=>{if(e.data)for(const t of e.data)t.content.targets=t.content.targets.filter((e=>e.host));this.upstreams=e.data,this.total=e.pagination.total,this.loading=!1})),this.$gql.query("registries{data{id,attributes{name}}}").then((e=>{this.clusters=e.data}))}}};var N=(0,a(83744).Z)(I,[["render",function(e,t,a,$,_,W){const S=(0,l.up)("a-input-search"),C=(0,l.up)("a-radio-button"),z=(0,l.up)("a-radio-group"),U=(0,l.up)("a-tag"),q=(0,l.up)("a-form-item"),D=(0,l.up)("a-form"),T=(0,l.up)("PlusCircleTwoTone"),j=(0,l.up)("HeadInfo"),I=(0,l.up)("a-card"),N=(0,l.up)("a-avatar"),H=(0,l.up)("a-badge"),P=(0,l.up)("a-card-meta"),L=(0,l.up)("CardList"),E=(0,l.up)("a-pagination"),O=(0,l.up)("a-button"),K=(0,l.up)("a-input"),M=(0,l.up)("FormItem"),x=(0,l.up)("a-descriptions-item"),Z=(0,l.up)("a-select-option"),B=(0,l.up)("a-select"),R=(0,l.up)("a-switch"),A=(0,l.up)("a-input-number"),F=(0,l.up)("MinusCircleTwoTone"),Y=(0,l.up)("a-table"),V=(0,l.up)("a-transfer"),G=(0,l.up)("a-textarea"),Q=(0,l.up)("a-descriptions"),J=(0,l.up)("a-modal"),X=(0,l.up)("PageLayout"),ee=(0,l.Q2)("permission");return(0,l.wg)(),(0,l.j4)(X,null,{headerContent:(0,l.w5)((()=>[(0,l._)("div",{class:(0,s.C_)(["search-head",e.layout,e.pageWidth])},[(0,l._)("div",n,[(0,l.Wm)(S,{value:_.key,"onUpdate:value":t[0]||(t[0]=e=>_.key=e),class:"search-ipt",onSearch:t[1]||(t[1]=e=>W.search()),placeholder:e.$t("Please input")+"...",size:"large"},null,8,["value","placeholder"])]),(0,l.Wm)(I,{bordered:!1,class:"search-form"},{default:(0,l.w5)((()=>[(0,l._)("div",o,[(0,l._)("div",r,[(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[(0,l._)("div",d,[(0,l._)("div",c,[(0,l._)("span",null,(0,s.zw)(e.$t("Card View")),1)]),(0,l._)("div",u,[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(z,{size:"small",value:_.viewtypevalue,"onUpdate:value":t[2]||(t[2]=e=>_.viewtypevalue=e),"button-style":"solid"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(_.viewtype,((t,a)=>((0,l.wg)(),(0,l.j4)(C,{value:t.value,key:a},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t(t.label)),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"]),_.viewtypeproject?((0,l.wg)(),(0,l.j4)(U,{key:0,class:"ml-10",closable:"",onClose:W.removeViewtypeproject},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(_.viewtypeproject.name),1)])),_:1},8,["onClose"])):(0,l.kq)("",!0)])),_:1})])])])),_:1})]),(0,l._)("div",null,[(0,l.wy)(((0,l.wg)(),(0,l.j4)(j,{class:"split-right",title:e.$t("Create Upstream")},{body:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l.Wm)(T,{onClick:W.add,class:"font-primary icon-menu rotate-icon"},null,8,["onClick"])])])),_:1},8,["title"])),[[ee,["upstream:create"]]])])])])),_:1})],2)])),default:(0,l.w5)((()=>[(0,l.Wm)(L,{"hide-action-title":!0,"data-source":_.upstreams,type:"component",loading:_.loading,actions:[{icon:"EditOutlined",text:e.$t("edit"),call:W.setting,permission:["upstream:update"]},{icon:"CloseOutlined",hide:!0,text:e.$t("delete"),call:W.remove,permission:["upstream:delete"]}]},{default:(0,l.w5)((({item:e})=>[(0,l.Wm)(P,null,{title:(0,l.w5)((()=>[(0,l._)("div",null,[e.cluster&&e.cluster.name?((0,l.wg)(),(0,l.j4)(U,{key:0,color:"pink",class:"result-tag"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.cluster.name),1)])),_:2},1024)):(0,l.kq)("",!0),e.content.displayName?((0,l.wg)(),(0,l.iD)("span",p,(0,s.zw)(e.content.displayName),1)):((0,l.wg)(),(0,l.iD)("span",h,(0,s.zw)(e.name),1))])])),avatar:(0,l.w5)((()=>[(0,l.Wm)(N,{class:"avatar-img font-30 primary",size:"small",shape:"square",src:_.ProviderSvg},null,8,["src"])])),description:(0,l.w5)((()=>[e.content&&e.content.targets&&e.content.targets.length>0?((0,l.wg)(),(0,l.iD)("blockquote",m,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.content.targets,((e,t)=>(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{key:t,class:"mr-20 nowrap"},[1==e.healthy?((0,l.wg)(),(0,l.j4)(H,{key:0,status:"processing"})):-1==e.healthy?((0,l.wg)(),(0,l.j4)(H,{key:1,status:"processing",color:"red"})):(0,l.kq)("",!0),(0,l.Uk)(" "+(0,s.zw)(e.host)+":"+(0,s.zw)(e.port)+" (Host) ",1)])),[[i.F8,e.host]]))),128))])):(0,l.kq)("",!0),e.services&&e.services.length>0?((0,l.wg)(),(0,l.iD)("blockquote",g,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.services,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"mr-20 nowrap"},[1==e.healthy?((0,l.wg)(),(0,l.j4)(H,{key:0,status:"processing"})):-1==e.healthy?((0,l.wg)(),(0,l.j4)(H,{key:1,status:"processing",color:"red"})):(0,l.kq)("",!0),(0,l.Uk)(" "+(0,s.zw)(e.name)+" (Service) ",1)])))),128))])):(0,l.kq)("",!0)])),_:2},1024)])),_:1},8,["data-source","loading","actions"]),(0,l.Wm)(E,{onChange:W.search,current:_.pageNo,"onUpdate:current":t[3]||(t[3]=e=>_.pageNo=e),total:_.total,"page-size":_.pageSize,"show-less-items":""},null,8,["onChange","current","total","page-size"]),(0,l.Wm)(J,{visible:_.visible,"onUpdate:visible":t[15]||(t[15]=e=>_.visible=e),title:e.$t("Upstream"),width:"80%"},{footer:(0,l.w5)((()=>[_.isEdit?((0,l.wg)(),(0,l.j4)(O,{key:0,type:"primary",onClick:W.valid},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("save")),1)])),_:1},8,["onClick"])):((0,l.wg)(),(0,l.j4)(O,{key:1,type:"primary",onClick:W.valid},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("create")),1)])),_:1},8,["onClick"]))])),default:(0,l.w5)((()=>[(0,l.Wm)(D,{model:_.payload,"wrapper-col":{span:24},ref:"form"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{label:e.$t("as"),span:1},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{name:"name",rules:e.rules.uniqueName("upstreams",{id:_.payload.id,cluster:_.payload.cluster})},{default:(0,l.w5)((()=>[(0,l.Wm)(K,{placeholder:e.$t("unset"),value:_.payload.name,"onUpdate:value":t[4]||(t[4]=e=>_.payload.name=e)},null,8,["placeholder","value"])])),_:1},8,["rules"])])),_:1},8,["label"]),(0,l.Wm)(x,{label:e.$t("Display Name"),span:2},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{name:["content","displayName"],rules:e.rules.required},{default:(0,l.w5)((()=>[(0,l.Wm)(K,{placeholder:e.$t("unset"),value:_.payload.content.displayName,"onUpdate:value":t[5]||(t[5]=e=>_.payload.content.displayName=e)},null,8,["placeholder","value"])])),_:1},8,["rules"])])),_:1},8,["label"]),(0,l.Wm)(x,{label:e.$t("cluster"),span:1},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{placeholder:e.$t("unallocated"),class:"width-160",value:_.payload.cluster,"onUpdate:value":t[6]||(t[6]=e=>_.payload.cluster=e)},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(_.clusters,((e,t)=>((0,l.wg)(),(0,l.j4)(Z,{key:t,value:e.id},{default:(0,l.w5)((()=>[e.id?((0,l.wg)(),(0,l.iD)("span",v,(0,s.zw)(e.name)+" (ID:"+(0,s.zw)(e.id)+")",1)):(0,l.kq)("",!0),e.id?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("i",y,(0,s.zw)(e.name),1))])),_:2},1032,["value"])))),128))])),_:1},8,["placeholder","value"])])),_:1},8,["label"]),(0,l.Wm)(x,{label:e.$t("Healthcheck Path"),span:2},{default:(0,l.w5)((()=>[(0,l.Wm)(K,{placeholder:e.$t("unset"),value:_.payload.content.healthcheckPath,"onUpdate:value":t[7]||(t[7]=e=>_.payload.content.healthcheckPath=e)},null,8,["placeholder","value"])])),_:1},8,["label"]),(0,l.Wm)(x,{label:e.$t("Algo"),span:1},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{name:["content","algo"],rules:e.rules.required},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{placeholder:e.$t("unallocated"),class:"width-220",value:_.payload.content.algo,"onUpdate:value":t[8]||(t[8]=e=>_.payload.content.algo=e)},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(_.algos,((e,t)=>((0,l.wg)(),(0,l.j4)(Z,{key:t,value:e.id},{default:(0,l.w5)((()=>[e.id?((0,l.wg)(),(0,l.iD)("span",w,(0,s.zw)(e.name),1)):(0,l.kq)("",!0),e.id?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("i",f,(0,s.zw)(e.name),1))])),_:2},1032,["value"])))),128))])),_:1},8,["placeholder","value"])])),_:1},8,["rules"])])),_:1},8,["label"]),(0,l.Wm)(x,{label:e.$t("Header key"),span:2},{default:(0,l.w5)((()=>[(0,l.Wm)(M,null,{default:(0,l.w5)((()=>[(0,l.Wm)(K,{placeholder:e.$t("unset"),value:_.payload.content.headerKey,"onUpdate:value":t[9]||(t[9]=e=>_.payload.content.headerKey=e),class:"width-220"},null,8,["placeholder","value"])])),_:1})])),_:1},8,["label"]),"HashingLoadBalancer"!=_.payload.content.algo?((0,l.wg)(),(0,l.j4)(x,{key:0,label:e.$t("Sticky"),span:_.payload.content.sticky?1:3},{default:(0,l.w5)((()=>[(0,l.Wm)(R,{checked:_.payload.content.sticky,"onUpdate:checked":t[10]||(t[10]=e=>_.payload.content.sticky=e)},null,8,["checked"])])),_:1},8,["label","span"])):(0,l.kq)("",!0),_.payload.content.sticky?((0,l.wg)(),(0,l.j4)(x,{key:1,label:e.$t("TTL(Seconds)"),span:2},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{name:["content","ttl"],rules:e.rules.numberRequired},{default:(0,l.w5)((()=>[(0,l.Wm)(A,{min:0,value:_.payload.content.ttl,"onUpdate:value":t[11]||(t[11]=e=>_.payload.content.ttl=e),placeholder:e.$t("unset"),class:"width-100"},null,8,["value","placeholder"])])),_:1},8,["rules"])])),_:1},8,["label"])):(0,l.kq)("",!0),(0,l.Wm)(x,{label:e.$t("Targets"),span:3},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{class:"mb-10",value:_.targetType,"onUpdate:value":t[12]||(t[12]=e=>_.targetType=e),"option-type":"button",options:[{label:e.$t("Host"),value:"Host"},{label:e.$t("Service"),value:"Service"}]},null,8,["value","options"]),"Host"==_.targetType?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(_.payload.content.targets,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{key:a},[(0,l.Wm)(M,{class:"inline-block",name:["content","targets",a,"host"],rules:e.rules.required},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.$t("Host"))+" ",1),(0,l.Wm)(K,{value:t.host,"onUpdate:value":e=>t.host=e,placeholder:e.$t("unset"),class:"width-200"},null,8,["value","onUpdate:value","placeholder"])])),_:2},1032,["name","rules"]),(0,l.Uk)(" "+(0,s.zw)(e.$t("Port"))+" ",1),(0,l.Wm)(A,{min:0,value:t.port,"onUpdate:value":e=>t.port=e,placeholder:e.$t("unset"),class:"width-100"},null,8,["value","onUpdate:value","placeholder"]),(0,l.Uk)(" "+(0,s.zw)(e.$t("Weight"))+" ",1),(0,l.Wm)(A,{min:0,value:t.weight,"onUpdate:value":e=>t.weight=e,placeholder:e.$t("unset"),class:"width-100"},null,8,["value","onUpdate:value","placeholder"]),_.payload.content.targets.length>1?((0,l.wg)(),(0,l.j4)(F,{key:0,class:"two-tone",disabled:1===_.payload.content.targets.length,onClick:e=>W.removeTarget(t),"two-tone-color":"#00adef"},null,8,["disabled","onClick"])):(0,l.kq)("",!0),_.payload.content.targets.length-1==a?((0,l.wg)(),(0,l.j4)(T,{key:1,class:"two-tone",onClick:W.addTarget,"two-tone-color":"#00adef"},null,8,["onClick"])):(0,l.kq)("",!0)])))),128)):(0,l.kq)("",!0),"Host"==_.targetType&&0==_.payload.content.targets.length?((0,l.wg)(),(0,l.iD)("div",k,[(0,l.Wm)(T,{class:"two-tone",onClick:W.addTarget,"two-tone-color":"#00adef"},null,8,["onClick"])])):(0,l.kq)("",!0),"Service"==_.targetType?((0,l.wg)(),(0,l.iD)("div",b,[(0,l.Wm)(V,{titles:[" "+e.$t("Service")," "+e.$t("Added")],"data-source":_.service.list,"target-keys":_.payload.services,"onUpdate:target-keys":t[13]||(t[13]=e=>_.payload.services=e),"show-search":!0,"filter-option":(e,t)=>-1!==t.name.indexOf(e),"show-select-all":!1,onSearch:W.serviceSearch,onChange:W.onServiceChange},{children:(0,l.w5)((({direction:t,filteredItems:a,selectedKeys:i,disabled:n,onItemSelectAll:o,onItemSelect:r})=>[(0,l.Wm)(Y,{"row-selection":W.getRowSelection(n,i,o,r),columns:"left"===t?W.dataleftColumns:W.datarightColumns,"data-source":a,size:"small",pagination:"left"===t&&{onChange:W.servicePagging,current:_.service.pageNo,pageSize:_.service.pageSize,showTotal:(t,a)=>`${e.$t("Total")} ${t}`,total:_.service.total},style:(0,s.j5)({pointerEvents:n?"none":null}),"custom-row":({key:e,disabled:t})=>({onClick:()=>{t||n||r(e,!i.includes(e))}})},null,8,["row-selection","columns","data-source","pagination","style","custom-row"])])),_:1},8,["titles","data-source","target-keys","filter-option","onSearch","onChange"])])):(0,l.kq)("",!0)])),_:1},8,["label"]),(0,l.Wm)(x,{label:e.$t("Description"),span:3},{default:(0,l.w5)((()=>[(0,l.Wm)(G,{placeholder:e.$t("unset"),value:_.payload.description,"onUpdate:value":t[14]||(t[14]=e=>_.payload.description=e)},null,8,["placeholder","value"])])),_:1},8,["label"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible","title"])])),_:1})}],["__scopeId","data-v-d1ec9064"]])}}]);