(self.webpackChunkflomesh_load_balancer=self.webpackChunkflomesh_load_balancer||[]).push([[8271],{74353:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var n=a(66252),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},s=a(33058);function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){i(e,t,a[t])}))}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r=function(e,t){var a=o({},e,t.attrs);return(0,n.Wm)(s.Z,o({},a,{icon:l}),null)};r.displayName="StopOutlined",r.inheritAttrs=!1;var u=r},79797:function(e,t,a){!function(){"use strict";var t=a(17536).typeOf;e.exports.stringify=function(e){var a,n="";return"---"+(a={undefined:function(){return"null"},null:function(){return"null"},number:function(e){return e},boolean:function(e){return e?"true":"false"},string:function(e){return JSON.stringify(e)},array:function(e){var l="";return 0===e.length?l+="[]":(n=n.replace(/$/,"  "),e.forEach((function(e){var s=a[t(e)];if(!s)throw new Error("what the crap: "+t(e));l+="\n"+n+"- "+s(e)})),n=n.replace(/  /,""),l)},object:function(e){var l="";return 0===Object.keys(e).length?l+="{}":(n=n.replace(/$/,"  "),Object.keys(e).forEach((function(s){var o=e[s],i=a[t(o)];if(void 0!==o){if(!i)throw new Error("what the crap: "+t(o));l+="\n"+n+s+": "+i(o)}})),n=n.replace(/  /,""),l)},function:function(){return"[object Function]"}})[t(e)](e)+"\n"}}()},17536:function(e){!function(){"use strict";var t,a,n=Function("return this")(),l="Boolean Number String Function Array Date RegExp Object".split(" "),s={};for(t in l)l.hasOwnProperty(t)&&(a=l[t],s["[object "+a+"]"]=a.toLowerCase());function o(e){return null==e?String(e):s[Object.prototype.toString.call(e)]||"object"}function i(e){var t,a;if("object"===o(e))for(t in e)if(void 0!==(a=e[t])&&"function"!==o(a))return!1;return!0}String.prototype.entityify||(String.prototype.entityify=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}),String.prototype.quote||(String.prototype.quote=function(){var e,t,a=this.length,n='"';for(t=0;t<a;t+=1)if((e=this.charAt(t))>=" ")"\\"!==e&&'"'!==e||(n+="\\"),n+=e;else switch(e){case"\b":n+="\\b";break;case"\f":n+="\\f";break;case"\n":n+="\\n";break;case"\r":n+="\\r";break;case"\t":n+="\\t";break;default:e=e.charCodeAt(),n+="\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16)}return n+'"'}),String.prototype.supplant||(String.prototype.supplant=function(e){return this.replace(/{([^{}]*)}/g,(function(t,a){var n=e[a];return"string"==typeof n||"number"==typeof n?n:t}))}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s*(\S*(?:\s+\S+)*)\s*$/,"$1")}),e.exports={typeOf:o,isEmpty:i},n.typeOf=n.typeOf||o,n.isEmpty=n.isEmpty||i}()},44107:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var n=a(66252),l=a(3577);var s=a(21936),o=a(8333);let i=a(79797),r=a(93320);var u={name:"Json2YamlCard",components:{JsonEditor:s.Z,YamlEditor:o.Z},props:["jsonVal","isCreate","height","isReadonly","url","isPop"],i18n:a(89234),data(){return{configTab:[{key:"YAML",tab:"YAML"},{key:"JSON",tab:"JSON"}],configKey:"YAML",json:"{}",yaml:""}},watch:{json(e,t){e!=t&&this.jsonInput(e)},yaml(e,t){e!=t&&this.yamlInput(e)},jsonVal:{handler(e,t){if("{}"!=e&&""!=e||(e='{"key":"value"}'),e!=t){"object"==typeof JSON.parse(e)&&(this.json=e)}},immediate:!0}},created(){},mounted(){this.init()},methods:{onTabChange(e,t){this[t]=e},jsonInput(e){try{"object"==typeof JSON.parse(e)&&(this.yaml=this.convertToYaml(e),this.$emit("update:jsonVal",this.json),this.$emit("change",this.json))}catch(e){}},yamlInput(e){let t=r.load(e),a=JSON.stringify(t,null,"  ");"object"==typeof JSON.parse(a)&&(this.$emit("update:jsonVal",a),this.$emit("change",a))},getDefaultYamlConfig(){if(!this.url)return this.yaml=this.convertToYaml(this.jsonVal),void this.yamlInput(this.yaml);fetch(this.url).then((e=>e.text())).then((e=>{this.url.indexOf(".yaml");let t=r.load(e),a=JSON.stringify(t,null,"  "),n=JSON.parse(a);n.spec&&n.spec.namespace&&(n.spec.namespace="_all"==localStorage.getItem("NAMESPACE")?"default":localStorage.getItem("NAMESPACE"));let l=JSON.stringify(n);this.yaml=this.convertToYaml(l),setTimeout((()=>{this.yamlInput(this.yaml)}),2e3)})).catch((()=>{}))},convertToYaml(e){if(""==e)return"";let t=JSON.parse(e),a=null;return a=i.stringify(t),a},init(){this.isCreate?this.getDefaultYamlConfig():(this.yaml=this.convertToYaml(this.jsonVal),this.yamlInput(this.yaml))}}};var c=(0,a(83744).Z)(u,[["render",function(e,t,a,s,o,i){const r=(0,n.up)("YamlEditor"),u=(0,n.up)("JsonEditor"),c=(0,n.up)("a-button"),d=(0,n.up)("a-card");return(0,n.wg)(),(0,n.j4)(d,{class:(0,l.C_)(["card nopd",a.isPop?"isPop":""]),"tab-list":o.configTab,"active-tab-key":o.configKey,onTabChange:t[2]||(t[2]=e=>i.onTabChange(e,"configKey")),bordered:!1},{tabBarExtraContent:(0,n.w5)((()=>[a.url?((0,n.wg)(),(0,n.j4)(c,{key:0,type:"dashed",onClick:i.getDefaultYamlConfig},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("reset")),1)])),_:1},8,["onClick"])):(0,n.kq)("",!0)])),default:(0,n.w5)((()=>["YAML"==o.configKey?((0,n.wg)(),(0,n.j4)(r,{key:0,height:a.height,"is-readonly":a.isReadonly,value:o.yaml,"onUpdate:value":t[0]||(t[0]=e=>o.yaml=e)},null,8,["height","is-readonly","value"])):(0,n.kq)("",!0),"JSON"==o.configKey?((0,n.wg)(),(0,n.j4)(u,{key:1,height:a.height,"is-readonly":a.isReadonly,"is-json":!0,noreset:!a.isReadonly,value:o.json,"onUpdate:value":t[1]||(t[1]=e=>o.json=e)},null,8,["height","is-readonly","noreset","value"])):(0,n.kq)("",!0)])),_:1},8,["class","tab-list","active-tab-key"])}]])},16822:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var n=a(66252);const l={class:"statusIcon"},s={href:"javascript:void(0)"},o={key:5,class:"icon svg","aria-hidden":"true"},i=["xlink:href"];var r=a(74353),u=a(50320),c=a(70001),d=a(58721),p=a(13868),m={name:"Status",components:{StopOutlined:r.Z,LoadingOutlined:u.Z,CheckCircleFilled:c.Z,CloseCircleFilled:d.Z,WarningFilled:p.Z},props:["d"],i18n:a(89234),data(){return{iconStatus:{running:"success",pending:"pending",success:"success",stop:"stop",failed:"error",Normal:"success",Pending:"pending",Succeeded:"success",Success:"success",Completed:"success",Complete:"success",Running:"success",Warning:"warning",ImagePullBackOff:"error",ErrImagePull:"error","Init: CrashLoopBackOff":"error","Init:Error":"error","Error: ErrImagePull":"error","Back-off restarting failed container":"error"}}},computed:{status(){return this.iconStatus[this.d?this.d.status||(this.d[0]?this.d[0].status:null):"Success"]}}};var h=(0,a(83744).Z)(m,[["render",function(e,t,a,r,u,c){const d=(0,n.up)("LoadingOutlined"),p=(0,n.up)("StopOutlined"),m=(0,n.up)("CloseCircleFilled"),h=(0,n.up)("CheckCircleFilled"),g=(0,n.up)("WarningFilled"),f=(0,n.up)("a-tooltip");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(f,{placement:"topLeft",title:a.d?a.d.message||a.d[0]&&a.d[0].message:""},{default:(0,n.w5)((()=>[(0,n._)("a",s,["pending"==c.status?((0,n.wg)(),(0,n.j4)(d,{key:0,class:"font-18 font-primary svg"})):"stop"==c.status?((0,n.wg)(),(0,n.j4)(p,{key:1,class:"danger font-18 svg"})):"error"==c.status?((0,n.wg)(),(0,n.j4)(m,{key:2,class:"danger font-18 svg"})):"success"==c.status?((0,n.wg)(),(0,n.j4)(h,{key:3,class:"font-18 success svg"})):"warning"==c.status?((0,n.wg)(),(0,n.j4)(g,{key:4,class:"font-18 svg warning"})):((0,n.wg)(),(0,n.iD)("svg",o,[(0,n._)("use",{"xlink:href":c.status},null,8,i)]))])])),_:1},8,["title"])])}],["__scopeId","data-v-5c100524"]])},48271:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var n=a(66252),l=a(3577);const s={key:0},o=["onClick"],i={key:1},r={key:1},u=["onClick"],c={key:1},d={key:0},p={key:7},m=["onClick"],h={class:"flex"},g={class:"flex-item"},f={class:"width-200"},y={class:"flex-item"};a(57658);var w=a(96486),v=a.n(w),k=a(88302),b=a(2692),C=a(99684),S=a(44107),W=a(79332),_=a(60459),$=a(16822),j=a(33907);const O=[{key:"as",dataIndex:"name"},{key:"Mesh Config",dataIndex:"configName"},{key:"Namespace",dataIndex:"namespaceName"},{key:"Bootstrap",dataIndex:"status.bootstrap"},{key:"Controller",dataIndex:"status.controller"},{key:"Injector",dataIndex:"status.injector"},{key:"MCS",dataIndex:"status.mcs"},{key:"updTime",dataIndex:"creationTimestamp"},{key:"Action",width:130,dataIndex:"action"}];var I={name:"Mesh",components:{ExclamationCircleOutlined:k.Z,Json2YamlCard:S.Z,EnvSelector:_.Z,FormItem:W.Z,MoreOutlined:b.Z,PlusCircleTwoTone:C.Z,Status:$.Z},i18n:a(89234),data(){return{isEdit:!1,pageNo:1,pageSize:10,total:0,key:"",editorIsCreate:!0,columns:O,env:null,activeKey2:"Primary",json:"{}",loading:!0,namespace:null,list:[],metricsEnable:!0,visible:!1,payload:{name:"flomesh",timeout:300,mcsEnable:!0,namespace:null,atomic:!0,enforceSingleMesh:!0,options:null}}},computed:{...(0,j.rn)("rules",["rules"]),dataColumns(){return this.columns.map((e=>(e.title=this.$t(e.key),e)))},start(){return(this.pageNo-1)*this.pageSize}},watch:{},created(){this.search()},methods:{mcsEnableChange(){this.payload.mcsEnable&&(this.payload.enforceSingleMesh=!0)},envChange(e){this.env=e,this.payload.namespace=e.namespaceId},tabsChange(){"Options"==this.activeKey2&&this.setOptions()},setOptions(){this.payload.options.osm.deployGrafana=this.payload.options.osm.deployPrometheus;let e=v().cloneDeep(this.payload.options);this.json=JSON.stringify(e)},yamlchange(){let e=JSON.parse(this.json);this.payload.options=e},add(){this.payload={name:"flomesh",timeout:300,namespace:"",mcsEnable:!0,atomic:!0,enforceSingleMesh:!0,options:this.payload.options},this.showModal()},showModal(){this.visible=!0},valid(){this.$refs.form.validateFields().then((()=>{this.handleOk()})).catch((()=>{}))},handleOk(){this.setOptions();let e=v().cloneDeep(this.payload);delete e.tracingBYO;let t=e.options;delete e.options,this.install(e,t)},install(e,t){t.osm.meshName=e.name,this.$gql.mutation("createMesh(data: $data){data{id}}",{data:{name:e.name,namespace:e.namespace,atomic:e.atomic,mcsEnable:e.mcsEnable,enforceSingleMesh:e.enforceSingleMesh,options:t}},{data:"MeshInput!"}).then((()=>{this.visible=!1,this.$message.success(this.$t("Created successfully"),3),this.search()}))},remove(e){this.$gql.mutation(`deleteMesh(id:${e}){data{id}}`).then((()=>{this.$message.success(this.$t("Deleted successfully"),3),this.search()}))},detail(e){this.$router.push({path:`/fsm/mesh/detail/${e}`})},search(e,t){e&&(this.pageNo=e,this.pageSize=t);let a={start:this.start,limit:this.pageSize};this.loading=!0;let n={name:{contains:this.key}};this.$gql.query("meshes(filters: $filters, pagination: $pagination){\n\t\t\t\t\t\tdata{id,attributes{\n\t\t\t\t\t\t\tconfig,\n\t\t\t\t\t\t\tosmMessage,\n\t\t\t\t\t\t\tfsmMessage,\n\t\t\t\t\t\t\tnamespace{data{id,attributes{\n\t\t\t\t\t\t\t\tregistry{data{id,attributes{name}}},\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t}}},\n\t\t\t\t\t\t\tstatus,\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tbindNamespaces{data{id,attributes{name}}},\n\t\t\t\t\t\t\tcreatedAt\n\t\t\t\t\t\t}},\n\t\t\t\t\t\tmeta{pagination{total}}\n\t\t\t\t\t}",{filters:n,pagination:a},{filters:"MeshFiltersInput",pagination:"PaginationArg"}).then((e=>{this.list=this.reset(e.data),this.total=e.pagination.total,this.loading=!1}))},reset(e){if(!e)return[];for(let t=0;t<e.length;t++)e[t].configName=e[t].config?.metadata.name,e[t].namespaceName=e[t].namespace?e[t].namespace?.registry?.name+"/"+e[t].namespace?.name:"",e[t].creationTimestamp=new Date(e[t].createdAt).toLocaleString(),e[t].t=e[t].status;return e}}};var E=(0,a(83744).Z)(I,[["render",function(e,t,a,w,v,k){const b=(0,n.up)("a-input-search"),C=(0,n.up)("a-divider"),S=(0,n.up)("PlusCircleTwoTone"),W=(0,n.up)("a-button"),_=(0,n.up)("Status"),$=(0,n.up)("a-tag"),j=(0,n.up)("a-menu-item"),O=(0,n.up)("a-popconfirm"),I=(0,n.up)("a-menu"),E=(0,n.up)("MoreOutlined"),U=(0,n.up)("a-dropdown"),x=(0,n.up)("a-table"),M=(0,n.up)("a-card"),z=(0,n.up)("a-input"),N=(0,n.up)("a-typography-paragraph"),P=(0,n.up)("FormItem"),D=(0,n.up)("a-descriptions-item"),T=(0,n.up)("EnvSelector"),J=(0,n.up)("a-checkbox"),Y=(0,n.up)("ExclamationCircleOutlined"),q=(0,n.up)("a-tooltip"),A=(0,n.up)("a-input-number"),Z=(0,n.up)("a-switch"),F=(0,n.up)("a-descriptions"),K=(0,n.up)("a-form"),L=(0,n.up)("a-tab-pane"),B=(0,n.up)("a-tabs"),R=(0,n.up)("Json2YamlCard"),V=(0,n.up)("a-modal"),H=(0,n.Q2)("permission");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(M,{class:"card nopd",loading:v.loading},{title:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("Meshes")),1)])),extra:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(b,{value:v.key,"onUpdate:value":t[0]||(t[0]=e=>v.key=e),onSearch:t[1]||(t[1]=e=>k.search()),class:"right-search-input",placeholder:e.$t("search")},null,8,["value","placeholder"]),(0,n.wy)((0,n.Wm)(C,{type:"vertical"},null,512),[[H,["mesh:create"]]]),(0,n.wy)(((0,n.wg)(),(0,n.j4)(W,{type:"link",shape:"circle",onClick:k.add},{icon:(0,n.w5)((()=>[(0,n.Wm)(S,{class:"font-20 icon-menu-sm rotate-icon"})])),_:1},8,["onClick"])),[[H,["mesh:create"]]])])])),default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(x,{pagination:{showSizeChanger:!1,showQuickJumper:!1,onShowSizeChange:k.search,onChange:k.search,current:v.pageNo,pageSize:v.pageSize,showTotal:(t,a)=>`${e.$t("Total")} ${t}`,total:v.total},columns:k.dataColumns,"data-source":v.list,class:"bg-white"},{bodyCell:(0,n.w5)((({column:t,record:a})=>["meshName"===t.dataIndex?((0,n.wg)(),(0,n.iD)("div",s,["running"==a.status.bootstrap&&"running"==a.status.controller&&"running"==a.status.injector?((0,n.wg)(),(0,n.iD)("a",{key:0,href:"javascript:void(0)",onClick:e=>k.detail(a.id)},(0,l.zw)(a.meshName),9,o)):((0,n.wg)(),(0,n.iD)("span",i,(0,l.zw)(a.meshName),1))])):"name"===t.dataIndex?((0,n.wg)(),(0,n.iD)("div",r,["running"==a.status.bootstrap&&"running"==a.status.controller&&"running"==a.status.injector?((0,n.wg)(),(0,n.iD)("a",{key:0,href:"javascript:void(0)",onClick:e=>k.detail(a.id)},(0,l.zw)(a.name),9,u)):((0,n.wg)(),(0,n.iD)("span",c,(0,l.zw)(a.name),1))])):"status.bootstrap"===t.dataIndex?((0,n.wg)(),(0,n.j4)(_,{key:2,d:{status:a.status.bootstrap,message:a.osmMessage}},null,8,["d"])):"status.controller"===t.dataIndex?((0,n.wg)(),(0,n.j4)(_,{key:3,d:{status:a.status.controller,message:a.osmMessage}},null,8,["d"])):"status.injector"===t.dataIndex?((0,n.wg)(),(0,n.j4)(_,{key:4,d:{status:a.status.injector,message:a.osmMessage}},null,8,["d"])):"status.mcs"===t.dataIndex?((0,n.wg)(),(0,n.j4)(_,{key:5,d:{status:a.status.mcs,message:a.fsmMessage}},null,8,["d"])):"virtualServices"===t.dataIndex?((0,n.wg)(),(0,n.iD)(n.HY,{key:6},[a.virtualServices?((0,n.wg)(),(0,n.iD)("div",d,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.virtualServices,((e,t)=>((0,n.wg)(),(0,n.j4)($,{color:e.isSrcService?"blue":"default",key:t,closable:!1},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.registry?.name),1)])),_:2},1032,["color"])))),128))])):(0,n.kq)("",!0)],64)):"action"===t.dataIndex?((0,n.wg)(),(0,n.iD)("div",p,[(0,n.Wm)(U,null,{overlay:(0,n.w5)((()=>[(0,n.Wm)(I,null,{default:(0,n.w5)((()=>["running"==a.status.bootstrap&&"running"==a.status.controller&&"running"==a.status.injector?((0,n.wg)(),(0,n.j4)(j,{key:0},{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.iD)("a",{onClick:e=>k.detail(a.id)},[(0,n.Uk)((0,l.zw)(e.$t("edit")),1)],8,m)),[[H,["mesh:update"]]])])),_:2},1024)):(0,n.kq)("",!0),(0,n.Wm)(j,null,{default:(0,n.w5)((()=>[(0,n.Wm)(O,{placement:"topLeft","ok-text":e.$t("Yes"),"cancel-text":e.$t("No"),onConfirm:e=>k.remove(a.id)},{title:(0,n.w5)((()=>[(0,n._)("p",null,(0,l.zw)(e.$t("Tip")),1),(0,n._)("p",null,(0,l.zw)(e.$t("Are you sure to delete this?")),1)])),default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.iD)("a",null,[(0,n.Uk)((0,l.zw)(e.$t("Uninstall")),1)])),[[H,["mesh:delete"]]])])),_:2},1032,["ok-text","cancel-text","onConfirm"])])),_:2},1024)])),_:2},1024)])),default:(0,n.w5)((()=>[(0,n._)("a",null,[(0,n.Wm)(E)])])),_:2},1024)])):(0,n.kq)("",!0)])),_:1},8,["pagination","columns","data-source"])])])),_:1},8,["loading"]),(0,n.Wm)(V,{visible:v.visible,"onUpdate:visible":t[20]||(t[20]=e=>v.visible=e),title:e.$t("Flomesh Install"),onOk:k.valid,width:"80%","ok-text":e.$t("Install"),"cancel-text":e.$t("cancel")},{default:(0,n.w5)((()=>[(0,n.Wm)(B,{type:"card",activeKey:v.activeKey2,"onUpdate:activeKey":t[18]||(t[18]=e=>v.activeKey2=e),onChange:k.tabsChange},{default:(0,n.w5)((()=>[(0,n.Wm)(L,{key:"Primary",tab:e.$t("Primary")},{default:(0,n.w5)((()=>[v.payload.options&&v.payload.options.osm?((0,n.wg)(),(0,n.j4)(K,{key:0,model:v.payload,"wrapper-col":{span:24},ref:"form"},{default:(0,n.w5)((()=>[(0,n.Wm)(F,{bordered:"","label-style":{width:"280px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(D,{span:3},{label:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("as")),1)])),default:(0,n.w5)((()=>[(0,n.Wm)(P,{name:"name",rules:e.rules.name},{default:(0,n.w5)((()=>[(0,n.Wm)(z,{placeholder:e.$t("unset"),value:v.payload.name,"onUpdate:value":t[2]||(t[2]=e=>v.payload.name=e)},null,8,["placeholder","value"]),(0,n.Wm)(N,null,{default:(0,n.w5)((()=>[(0,n._)("blockquote",null,(0,l.zw)(e.$t("Name for the mesh control plane instance (Default: flomesh)")),1)])),_:1})])),_:1},8,["rules"])])),_:1}),(0,n.Wm)(D,{label:e.$t("Namespace"),span:2},{default:(0,n.w5)((()=>[(0,n.Wm)(T,{type:"k8s","is-filter":!0,"no-all":!0,onEnvChange:k.envChange},null,8,["onEnvChange"]),(0,n.Wm)(J,{onChange:k.mcsEnableChange,checked:v.payload.mcsEnable,"onUpdate:checked":t[3]||(t[3]=e=>v.payload.mcsEnable=e)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("Enable Multi-cluster Support")),1)])),_:1},8,["onChange","checked"])])),_:1},8,["label"]),(0,n.Wm)(D,{span:1},{label:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("Timeout(s)"))+" ",1),(0,n.Wm)(q,{title:e.$t("Time to wait for installation and resources in a ready state, zero means no timeout (Default: 5*time.Minute)")},{default:(0,n.w5)((()=>[(0,n.Wm)(Y,{class:"font-primary"})])),_:1},8,["title"])])),default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(A,{class:"width-150",min:0,placeholder:e.$t("unset"),value:v.payload.timeout,"onUpdate:value":t[4]||(t[4]=e=>v.payload.timeout=e)},null,8,["placeholder","value"])])),_:1})])),_:1}),(0,n.Wm)(D,{span:3},{label:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("Replica Count")),1)])),default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(A,{class:"width-150",min:0,placeholder:e.$t("unset"),value:v.payload.options.osm.osmController.replicaCount,"onUpdate:value":t[5]||(t[5]=e=>v.payload.options.osm.osmController.replicaCount=e)},null,8,["placeholder","value"])])),_:1})])),_:1}),(0,n.Wm)(D,{span:2},{label:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("CPU Requests")),1)])),default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(z,{class:"width-150",min:0,placeholder:e.$t("unset"),value:v.payload.options.osm.osmController.resource.requests.cpu,"onUpdate:value":t[6]||(t[6]=e=>v.payload.options.osm.osmController.resource.requests.cpu=e)},null,8,["placeholder","value"])])),_:1})])),_:1}),(0,n.Wm)(D,{span:1},{label:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("CPU Limits")),1)])),default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(z,{class:"width-150",min:0,placeholder:e.$t("unset"),value:v.payload.options.osm.osmController.resource.limits.cpu,"onUpdate:value":t[7]||(t[7]=e=>v.payload.options.osm.osmController.resource.limits.cpu=e)},null,8,["placeholder","value"])])),_:1})])),_:1}),(0,n.Wm)(D,{span:2},{label:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("Memory Requests")),1)])),default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(z,{class:"width-150",placeholder:e.$t("unset"),value:v.payload.options.osm.osmController.resource.requests.memory,"onUpdate:value":t[8]||(t[8]=e=>v.payload.options.osm.osmController.resource.requests.memory=e)},null,8,["placeholder","value"])])),_:1})])),_:1}),(0,n.Wm)(D,{span:1},{label:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("Memory Limits")),1)])),default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(z,{class:"width-150",placeholder:e.$t("unset"),value:v.payload.options.osm.osmController.resource.limits.memory,"onUpdate:value":t[9]||(t[9]=e=>v.payload.options.osm.osmController.resource.limits.memory=e)},null,8,["placeholder","value"])])),_:1})])),_:1}),(0,n.Wm)(D,{span:v.payload.options.osm.tracing.enable?2:3},{label:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("Enable Tracing"))+" ",1),(0,n.Wm)(q,{title:e.$t("OSM allows optional deployment of Jaegar for tracing and configured via BYO scenario")},{default:(0,n.w5)((()=>[(0,n.Wm)(Y,{class:"font-primary"})])),_:1},8,["title"])])),default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Z,{checked:v.payload.options.osm.tracing.enable,"onUpdate:checked":t[10]||(t[10]=e=>v.payload.options.osm.tracing.enable=e)},null,8,["checked"])])),_:1})])),_:1},8,["span"]),v.payload.options.osm.tracing.enable?((0,n.wg)(),(0,n.j4)(D,{key:0,span:1},{label:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("Automatic Installation Tracing"))+" ",1),(0,n.Wm)(q,{title:e.$t("Steps needed to allow an already running instance of Jaeger to integrate with your OSM control plane")},{default:(0,n.w5)((()=>[(0,n.Wm)(Y,{class:"font-primary"})])),_:1},8,["title"])])),default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Z,{checked:v.payload.options.osm.deployJaeger,"onUpdate:checked":t[11]||(t[11]=e=>v.payload.options.osm.deployJaeger=e)},null,8,["checked"])])),_:1})])),_:1})):(0,n.kq)("",!0),v.payload.options.osm.tracing.enable&&!v.payload.options.osm.deployJaeger?((0,n.wg)(),(0,n.j4)(D,{key:1,span:3},{label:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("Bring Your Own Tracing (BYO)")),1)])),default:(0,n.w5)((()=>[(0,n._)("div",h,[(0,n._)("div",g,[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(z,{placeholder:e.$t("Address"),value:v.payload.options.osm.tracing.address,"onUpdate:value":t[12]||(t[12]=e=>v.payload.options.osm.tracing.address=e)},null,8,["placeholder","value"])])),_:1})]),(0,n._)("div",f,[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(z,{placeholder:e.$t("Port"),value:v.payload.options.osm.tracing.port,"onUpdate:value":t[13]||(t[13]=e=>v.payload.options.osm.tracing.port=e)},null,8,["placeholder","value"])])),_:1})]),(0,n._)("div",y,[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(z,{placeholder:e.$t("Endpoint"),value:v.payload.options.osm.tracing.endpoint,"onUpdate:value":t[14]||(t[14]=e=>v.payload.options.osm.tracing.endpoint=e)},null,8,["placeholder","value"])])),_:1})])])])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(D,{span:3},{label:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("Auto Install Metrics Server"))+" ",1),(0,n.Wm)(q,{title:e.$t("Steps needed to allow an already running Prometheus instance to poll the endpoints of an OSM mesh")},{default:(0,n.w5)((()=>[(0,n.Wm)(Y,{class:"font-primary"})])),_:1},8,["title"])])),default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Z,{checked:v.payload.options.osm.deployPrometheus,"onUpdate:checked":t[15]||(t[15]=e=>v.payload.options.osm.deployPrometheus=e)},null,8,["checked"])])),_:1})])),_:1}),(0,n.Wm)(D,{span:1},{label:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("Auto Purge Failed Attempts"))+" ",1),(0,n.Wm)(q,{title:e.$t("Check this option, if you need to have resources auto cleaned up after failed installation attempt")},{default:(0,n.w5)((()=>[(0,n.Wm)(Y,{class:"font-primary"})])),_:1},8,["title"])])),default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Z,{checked:v.payload.atomic,"onUpdate:checked":t[16]||(t[16]=e=>v.payload.atomic=e)},null,8,["checked"])])),_:1})])),_:1}),(0,n.Wm)(D,{span:1},{label:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(e.$t("Enforce Single Mesh"))+" ",1),(0,n.Wm)(q,{title:e.$t("Check this option, if you need to enforce only one mesh in the cluster. Once enabled, attempt to install another mesh will trigger error")},{default:(0,n.w5)((()=>[(0,n.Wm)(Y,{class:"font-primary"})])),_:1},8,["title"])])),default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Z,{disabled:v.payload.mcsEnable,checked:v.payload.enforceSingleMesh,"onUpdate:checked":t[17]||(t[17]=e=>v.payload.enforceSingleMesh=e)},null,8,["disabled","checked"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])):(0,n.kq)("",!0)])),_:1},8,["tab"]),(0,n.Wm)(L,{key:"Options",tab:e.$t("Options")},null,8,["tab"])])),_:1},8,["activeKey","onChange"]),(0,n._)("div",{class:(0,l.C_)("Options"==v.activeKey2?"":"hide-editor")},[(0,n.Wm)(R,{class:"mb-20","is-create":v.editorIsCreate,jsonVal:v.json,"onUpdate:jsonVal":t[19]||(t[19]=e=>v.json=e),onChange:k.yamlchange,url:"meshconfig.yaml"},null,8,["is-create","jsonVal","onChange"])],2)])),_:1},8,["visible","title","onOk","ok-text","cancel-text"])],64)}],["__scopeId","data-v-3eece98b"]])}}]);